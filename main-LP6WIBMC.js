var SI=Object.defineProperty,TI=Object.defineProperties;var MI=Object.getOwnPropertyDescriptors;var Xo=Object.getOwnPropertySymbols;var Vg=Object.prototype.hasOwnProperty,jg=Object.prototype.propertyIsEnumerable;var Lg=(t,e,n)=>e in t?SI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})Vg.call(e,n)&&Lg(t,n,e[n]);if(Xo)for(var n of Xo(e))jg.call(e,n)&&Lg(t,n,e[n]);return t},J=(t,e)=>TI(t,MI(e));var Jo=(t,e)=>{var n={};for(var r in t)Vg.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Xo)for(var r of Xo(t))e.indexOf(r)<0&&jg.call(t,r)&&(n[r]=t[r]);return n};var A=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(c){i(c)}},o=l=>{try{a(n.throw(l))}catch(c){i(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});function Bg(t,e){return Object.is(t,e)}var xe=null,ea=!1,ta=1,On=Symbol("SIGNAL");function Oe(t){let e=xe;return xe=t,e}var ra={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Eu(t){if(ea)throw new Error("");if(xe===null)return;xe.consumerOnSignalRead(t);let e=xe.nextProducerIndex++;if(ii(xe),e<xe.producerNode.length&&xe.producerNode[e]!==t&&ds(xe)){let n=xe.producerNode[e];ia(n,xe.producerIndexOfThis[e])}xe.producerNode[e]!==t&&(xe.producerNode[e]=t,xe.producerIndexOfThis[e]=ds(xe)?Wg(t,xe,e):0),xe.producerLastReadVersion[e]=t.version}function AI(){ta++}function Ug(t){if(!(ds(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ta)){if(!t.producerMustRecompute(t)&&!bu(t)){t.dirty=!1,t.lastCleanEpoch=ta;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ta}}function $g(t){if(t.liveConsumerNode===void 0)return;let e=ea;ea=!0;try{for(let n of t.liveConsumerNode)n.dirty||xI(n)}finally{ea=e}}function Hg(){return xe?.consumerAllowSignalWrites!==!1}function xI(t){t.dirty=!0,$g(t),t.consumerMarkedDirty?.(t)}function Cu(t){return t&&(t.nextProducerIndex=0),Oe(t)}function Du(t,e){if(Oe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ds(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ia(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bu(t){ii(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Ug(n),r!==n.version))return!0}return!1}function zg(t){if(ii(t),ds(t))for(let e=0;e<t.producerNode.length;e++)ia(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Wg(t,e,n){if(Gg(t),ii(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Wg(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ia(t,e){if(Gg(t),ii(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ia(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ii(i),i.producerIndexOfThis[r]=e}}function ds(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ii(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Gg(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function qg(t){let e=Object.create(NI);e.computation=t;let n=()=>{if(Ug(e),Eu(e),e.value===na)throw e.error;return e.value};return n[On]=e,n}var _u=Symbol("UNSET"),wu=Symbol("COMPUTING"),na=Symbol("ERRORED"),NI=J(E({},ra),{value:_u,dirty:!0,error:null,equal:Bg,producerMustRecompute(t){return t.value===_u||t.value===wu},producerRecomputeValue(t){if(t.value===wu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=wu;let n=Cu(t),r;try{r=t.computation()}catch(i){r=na,t.error=i}finally{Du(t,n)}if(e!==_u&&e!==na&&r!==na&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function RI(){throw new Error}var Kg=RI;function Qg(){Kg()}function Yg(t){Kg=t}var PI=null;function Zg(t){let e=Object.create(Jg);e.value=t;let n=()=>(Eu(e),e.value);return n[On]=e,n}function Iu(t,e){Hg()||Qg(),t.equal(t.value,e)||(t.value=e,OI(t))}function Xg(t,e){Hg()||Qg(),Iu(t,e(t.value))}var Jg=J(E({},ra),{equal:Bg,value:void 0});function OI(t){t.version++,AI(),$g(t),PI?.()}function O(t){return typeof t=="function"}function si(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var sa=si(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var be=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(s){e=s instanceof sa?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ey(s)}catch(o){e=e??[],o instanceof sa?e=[...e,...o.errors]:e.push(o)}}if(e)throw new sa(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ey(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fs(n,e)}remove(e){let{_finalizers:n}=this;n&&fs(n,e),e instanceof t&&e._removeParent(this)}};be.EMPTY=(()=>{let t=new be;return t.closed=!0,t})();var Su=be.EMPTY;function oa(t){return t instanceof be||t&&"closed"in t&&O(t.remove)&&O(t.add)&&O(t.unsubscribe)}function ey(t){O(t)?t():t.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var oi={setTimeout(t,e,...n){let{delegate:r}=oi;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=oi;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function aa(t){oi.setTimeout(()=>{let{onUnhandledError:e}=Rt;if(e)e(t);else throw t})}function hs(){}var ty=Tu("C",void 0,void 0);function ny(t){return Tu("E",void 0,t)}function ry(t){return Tu("N",t,void 0)}function Tu(t,e,n){return{kind:t,value:e,error:n}}var lr=null;function ai(t){if(Rt.useDeprecatedSynchronousErrorHandling){let e=!lr;if(e&&(lr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=lr;if(lr=null,n)throw r}}else t()}function iy(t){Rt.useDeprecatedSynchronousErrorHandling&&lr&&(lr.errorThrown=!0,lr.error=t)}var cr=class extends be{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,oa(e)&&e.add(this)):this.destination=LI}static create(e,n,r){return new li(e,n,r)}next(e){this.isStopped?Au(ry(e),this):this._next(e)}error(e){this.isStopped?Au(ny(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Au(ty,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},FI=Function.prototype.bind;function Mu(t,e){return FI.call(t,e)}var xu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){la(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){la(r)}else la(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){la(n)}}},li=class extends cr{constructor(e,n,r){super();let i;if(O(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Rt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Mu(e.next,s),error:e.error&&Mu(e.error,s),complete:e.complete&&Mu(e.complete,s)}):i=e}this.destination=new xu(i)}};function la(t){Rt.useDeprecatedSynchronousErrorHandling?iy(t):aa(t)}function kI(t){throw t}function Au(t,e){let{onStoppedNotification:n}=Rt;n&&oi.setTimeout(()=>n(t,e))}var LI={closed:!0,next:hs,error:kI,complete:hs};var ci=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ft(t){return t}function Nu(...t){return Ru(t)}function Ru(t){return t.length===0?ft:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=jI(n)?n:new li(n,r,i);return ai(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=sy(r),new r((i,s)=>{let o=new li({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ci](){return this}pipe(...n){return Ru(n)(this)}toPromise(n){return n=sy(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function sy(t){var e;return(e=t??Rt.Promise)!==null&&e!==void 0?e:Promise}function VI(t){return t&&O(t.next)&&O(t.error)&&O(t.complete)}function jI(t){return t&&t instanceof cr||VI(t)&&oa(t)}function Pu(t){return O(t?.lift)}function Q(t){return e=>{if(Pu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new Ou(t,e,n,r,i)}var Ou=class extends cr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ui(){return Q((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var di=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new be;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=be.EMPTY)}return e}refCount(){return ui()(this)}};var oy=si(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ca(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new oy}next(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ai(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Su:(this.currentObservers=null,s.push(n),new be(()=>{this.currentObservers=null,fs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new ca(e,n),t})(),ca=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Su}};var Fe=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ct=new ee(t=>t.complete());function ay(t){return t&&O(t.schedule)}function ly(t){return t[t.length-1]}function ua(t){return O(ly(t))?t.pop():void 0}function Fn(t){return ay(ly(t))?t.pop():void 0}function uy(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function cy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ur(t){return this instanceof ur?(this.v=t,this):new ur(t)}function dy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(h){return new Promise(function(p,m){s.push([f,h,p,m])>1||a(f,h)})})}function a(f,h){try{l(r[f](h))}catch(p){d(s[0][3],p)}}function l(f){f.value instanceof ur?Promise.resolve(f.value.v).then(c,u):d(s[0][2],f)}function c(f){a("next",f)}function u(f){a("throw",f)}function d(f,h){f(h),s.shift(),s.length&&a(s[0][0],s[0][1])}}function fy(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof cy=="function"?cy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var da=t=>t&&typeof t.length=="number"&&typeof t!="function";function fa(t){return O(t?.then)}function ha(t){return O(t[ci])}function pa(t){return Symbol.asyncIterator&&O(t?.[Symbol.asyncIterator])}function ma(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function BI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ga=BI();function ya(t){return O(t?.[ga])}function va(t){return dy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ur(n.read());if(i)return yield ur(void 0);yield yield ur(r)}}finally{n.releaseLock()}})}function _a(t){return O(t?.getReader)}function we(t){if(t instanceof ee)return t;if(t!=null){if(ha(t))return UI(t);if(da(t))return $I(t);if(fa(t))return HI(t);if(pa(t))return hy(t);if(ya(t))return zI(t);if(_a(t))return WI(t)}throw ma(t)}function UI(t){return new ee(e=>{let n=t[ci]();if(O(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function $I(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function HI(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,aa)})}function zI(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function hy(t){return new ee(e=>{GI(t,e).catch(n=>e.error(n))})}function WI(t){return hy(va(t))}function GI(t,e){var n,r,i,s;return uy(this,void 0,void 0,function*(){try{for(n=fy(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function wa(t,e=0){return Q((n,r)=>{n.subscribe(W(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function Ea(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function py(t,e){return we(t).pipe(Ea(e),wa(e))}function my(t,e){return we(t).pipe(Ea(e),wa(e))}function gy(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function yy(t,e){return new ee(n=>{let r;return rt(n,e,()=>{r=t[ga](),rt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>O(r?.return)&&r.return()})}function Ca(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function vy(t,e){return Ca(va(t),e)}function _y(t,e){if(t!=null){if(ha(t))return py(t,e);if(da(t))return gy(t,e);if(fa(t))return my(t,e);if(pa(t))return Ca(t,e);if(ya(t))return yy(t,e);if(_a(t))return vy(t,e)}throw ma(t)}function pe(t,e){return e?_y(t,e):we(t)}function N(...t){let e=Fn(t);return pe(t,e)}function fi(t,e){let n=O(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Fu(t){return!!t&&(t instanceof ee||O(t.lift)&&O(t.subscribe))}var un=si(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:qI}=Array;function KI(t,e){return qI(e)?t(...e):t(e)}function Da(t){return z(e=>KI(t,e))}var{isArray:QI}=Array,{getPrototypeOf:YI,prototype:ZI,keys:XI}=Object;function ba(t){if(t.length===1){let e=t[0];if(QI(e))return{args:e,keys:null};if(JI(e)){let n=XI(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function JI(t){return t&&typeof t=="object"&&YI(t)===ZI}function Ia(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Sa(...t){let e=Fn(t),n=ua(t),{args:r,keys:i}=ba(t);if(r.length===0)return pe([],e);let s=new ee(eS(r,e,i?o=>Ia(i,o):ft));return n?s.pipe(Da(n)):s}function eS(t,e,n=ft){return r=>{wy(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)wy(e,()=>{let c=pe(t[l],e),u=!1;c.subscribe(W(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function wy(t,e,n){t?rt(n,t,e):e()}function Ey(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,f=()=>{d&&!l.length&&!c&&e.complete()},h=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let C=!1;we(n(m,u++)).subscribe(W(e,D=>{i?.(D),s?h(D):e.next(D)},()=>{C=!0},void 0,()=>{if(C)try{for(c--;l.length&&c<r;){let D=l.shift();o?rt(e,o,()=>p(D)):p(D)}f()}catch(D){e.error(D)}}))};return t.subscribe(W(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Ie(t,e,n=1/0){return O(e)?Ie((r,i)=>z((s,o)=>e(r,s,i,o))(we(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>Ey(r,i,t,n)))}function hi(t=1/0){return Ie(ft,t)}function Cy(){return hi(1)}function pi(...t){return Cy()(pe(t,Fn(t)))}function Ta(t){return new ee(e=>{we(t()).subscribe(e)})}function ku(...t){let e=ua(t),{args:n,keys:r}=ba(t),i=new ee(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;we(n[u]).subscribe(W(s,f=>{d||(d=!0,c--),a[u]=f},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?Ia(r,a):a),s.complete())}))}});return e?i.pipe(Da(e)):i}function Ke(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function kn(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=we(t(o,kn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Dy(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(W(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function dr(t,e){return O(e)?Ie(t,e,1):Ie(t,1)}function Ln(t){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function dn(t){return t<=0?()=>Ct:Q((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Lu(t){return z(()=>t)}function Ma(t=tS){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function tS(){return new un}function mi(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Pt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ke((i,s)=>t(i,s,r)):ft,dn(1),n?Ln(e):Ma(()=>new un))}function gi(t){return t<=0?()=>Ct:Q((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vu(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ke((i,s)=>t(i,s,r)):ft,gi(1),n?Ln(e):Ma(()=>new un))}function ju(t,e){return Q(Dy(t,e,arguments.length>=2,!0))}function Bu(...t){let e=Fn(t);return Q((n,r)=>{(e?pi(t,n,e):pi(t,n)).subscribe(r)})}function Dt(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,l=>{i?.unsubscribe();let c=0,u=s++;we(t(l,u)).subscribe(i=W(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Uu(t){return Q((e,n)=>{we(t).subscribe(W(n,()=>n.complete(),hs)),!n.closed&&e.subscribe(n)})}function Ee(t,e,n){let r=O(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ft}var av="https://g.co/ng/security#xss",y=class extends Error{constructor(e,n){super(cl(e,n)),this.code=e}};function cl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var od=class extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=$u(s),i&&(i=$u(i)),o&&(o=$u(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof be&&e.add(a),a}};function $u(t){return e=>{setTimeout(t,void 0,e)}}var Ce=od;var j=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(j||{});function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function by(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var lv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(lv||{}),Xt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Xt||{});function ul(t){return{toString:t}.toString()}var fr=globalThis;var Ei={},ht=[];function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function nS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var rS=ae({\u0275cmp:ae}),iS=ae({\u0275dir:ae}),sS=ae({\u0275pipe:ae}),oS=ae({\u0275mod:ae}),Ua=ae({\u0275fac:ae}),ps=ae({__NG_ELEMENT_ID__:ae}),Iy=ae({__NG_ENV_ID__:ae}),Le=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Le||{});function cv(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ad(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];aS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function uv(t){return t===3||t===4||t===6}function aS(t){return t.charCodeAt(0)===64}function ys(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sy(t,n,i,null,e[++r]):Sy(t,n,i,null,null))}}return t}function Sy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var dv="ng-template";function lS(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&cv(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function fv(t){return t.type===4&&t.value!==dv}function cS(t,e,n){let r=t.type===4&&!n?dv:t.value;return e===r}function uS(t,e,n){let r=4,i=t.attrs||[],s=hS(i),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Ot(r)&&!Ot(l))return!1;if(o&&Ot(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!cS(t,l,n)||l===""&&e.length===1){if(Ot(r))return!1;o=!0}}else{let c=r&8?l:e[++a];if(r&8&&t.attrs!==null){if(!lS(t.attrs,c,n)){if(Ot(r))return!1;o=!0}continue}let u=r&8?"class":l,d=dS(u,i,fv(t),n);if(d===-1){if(Ot(r))return!1;o=!0;continue}if(c!==""){let f;d>s?f="":f=i[d+1].toLowerCase();let h=r&8?f:null;if(h&&cv(h,c,0)!==-1||r&2&&c!==f){if(Ot(r))return!1;o=!0}}}}return Ot(r)||o}function Ot(t){return(t&1)===0}function dS(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return pS(e,t)}function hv(t,e,n=!1){for(let r=0;r<e.length;r++)if(uS(t,e[r],n))return!0;return!1}function fS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function hS(t){for(let e=0;e<t.length;e++){let n=t[e];if(uv(n))return e}return t.length}function pS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function mS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function Ty(t,e){return t?":not("+e.trim()+")":e}function gS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Ot(o)&&(e+=Ty(s,i),i=""),r=o,s=s||!Ot(r);n++}return i!==""&&(e+=Ty(s,i)),e}function yS(t){return t.map(gS).join(",")}function vS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Ot(i))break;i=s}r++}return{attrs:e,classes:n}}function te(t){return ul(()=>{let e=vv(t),n=J(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===lv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Xt.Emulated,styles:t.styles||ht,_:null,schemas:t.schemas||null,tView:null,id:""});_v(n);let r=t.dependencies;return n.directiveDefs=Ay(r,!1),n.pipeDefs=Ay(r,!0),n.id=ES(n),n})}function _S(t){return pr(t)||pv(t)}function wS(t){return t!==null}function Un(t){return ul(()=>({type:t.type,bootstrap:t.bootstrap||ht,declarations:t.declarations||ht,imports:t.imports||ht,exports:t.exports||ht,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function My(t,e){if(t==null)return Ei;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Le.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Le.None?[r,a]:r,e[s]=o):n[s]=r}return n}function ze(t){return ul(()=>{let e=vv(t);return _v(e),e})}function Jd(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function pr(t){return t[rS]||null}function pv(t){return t[iS]||null}function mv(t){return t[sS]||null}function gv(t){let e=pr(t)||pv(t)||mv(t);return e!==null?e.standalone:!1}function yv(t,e){let n=t[oS]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function vv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ei,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ht,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:My(t.inputs,e),outputs:My(t.outputs),debugInfo:null}}function _v(t){t.features?.forEach(e=>e(t))}function Ay(t,e){if(!t)return null;let n=e?mv:_S;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(wS)}function ES(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var pt=0,R=1,x=2,Ne=3,Ft=4,mt=5,kt=6,vs=7,He=8,Ci=9,hn=10,ge=11,_s=12,xy=13,Si=14,ot=15,Ps=16,yi=17,pn=18,dl=19,wv=20,ms=21,Hu=22,mr=23,Se=25,Ev=1,ws=6,mn=7,$a=8,Di=9,ke=10,ef=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ef||{});function fn(t){return Array.isArray(t)&&typeof t[Ev]=="object"}function Jt(t){return Array.isArray(t)&&t[Ev]===!0}function Cv(t){return(t.flags&4)!==0}function Os(t){return t.componentOffset>-1}function tf(t){return(t.flags&1)===1}function jn(t){return!!t.template}function Dv(t){return(t[x]&512)!==0}var CS="svg",DS="math",bS=!1;function IS(){return bS}function Lt(t){for(;Array.isArray(t);)t=t[pt];return t}function bv(t,e){return Lt(e[t])}function gt(t,e){return Lt(e[t.index])}function nf(t,e){return t.data[e]}function SS(t,e){return t[e]}function $n(t,e){let n=e[t];return fn(n)?n:n[pt]}function TS(t){return(t[x]&4)===4}function rf(t){return(t[x]&128)===128}function MS(t){return Jt(t[Ne])}function Ha(t,e){return e==null?null:t[e]}function Iv(t){t[yi]=0}function AS(t){t[x]&1024||(t[x]|=1024,rf(t)&&Es(t))}function xS(t,e){for(;t>0;)e=e[Si],t--;return e}function sf(t){return!!(t[x]&9216||t[mr]?.dirty)}function ld(t){sf(t)?Es(t):t[x]&64&&(IS()?(t[x]|=1024,Es(t)):t[hn].changeDetectionScheduler?.notify())}function Es(t){t[hn].changeDetectionScheduler?.notify();let e=Cs(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!rf(e)));)e=Cs(e)}function NS(t,e){if((t[x]&256)===256)throw new y(911,!1);t[ms]===null&&(t[ms]=[]),t[ms].push(e)}function Cs(t){let e=t[Ne];return Jt(e)?e[Ne]:e}var L={lFrame:Pv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function RS(){return L.lFrame.elementDepthCount}function PS(){L.lFrame.elementDepthCount++}function OS(){L.lFrame.elementDepthCount--}function Sv(){return L.bindingsEnabled}function Ti(){return L.skipHydrationRootTNode!==null}function FS(t){return L.skipHydrationRootTNode===t}function kS(t){L.skipHydrationRootTNode=t}function LS(){L.skipHydrationRootTNode=null}function q(){return L.lFrame.lView}function Ye(){return L.lFrame.tView}function _n(t){return L.lFrame.contextLView=t,t[He]}function wn(t){return L.lFrame.contextLView=null,t}function at(){let t=Tv();for(;t!==null&&t.type===64;)t=t.parent;return t}function Tv(){return L.lFrame.currentTNode}function VS(){let t=L.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Fs(t,e){let n=L.lFrame;n.currentTNode=t,n.isParent=e}function Mv(){return L.lFrame.isParent}function Av(){L.lFrame.isParent=!1}function fl(){let t=L.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function jS(t){return L.lFrame.bindingIndex=t}function ks(){return L.lFrame.bindingIndex++}function BS(t){let e=L.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function US(){return L.lFrame.inI18n}function $S(t,e){let n=L.lFrame;n.bindingIndex=n.bindingRootIndex=t,cd(e)}function HS(){return L.lFrame.currentDirectiveIndex}function cd(t){L.lFrame.currentDirectiveIndex=t}function zS(t){let e=L.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function xv(){return L.lFrame.currentQueryIndex}function of(t){L.lFrame.currentQueryIndex=t}function WS(t){let e=t[R];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function Nv(t,e,n){if(n&j.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&j.Host);)if(i=WS(s),i===null||(s=s[Si],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=L.lFrame=Rv();return r.currentTNode=e,r.lView=t,!0}function af(t){let e=Rv(),n=t[R];L.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Rv(){let t=L.lFrame,e=t===null?null:t.child;return e===null?Pv(t):e}function Pv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Ov(){let t=L.lFrame;return L.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Fv=Ov;function lf(){let t=Ov();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function GS(t){return(L.lFrame.contextLView=xS(t,L.lFrame.contextLView))[He]}function Ir(){return L.lFrame.selectedIndex}function gr(t){L.lFrame.selectedIndex=t}function kv(){let t=L.lFrame;return nf(t.tView,t.selectedIndex)}function Lv(){return L.lFrame.currentNamespace}var Vv=!0;function cf(){return Vv}function Hn(t){Vv=t}function qS(){return Mi(at(),q())}function Mi(t,e){return new lt(gt(t,e))}var lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=qS;let t=e;return t})();function KS(t){return t instanceof lt?t.nativeElement:t}function QS(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function YS(t){return t.flat(Number.POSITIVE_INFINITY)}function uf(t,e){t.forEach(n=>Array.isArray(n)?uf(n,e):e(n))}function jv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function za(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ZS(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function XS(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function JS(t,e,n){let r=Ls(t,e);return r>=0?t[r|1]=n:(r=~r,XS(t,r,e,n)),r}function zu(t,e){let n=Ls(t,e);if(n>=0)return t[n|1]}function Ls(t,e){return eT(t,e,1)}function eT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function tT(){return this._results[Symbol.iterator]()}var ud=class t{get changes(){return this._changes??=new Ce}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=tT)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=YS(e);(this._changesDetected=!QS(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},nT="ngSkipHydration",rT="ngskiphydration";function Bv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===rT)return!0}return!1}function Uv(t){return t.hasAttribute(nT)}function Wa(t){return(t.flags&128)===128}function iT(t){if(Wa(t))return!0;let e=t.parent;for(;e;){if(Wa(t)||Bv(e))return!0;e=e.parent}return!1}var dd;function $v(t){dd=t}function hl(){if(dd!==void 0)return dd;if(typeof document<"u")return document;throw new y(210,!1)}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function zn(t){return{providers:t.providers||[],imports:t.imports||[]}}function pl(t){return Ny(t,zv)||Ny(t,Wv)}function Hv(t){return pl(t)!==null}function Ny(t,e){return t.hasOwnProperty(e)?t[e]:null}function sT(t){let e=t&&(t[zv]||t[Wv]);return e||null}function Ry(t){return t&&(t.hasOwnProperty(Py)||t.hasOwnProperty(oT))?t[Py]:null}var zv=ae({\u0275prov:ae}),Py=ae({\u0275inj:ae}),Wv=ae({ngInjectableDef:ae}),oT=ae({ngInjectorDef:ae}),P=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},ml=new P("",{providedIn:"root",factory:()=>aT}),aT="ng",df=new P(""),En=new P("",{providedIn:"platform",factory:()=>"unknown"});var ff=new P(""),hf=new P("",{providedIn:"root",factory:()=>hl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var lT=ae({__forward_ref__:ae});function Sr(t){return t.__forward_ref__=Sr,t.toString=function(){return st(this())},t}function Qe(t){return Gv(t)?t():t}function Gv(t){return typeof t=="function"&&t.hasOwnProperty(lT)&&t.__forward_ref__===Sr}function qv(t){return t&&!!t.\u0275providers}function gl(t){return typeof t=="string"?t:t==null?"":String(t)}function cT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gl(t)}function uT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new y(-200,t)}function pf(t,e){throw new y(-201,!1)}var fd;function dT(){return fd}function it(t){let e=fd;return fd=t,e}function Kv(t,e,n){let r=pl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&j.Optional)return null;if(e!==void 0)return e;pf(t,"Injector")}var fT={},Ds=fT,hT="__NG_DI_FLAG__",Ga="ngTempTokenPath",pT="ngTokenPath",mT=/\n/gm,gT="\u0275",Oy="__source",gs;function Vn(t){let e=gs;return gs=t,e}function yT(t,e=j.Default){if(gs===void 0)throw new y(-203,!1);return gs===null?Kv(t,void 0,e):gs.get(t,e&j.Optional?null:void 0,e)}function B(t,e=j.Default){return(dT()||yT)(Qe(t),e)}function g(t,e=j.Default){return B(t,yl(e))}function yl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hd(t){let e=[];for(let n=0;n<t.length;n++){let r=Qe(t[n]);if(Array.isArray(r)){if(r.length===0)throw new y(900,!1);let i,s=j.Default;for(let o=0;o<r.length;o++){let a=r[o],l=vT(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(B(i,s))}else e.push(B(r))}return e}function vT(t){return t[hT]}function _T(t,e,n,r){let i=t[Ga];throw e[Oy]&&i.unshift(e[Oy]),t.message=wT(`
`+t.message,i,n,r),t[pT]=i,t[Ga]=null,t}function wT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==gT?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mT,`
  `)}`}function ET(){let t=new Tr;return g(En)==="browser"&&(t.store=CT(hl(),g(ml))),t}var Tr=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=I({token:e,providedIn:"root",factory:ET});let t=e;return t})();function CT(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Qv="h",Yv="b",pd=function(t){return t.FirstChild="f",t.NextSibling="n",t}(pd||{}),DT="e",bT="t",mf="c",Zv="x",qa="r",IT="i",ST="n",TT="d",MT="__nghData__",Xv=MT,Wu="ngh",AT="nghm",Jv=()=>null;function xT(t,e,n=!1){let r=t.getAttribute(Wu);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,l={};if(r!==""){let u=e.get(Tr,null,{optional:!0});u!==null&&(l=u.get(Xv,[])[Number(r)])}let c={data:l,firstChild:t.firstChild??null};return n&&(c.firstChild=t,vl(c,0,t.nextSibling)),a?t.setAttribute(Wu,a):t.removeAttribute(Wu),c}function NT(){Jv=xT}function gf(t,e,n=!1){return Jv(t,e,n)}function RT(t){let e=t._lView;return e[R].type===2?null:(Dv(e)&&(e=e[Se]),e)}function PT(t){return t.textContent?.replace(/\s/gm,"")}function OT(t){let e=hl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=PT(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function vl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function md(t,e){return t.segmentHeads?.[e]??null}function FT(t,e){let n=t.data,r=n[DT]?.[e]??null;return r===null&&n[mf]?.[e]&&(r=yf(t,e)),r}function e_(t,e){return t.data[mf]?.[e]??null}function yf(t,e){let n=e_(t,e)??[],r=0;for(let i of n)r+=i[qa]*(i[Zv]??1);return r}function _l(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[TT];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}function yr(t,e){let n=t.hasOwnProperty(Ua);return n?t[Ua]:null}var vr=new P(""),t_=new P("",-1),n_=new P(""),Ka=class{get(e,n=Ds){if(n===Ds){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}};function Mr(t){return{\u0275providers:t}}function kT(...t){return{\u0275providers:r_(!0,t),\u0275fromNgModule:!0}}function r_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return uf(e,o=>{let a=o;gd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&i_(i,s),n}function i_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];vf(i,s=>{e(s,r)})}}function gd(t,e,n,r){if(t=Qe(t),!t)return!1;let i=null,s=Ry(t),o=!s&&pr(t);if(!s&&!o){let l=t.ngModule;if(s=Ry(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)gd(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{uf(s.imports,u=>{gd(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&i_(c,e)}if(!a){let c=yr(i)||(()=>new i);e({provide:i,useFactory:c,deps:ht},i),e({provide:n_,useValue:i,multi:!0},i),e({provide:vr,useValue:()=>B(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;vf(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function vf(t,e){for(let n of t)qv(n)&&(n=n.\u0275providers),Array.isArray(n)?vf(n,e):e(n)}var LT=ae({provide:String,useValue:ae});function s_(t){return t!==null&&typeof t=="object"&&LT in t}function VT(t){return!!(t&&t.useExisting)}function jT(t){return!!(t&&t.useFactory)}function bi(t){return typeof t=="function"}function BT(t){return!!t.useClass}var wl=new P(""),Fa={},UT={},Gu;function _f(){return Gu===void 0&&(Gu=new Ka),Gu}var bt=class{},bs=class extends bt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vd(e,o=>this.processProvider(o)),this.records.set(t_,vi(void 0,this)),i.has("environment")&&this.records.set(bt,vi(void 0,this));let s=this.records.get(wl);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(n_,ht,j.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Vn(this),r=it(void 0),i;try{return e()}finally{Vn(n),it(r)}}get(e,n=Ds,r=j.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Iy))return e[Iy](this);r=yl(r);let i,s=Vn(this),o=it(void 0);try{if(!(r&j.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=GT(e)&&pl(e);c&&this.injectableDefInScope(c)?l=vi(yd(e),Fa):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&j.Self?_f():this.parent;return n=r&j.Optional&&n===Ds?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ga]=a[Ga]||[]).unshift(st(e)),s)throw a;return _T(a,e,"R3InjectorError",this.source)}else throw a}finally{it(o),Vn(s)}}resolveInjectorInitializers(){let e=Vn(this),n=it(void 0),r;try{let i=this.get(vr,ht,j.Self);for(let s of i)s()}finally{Vn(e),it(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new y(205,!1)}processProvider(e){e=Qe(e);let n=bi(e)?e:Qe(e&&e.provide),r=HT(e);if(!bi(e)&&e.multi===!0){let i=this.records.get(n);i||(i=vi(void 0,Fa,!0),i.factory=()=>hd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Fa&&(n.value=UT,n.value=n.factory()),typeof n.value=="object"&&n.value&&WT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Qe(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yd(t){let e=pl(t),n=e!==null?e.factory:yr(t);if(n!==null)return n;if(t instanceof P)throw new y(204,!1);if(t instanceof Function)return $T(t);throw new y(204,!1)}function $T(t){if(t.length>0)throw new y(204,!1);let n=sT(t);return n!==null?()=>n.factory(t):()=>new t}function HT(t){if(s_(t))return vi(void 0,t.useValue);{let e=o_(t);return vi(e,Fa)}}function o_(t,e,n){let r;if(bi(t)){let i=Qe(t);return yr(i)||yd(i)}else if(s_(t))r=()=>Qe(t.useValue);else if(jT(t))r=()=>t.useFactory(...hd(t.deps||[]));else if(VT(t))r=()=>B(Qe(t.useExisting));else{let i=Qe(t&&(t.useClass||t.provide));if(zT(t))r=()=>new i(...hd(t.deps));else return yr(i)||yd(i)}return r}function vi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function zT(t){return!!t.deps}function WT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function GT(t){return typeof t=="function"||typeof t=="object"&&t instanceof P}function vd(t,e){for(let n of t)Array.isArray(n)?vd(n,e):n&&qv(n)?vd(n.\u0275providers,e):e(n)}function Wn(t,e){t instanceof bs&&t.assertNotDestroyed();let n,r=Vn(t),i=it(void 0);try{return e()}finally{Vn(r),it(i)}}function qT(t){return typeof t=="function"}var _d=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function a_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Cn(){return l_}function l_(t){return t.type.prototype.ngOnChanges&&(t.setInput=QT),KT}Cn.ngInherit=!0;function KT(){let t=u_(this),e=t?.current;if(e){let n=t.previous;if(n===Ei)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function QT(t,e,n,r,i){let s=this.declaredInputs[r],o=u_(t)||YT(t,{previous:Ei,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new _d(c&&c.currentValue,n,l===Ei),a_(t,e,i,n)}var c_="__ngSimpleChanges__";function u_(t){return t[c_]||null}function YT(t,e){return t[c_]=e}var Fy=null;var Yt=function(t,e,n){Fy?.(t,e,n)};function ZT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=l_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function wf(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function ka(t,e,n){d_(t,e,3,n)}function La(t,e,n,r){(t[x]&3)===n&&d_(t,e,n,r)}function qu(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function d_(t,e,n,r){let i=r!==void 0?t[yi]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[yi]+=65536),(a<s||s==-1)&&(XT(t,n,e,l),t[yi]=(t[yi]&4294901760)+l+2),l++}function ky(t,e){Yt(4,t,e);let n=Oe(null);try{e.call(t)}finally{Oe(n),Yt(5,t,e)}}function XT(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[x]>>14<t[yi]>>16&&(t[x]&3)===e&&(t[x]+=16384,ky(a,s)):ky(a,s)}var wi=-1,_r=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function JT(t){return t instanceof _r}function eM(t){return(t.flags&8)!==0}function tM(t){return(t.flags&16)!==0}function f_(t){return t!==wi}function Qa(t){return t&32767}function nM(t){return t>>16}function Ya(t,e){let n=nM(t),r=e;for(;n>0;)r=r[Si],n--;return r}var wd=!0;function Za(t){let e=wd;return wd=t,e}var rM=256,h_=rM-1,p_=5,iM=0,Zt={};function sM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(ps)&&(r=n[ps]),r==null&&(r=n[ps]=iM++);let i=r&h_,s=1<<i;e.data[t+(i>>p_)]|=s}function Xa(t,e){let n=m_(t,e);if(n!==-1)return n;let r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,Ku(r.data,t),Ku(e,null),Ku(r.blueprint,null));let i=Ef(t,e),s=t.injectorIndex;if(f_(i)){let o=Qa(i),a=Ya(i,e),l=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Ku(t,e){t.push(0,0,0,0,0,0,0,0,e)}function m_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Ef(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=w_(i),r===null)return wi;if(n++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return wi}function Ed(t,e,n){sM(t,e,n)}function oM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(uv(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function g_(t,e,n){if(n&j.Optional||t!==void 0)return t;pf(e,"NodeInjector")}function y_(t,e,n,r){if(n&j.Optional&&r===void 0&&(r=null),!(n&(j.Self|j.Host))){let i=t[Ci],s=it(void 0);try{return i?i.get(e,r,n&j.Optional):Kv(e,r,n&j.Optional)}finally{it(s)}}return g_(r,e,n)}function v_(t,e,n,r=j.Default,i){if(t!==null){if(e[x]&2048&&!(r&j.Self)){let o=uM(t,e,n,r,Zt);if(o!==Zt)return o}let s=__(t,e,n,r,Zt);if(s!==Zt)return s}return y_(e,n,r,i)}function __(t,e,n,r,i){let s=lM(n);if(typeof s=="function"){if(!Nv(e,t,r))return r&j.Host?g_(i,n,r):y_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&j.Optional))pf(n);else return o}finally{Fv()}}else if(typeof s=="number"){let o=null,a=m_(t,e),l=wi,c=r&j.Host?e[ot][mt]:null;for((a===-1||r&j.SkipSelf)&&(l=a===-1?Ef(t,e):e[a+8],l===wi||!Vy(r,!1)?a=-1:(o=e[R],a=Qa(l),e=Ya(l,e)));a!==-1;){let u=e[R];if(Ly(s,a,u.data)){let d=aM(a,e,n,o,r,c);if(d!==Zt)return d}l=e[a+8],l!==wi&&Vy(r,e[R].data[a+8]===c)&&Ly(s,a,e)?(o=u,a=Qa(l),e=Ya(l,e)):a=-1}}return i}function aM(t,e,n,r,i,s){let o=e[R],a=o.data[t+8],l=r==null?Os(a)&&wd:r!=o&&(a.type&3)!==0,c=i&j.Host&&s===a,u=Va(a,o,n,l,c);return u!==null?wr(e,o,u,a):Zt}function Va(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,f=i?a+u:c;for(let h=d;h<f;h++){let p=o[h];if(h<l&&n===p||h>=l&&p.type===n)return h}if(i){let h=o[l];if(h&&jn(h)&&h.type===n)return l}return null}function wr(t,e,n,r){let i=t[n],s=e.data;if(JT(i)){let o=i;o.resolving&&uT(cT(s[n]));let a=Za(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?it(o.injectImpl):null,u=Nv(t,r,j.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&ZT(n,s[n],e)}finally{c!==null&&it(c),Za(a),o.resolving=!1,Fv()}}return i}function lM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(ps)?t[ps]:void 0;return typeof e=="number"?e>=0?e&h_:cM:e}function Ly(t,e,n){let r=1<<t;return!!(n[e+(t>>p_)]&r)}function Vy(t,e){return!(t&j.Self)&&!(t&j.Host&&e)}var hr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return v_(this._tNode,this._lView,e,yl(r),n)}};function cM(){return new hr(at(),q())}function Vs(t){return ul(()=>{let e=t.prototype.constructor,n=e[Ua]||Cd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ua]||Cd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Cd(t){return Gv(t)?()=>{let e=Cd(Qe(t));return e&&e()}:yr(t)}function uM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[x]&2048&&!(o[x]&512);){let a=__(s,o,n,r|j.Self,Zt);if(a!==Zt)return a;let l=s.parent;if(!l){let c=o[wv];if(c){let u=c.get(n,Zt,r);if(u!==Zt)return u}l=w_(o),o=o[Si]}s=l}return i}function w_(t){let e=t[R],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function Cf(t){return oM(at(),t)}function jy(t,e=null,n=null,r){let i=E_(t,e,n,r);return i.resolveInjectorInitializers(),i}function E_(t,e=null,n=null,r,i=new Set){let s=[n||ht,kT(t)];return r=r||(typeof t=="object"?void 0:st(t)),new bs(s,e||_f(),r||null,i)}var Dn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return jy({name:""},i,r,"");{let s=r.name??"";return jy({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ds,e.NULL=new Ka,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>B(t_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),dM="ngOriginalError";function Qu(t){return t[dM]}var gn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Qu(e);for(;n&&Qu(n);)n=Qu(n);return n||null}},C_=new P("",{providedIn:"root",factory:()=>g(gn).handleError.bind(void 0)}),Aa=new P(""),D_=!1,b_=new P("",{providedIn:"root",factory:()=>D_});var xa;function fM(){if(xa===void 0&&(xa=null,fr.trustedTypes))try{xa=fr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return xa}function By(t){return fM()?.createScriptURL(t)||t}var Ja=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${av})`}};function js(t){return t instanceof Ja?t.changingThisBreaksApplicationSecurity:t}function Df(t,e){let n=hM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${av})`)}return n===e}function hM(t){return t instanceof Ja&&t.getTypeName()||null}var pM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function I_(t){return t=String(t),t.match(pM)?t:"unsafe:"+t}var El=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(El||{});function Cl(t){let e=T_();return e?e.sanitize(El.URL,t)||"":Df(t,"URL")?js(t):I_(gl(t))}function mM(t){let e=T_();if(e)return By(e.sanitize(El.RESOURCE_URL,t)||"");if(Df(t,"ResourceURL"))return By(js(t));throw new y(904,!1)}function gM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?mM:Cl}function S_(t,e,n){return gM(e,n)(t)}function T_(){let t=q();return t&&t[hn].sanitizer}var yM=/^>|^->|<!--|-->|--!>|<!-$/g,vM=/(<|>)/g,_M="\u200B$1\u200B";function wM(t){return t.replace(yM,e=>e.replace(vM,_M))}var M_=new Map,EM=0;function CM(){return EM++}function DM(t){M_.set(t[dl],t)}function bM(t){M_.delete(t[dl])}var Uy="__ngContext__";function Er(t,e){fn(e)?(t[Uy]=e[dl],DM(e)):t[Uy]=e}function IM(t){return t.ownerDocument.body}function A_(t){return t instanceof Function?t():t}function Na(t){return(t??g(Dn)).get(En)==="browser"}var yn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(yn||{}),SM;function bf(t,e){return SM(t,e)}function _i(t,e,n,r,i){if(r!=null){let s,o=!1;Jt(r)?s=r:fn(r)&&(o=!0,r=r[pt]);let a=Lt(r);t===0&&n!==null?i==null?F_(e,n,a):el(e,n,a,i||null,!0):t===1&&n!==null?el(e,n,a,i||null,!0):t===2?V_(e,a,o):t===3&&e.destroyNode(a),s!=null&&UM(e,t,s,n,i)}}function x_(t,e){return t.createText(e)}function TM(t,e,n){t.setValue(e,n)}function N_(t,e){return t.createComment(wM(e))}function If(t,e,n){return t.createElement(e,n)}function MM(t,e){R_(t,e),e[pt]=null,e[mt]=null}function AM(t,e,n,r,i,s){r[pt]=i,r[mt]=e,bl(t,r,n,1,i,s)}function R_(t,e){bl(t,e,e[ge],2,null,null)}function xM(t){let e=t[_s];if(!e)return Yu(t[R],t);for(;e;){let n=null;if(fn(e))n=e[_s];else{let r=e[ke];r&&(n=r)}if(!n){for(;e&&!e[Ft]&&e!==t;)fn(e)&&Yu(e[R],e),e=e[Ne];e===null&&(e=t),fn(e)&&Yu(e[R],e),n=e&&e[Ft]}e=n}}function NM(t,e,n,r){let i=ke+r,s=n.length;r>0&&(n[i-1][Ft]=e),r<s-ke?(e[Ft]=n[i],jv(n,ke+r,e)):(n.push(e),e[Ft]=null),e[Ne]=n;let o=e[Ps];o!==null&&n!==o&&RM(o,e);let a=e[pn];a!==null&&a.insertView(t),ld(e),e[x]|=128}function RM(t,e){let n=t[Di],i=e[Ne][Ne][ot];e[ot]!==i&&(t[x]|=ef.HasTransplantedViews),n===null?t[Di]=[e]:n.push(e)}function P_(t,e){let n=t[Di],r=n.indexOf(e);n.splice(r,1)}function Is(t,e){if(t.length<=ke)return;let n=ke+e,r=t[n];if(r){let i=r[Ps];i!==null&&i!==t&&P_(i,r),e>0&&(t[n-1][Ft]=r[Ft]);let s=za(t,ke+e);MM(r[R],r);let o=s[pn];o!==null&&o.detachView(s[R]),r[Ne]=null,r[Ft]=null,r[x]&=-129}return r}function Dl(t,e){if(!(e[x]&256)){let n=e[ge];n.destroyNode&&bl(t,e,n,3,null,null),xM(e)}}function Yu(t,e){if(!(e[x]&256)){e[x]&=-129,e[x]|=256,e[mr]&&zg(e[mr]),OM(t,e),PM(t,e),e[R].type===1&&e[ge].destroy();let n=e[Ps];if(n!==null&&Jt(e[Ne])){n!==e[Ne]&&P_(n,e);let r=e[pn];r!==null&&r.detachView(t)}bM(e)}}function PM(t,e){let n=t.cleanup,r=e[vs];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[vs]=null);let i=e[ms];if(i!==null){e[ms]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function OM(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof _r)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Yt(4,a,l);try{l.call(a)}finally{Yt(5,a,l)}}else{Yt(4,i,s);try{s.call(i)}finally{Yt(5,i,s)}}}}}function O_(t,e,n){return FM(t,e.parent,n)}function FM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[pt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Xt.None||s===Xt.Emulated)return null}return gt(r,n)}}function el(t,e,n,r,i){t.insertBefore(e,n,r,i)}function F_(t,e,n){t.appendChild(e,n)}function $y(t,e,n,r,i){r!==null?el(t,e,n,r,i):F_(t,e,n)}function kM(t,e,n,r){t.removeChild(e,n,r)}function Sf(t,e){return t.parentNode(e)}function LM(t,e){return t.nextSibling(e)}function k_(t,e,n){return jM(t,e,n)}function VM(t,e,n){return t.type&40?gt(t,n):null}var jM=VM,Hy;function Tf(t,e,n,r){let i=O_(t,r,e),s=e[ge],o=r.parent||e[mt],a=k_(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)$y(s,i,n[l],a,!1);else $y(s,i,n,a,!1);Hy!==void 0&&Hy(s,r,e,n,i)}function ja(t,e){if(e!==null){let n=e.type;if(n&3)return gt(e,t);if(n&4)return Dd(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ja(t,r);{let i=t[e.index];return Jt(i)?Dd(-1,i):Lt(i)}}else{if(n&32)return bf(e,t)()||Lt(t[e.index]);{let r=L_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Cs(t[ot]);return ja(i,r)}else return ja(t,e.next)}}}return null}function L_(t,e){if(e!==null){let r=t[ot][mt],i=e.projection;return r.projection[i]}return null}function Dd(t,e){let n=ke+t+1;if(n<e.length){let r=e[n],i=r[R].firstChild;if(i!==null)return ja(r,i)}return e[mn]}function V_(t,e,n){let r=Sf(t,e);r&&kM(t,r,e,n)}function j_(t){t.textContent=""}function Mf(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Er(Lt(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Mf(t,e,n.child,r,i,s,!1),_i(e,t,i,a,s);else if(l&32){let c=bf(n,r),u;for(;u=c();)_i(e,t,i,u,s);_i(e,t,i,a,s)}else l&16?B_(t,e,r,n,i,s):_i(e,t,i,a,s);n=o?n.projectionNext:n.next}}function bl(t,e,n,r,i,s){Mf(n,r,t.firstChild,e,i,s,!1)}function BM(t,e,n){let r=e[ge],i=O_(t,n,e),s=n.parent||e[mt],o=k_(s,n,e);B_(r,0,e,n,i,o)}function B_(t,e,n,r,i,s){let o=n[ot],l=o[mt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];_i(e,t,i,u,s)}else{let c=l,u=o[Ne];Wa(r)&&(c.flags|=128),Mf(t,e,c,u,i,s,!0)}}function UM(t,e,n,r,i){let s=n[mn],o=Lt(n);s!==o&&_i(e,t,r,s,i);for(let a=ke;a<n.length;a++){let l=n[a];bl(l[R],l,t,e,r,s)}}function $M(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:yn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yn.Important),t.setStyle(n,r,i,s))}}function HM(t,e,n){t.setAttribute(e,"style",n)}function U_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function $_(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ad(t,e,r),i!==null&&U_(t,e,i),s!==null&&HM(t,e,s)}var Gn={};function U(t=1){H_(Ye(),q(),Ir()+t,!1)}function H_(t,e,n,r){if(!r)if((e[x]&3)===3){let s=t.preOrderCheckHooks;s!==null&&ka(e,s,n)}else{let s=t.preOrderHooks;s!==null&&La(e,s,0,n)}gr(n)}function $(t,e=j.Default){let n=q();if(n===null)return B(t,e);let r=at();return v_(r,n,Qe(t),e)}function z_(t,e,n,r,i,s){let o=Oe(null);try{let a=null;i&Le.SignalBased&&(a=e[r][On]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Le.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):a_(e,a,r,s)}finally{Oe(o)}}function zM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)gr(~i);else{let s=i,o=n[++r],a=n[++r];$S(o,s);let l=e[s];a(2,l)}}}finally{gr(-1)}}function Il(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[pt]=i,d[x]=r|4|128|8|64,(c!==null||t&&t[x]&2048)&&(d[x]|=2048),Iv(d),d[Ne]=d[Si]=t,d[He]=n,d[hn]=o||t&&t[hn],d[ge]=a||t&&t[ge],d[Ci]=l||t&&t[Ci]||null,d[mt]=s,d[dl]=CM(),d[kt]=u,d[wv]=c,d[ot]=e.type==2?t[ot]:d,d}function Bs(t,e,n,r,i){let s=t.data[e];if(s===null)s=WM(t,e,n,r,i),US()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=VS();s.injectorIndex=o===null?-1:o.injectorIndex}return Fs(s,!0),s}function WM(t,e,n,r,i){let s=Tv(),o=Mv(),a=o?s:s&&s.parent,l=t.data[e]=XM(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function W_(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function G_(t,e,n,r,i){let s=Ir(),o=r&2;try{gr(-1),o&&e.length>Se&&H_(t,e,Se,!1),Yt(o?2:0,i),n(r,i)}finally{gr(s),Yt(o?3:1,i)}}function q_(t,e,n){if(Cv(e)){let r=Oe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Oe(r)}}}function K_(t,e,n){Sv()&&(sA(t,e,n,gt(n,e)),(n.flags&64)===64&&ew(t,e,n))}function Q_(t,e,n=gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Y_(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Af(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Af(t,e,n,r,i,s,o,a,l,c,u){let d=Se+r,f=d+i,h=GM(d,f),p=typeof c=="function"?c():c;return h[R]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function GM(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Gn);return n}function qM(t,e,n,r){let s=r.get(b_,D_)||n===Xt.ShadowDom,o=t.selectRootElement(e,s);return KM(o),o}function KM(t){Z_(t)}var Z_=()=>null;function QM(t){Uv(t)?j_(t):OT(t)}function YM(){Z_=QM}function ZM(t,e,n,r){let i=rw(e);i.push(n),t.firstCreatePass&&iw(t).push(r,i.length-1)}function XM(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ti()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zy(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Le.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?Wy(r,n,c,a,l):Wy(r,n,c,a)}return r}function Wy(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function JM(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;l=zy(0,d.inputs,u,l,h),c=zy(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!fv(e)?gA(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function eA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function tA(t,e,n,r,i,s,o,a){let l=gt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(xf(t,n,u,r,i),Os(e)&&nA(n,e.index)):e.type&3?(r=eA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function nA(t,e){let n=$n(e,t);n[x]&16||(n[x]|=64)}function X_(t,e,n,r){if(Sv()){let i=r===null?null:{"":-1},s=aA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&J_(t,e,n,o,i,a),i&&lA(n,r,i)}n.mergedAttrs=ys(n.mergedAttrs,n.attrs)}function J_(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Ed(Xa(n,e),t,r[c].type);uA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=W_(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=ys(n.mergedAttrs,u.hostAttrs),dA(t,n,e,l,u),cA(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}JM(t,n,s)}function rA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;iA(o)!=a&&o.push(a),o.push(n,r,s)}}function iA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function sA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Os(n)&&fA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Xa(n,e),Er(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=wr(e,t,a,n);if(Er(c,e),o!==null&&mA(e,a-i,c,l,n,o),jn(l)){let u=$n(n.index,e);u[He]=wr(e,t,a,n)}}}function ew(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=HS();try{gr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];cd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&oA(l,c)}}finally{gr(-1),cd(o)}}function oA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function aA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(hv(e,o.selectors,!1))if(r||(r=[]),jn(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;bd(t,e,l)}else r.unshift(o),bd(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function bd(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function lA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new y(-301,!1);r.push(e[i],s)}}}function cA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;jn(e)&&(n[""]=t)}}function uA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function dA(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=yr(i.type,!0)),o=new _r(s,jn(i),$);t.blueprint[r]=o,n[r]=o,rA(t,e,r,W_(t,n,i.hostVars,Gn),i)}function fA(t,e,n){let r=gt(e,t),i=Y_(n),s=t[hn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Sl(t,Il(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function hA(t,e,n,r,i,s){let o=gt(t,e);pA(e[ge],o,s,t.value,n,r,i)}function pA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?gl(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function mA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];z_(r,n,l,c,u,d)}}function gA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function tw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function nw(t,e){let n=t.contentQueries;if(n!==null){let r=Oe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];of(s),a.contentQueries(2,e[o],o)}}}finally{Oe(r)}}}function Sl(t,e){return t[_s]?t[xy][Ft]=e:t[_s]=e,t[xy]=e,e}function Id(t,e,n){of(0);let r=Oe(null);try{e(t,n)}finally{Oe(r)}}function rw(t){return t[vs]||(t[vs]=[])}function iw(t){return t.cleanup||(t.cleanup=[])}function sw(t,e){let n=t[Ci],r=n?n.get(gn,null):null;r&&r.handleError(e)}function xf(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];z_(u,c,r,a,l,i)}}function yA(t,e,n){let r=bv(e,t);TM(t[ge],r,n)}function vA(t,e){let n=$n(e,t),r=n[R];_A(r,n);let i=n[pt];i!==null&&n[kt]===null&&(n[kt]=gf(i,n[Ci])),Nf(r,n,n[He])}function _A(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Nf(t,e,n){af(e);try{let r=t.viewQuery;r!==null&&Id(1,r,n);let i=t.template;i!==null&&G_(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[pn]?.finishViewCreation(t),t.staticContentQueries&&nw(t,e),t.staticViewQueries&&Id(2,t.viewQuery,n);let s=t.components;s!==null&&wA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,lf()}}function wA(t,e){for(let n=0;n<e.length;n++)vA(t,e[n])}function Tl(t,e,n,r){let i=e.tView,o=t[x]&4096?4096:16,a=Il(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];a[Ps]=l;let c=t[pn];return c!==null&&(a[pn]=c.createEmbeddedView(i)),Nf(i,a,n),a}function ow(t,e){let n=ke+e;if(n<t.length)return t[n]}function Ss(t,e){return!e||e.firstChild===null||Wa(t)}function Ml(t,e,n,r=!0){let i=e[R];if(NM(i,e,t,n),r){let o=Dd(n,t),a=e[ge],l=Sf(a,t[mn]);l!==null&&AM(i,t[mt],a,e,l,o)}let s=e[kt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function aw(t,e){let n=Is(t,e);return n!==void 0&&Dl(n[R],n),n}function tl(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Lt(s)),Jt(s)&&EA(s,r);let o=n.type;if(o&8)tl(t,e,n.child,r);else if(o&32){let a=bf(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=L_(e,n);if(Array.isArray(a))r.push(...a);else{let l=Cs(e[ot]);tl(l[R],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function EA(t,e){for(let n=ke;n<t.length;n++){let r=t[n],i=r[R].firstChild;i!==null&&tl(r[R],r,i,e)}t[mn]!==t[pt]&&e.push(t[mn])}var lw=[];function CA(t){return t[mr]??DA(t)}function DA(t){let e=lw.pop()??Object.create(IA);return e.lView=t,e}function bA(t){t.lView[mr]!==t&&(t.lView=null,lw.push(t))}var IA=J(E({},ra),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Es(t.lView)},consumerOnSignalRead(){this.lView[mr]=this}});function cw(t){return dw(t[_s])}function uw(t){return dw(t[Ft])}function dw(t){for(;t!==null&&!Jt(t);)t=t[Ft];return t}var fw=100;function hw(t,e=!0,n=0){let r=t[hn],i=r.rendererFactory,s=!1;s||i.begin?.();try{SA(t,n)}catch(o){throw e&&sw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function SA(t,e){Sd(t,e);let n=0;for(;sf(t);){if(n===fw)throw new y(103,!1);n++,Sd(t,1)}}function TA(t,e,n,r){let i=e[x];if((i&256)===256)return;let s=!1;!s&&e[hn].inlineEffectRunner?.flush(),af(e);let o=null,a=null;!s&&MA(t)&&(a=CA(e),o=Cu(a));try{Iv(e),jS(t.bindingStartIndex),n!==null&&G_(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&ka(e,d,null)}else{let d=t.preOrderHooks;d!==null&&La(e,d,0,null),qu(e,0)}if(AA(e),pw(e,0),t.contentQueries!==null&&nw(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&ka(e,d)}else{let d=t.contentHooks;d!==null&&La(e,d,1),qu(e,1)}zM(t,e);let c=t.components;c!==null&&gw(e,c,0);let u=t.viewQuery;if(u!==null&&Id(2,u,r),!s)if(l){let d=t.viewCheckHooks;d!==null&&ka(e,d)}else{let d=t.viewHooks;d!==null&&La(e,d,2),qu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Hu]){for(let d of e[Hu])d();e[Hu]=null}s||(e[x]&=-73)}catch(l){throw Es(e),l}finally{a!==null&&(Du(a,o),bA(a)),lf()}}function MA(t){return t.type!==2}function pw(t,e){for(let n=cw(t);n!==null;n=uw(n))for(let r=ke;r<n.length;r++){let i=n[r];mw(i,e)}}function AA(t){for(let e=cw(t);e!==null;e=uw(e)){if(!(e[x]&ef.HasTransplantedViews))continue;let n=e[Di];for(let r=0;r<n.length;r++){let i=n[r],s=i[Ne];AS(i)}}}function xA(t,e,n){let r=$n(e,t);mw(r,n)}function mw(t,e){rf(t)&&Sd(t,e)}function Sd(t,e){let r=t[R],i=t[x],s=t[mr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&bu(s)),s&&(s.dirty=!1),t[x]&=-9217,o)TA(r,t,r.template,t[He]);else if(i&8192){pw(t,1);let a=r.components;a!==null&&gw(t,a,1)}}function gw(t,e,n){for(let r=0;r<e.length;r++)xA(t,e[r],n)}function Rf(t){for(t[hn].changeDetectionScheduler?.notify();t;){t[x]|=64;let e=Cs(t);if(Dv(t)&&!e)return t;t=e}return null}var Cr=class{get rootNodes(){let e=this._lView,n=e[R];return tl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[He]}set context(e){this._lView[He]=e}get destroyed(){return(this._lView[x]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ne];if(Jt(e)){let n=e[$a],r=n?n.indexOf(this):-1;r>-1&&(Is(e,r),za(n,r))}this._attachedToViewContainer=!1}Dl(this._lView[R],this._lView)}onDestroy(e){NS(this._lView,e)}markForCheck(){Rf(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){ld(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,hw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,R_(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=e,ld(this._lView)}},Ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PA;let t=e;return t})(),NA=Ts,RA=class extends NA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Tl(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new Cr(i)}};function PA(){return Pf(at(),q())}function Pf(t,e){return t.type&4?new RA(e,t,Mi(t,e)):null}function yw(t){let e=t[ws]??[],r=t[Ne][ge];for(let i of e)OA(i,r);t[ws]=ht}function OA(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[qa];for(;n<i;){let s=r.nextSibling;V_(e,r,!1),r=s,n++}}}function vw(t){yw(t);for(let e=ke;e<t.length;e++)nl(t[e])}function nl(t){let e=t[R];for(let n=Se;n<e.bindingStartIndex;n++)if(Jt(t[n])){let r=t[n];vw(r)}else fn(t[n])&&nl(t[n])}function FA(t){let e=t._views;for(let n of e){let r=RT(n);if(r!==null&&r[pt]!==null)if(fn(r))nl(r);else{let i=r[pt];nl(i),vw(r)}}}var kA=new RegExp(`^(\\d+)*(${Yv}|${Qv})*(.*)`);function LA(t){let e=t.match(kA),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}function VA(t){return!t.prev&&t.parent?.type===8}function Zu(t){return t.index-Se}function Al(t,e,n,r){let i=null,s=Zu(r),o=t.data[ST];if(o?.[s])i=BA(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(VA(r)){let c=Zu(r.parent);i=md(t,c)}else{let c=gt(l,n);if(a)i=c.firstChild;else{let u=Zu(l),d=md(t,u);if(l.type===2&&d){let h=yf(t,u)+1;i=xl(h,d)}else i=c.nextSibling}}}return i}function xl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function jA(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case pd.FirstChild:n=n.firstChild;break;case pd.NextSibling:n=n.nextSibling;break}}return n}function BA(t,e){let[n,...r]=LA(t),i;if(n===Qv)i=e[ot][pt];else if(n===Yv)i=IM(e[ot][pt]);else{let s=Number(n);i=Lt(e[s+Se])}return jA(i,r)}function UA(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Zv]??1);i++){let s={data:r,firstChild:null};r[qa]>0&&(s.firstChild=t,t=xl(r[qa],t)),n.push(s)}return[t,n]}var _w=()=>null;function $A(t,e){let n=t[ws];return!e||n===null||n.length===0?null:n[0].data[IT]===e?n.shift():(yw(t),null)}function HA(){_w=$A}function Ms(t,e){return _w(t,e)}var As=class{},Td=class{},rl=class{};function zA(t){let e=Error(`No component factory found for ${st(t)}.`);return e[WA]=t,e}var WA="ngComponent";var Md=class{resolveComponentFactory(e){throw zA(e)}},Nl=(()=>{let e=class e{};e.NULL=new Md;let t=e;return t})(),Dr=class{},It=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>GA();let t=e;return t})();function GA(){let t=q(),e=at(),n=$n(e.index,t);return(fn(n)?n:t)[ge]}var qA=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Xu={};function ww(t,e){let n=qg(t);return e?.equal&&(n[On].equal=e.equal),n}function bn(t,e){let n=Zg(t),r=n[On];return e?.equal&&(r.equal=e.equal),n.set=i=>Iu(r,i),n.update=i=>Xg(r,i),n.asReadonly=KA.bind(n),n}function KA(){let t=this[On];if(t.readonlyFn===void 0){let e=()=>this();e[On]=t,t.readonlyFn=e}return t.readonlyFn}var Ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=QA;let t=e;return t})();function QA(t){return YA(at(),q(),(t&16)===16)}function YA(t,e,n){if(Os(t)&&!n){let r=$n(t.index,e);return new Cr(r,r)}else if(t.type&47){let r=e[ot];return new Cr(r,e)}return null}var Gy=new Set;function Ar(t){Gy.has(t)||(Gy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function qy(...t){}function ZA(){let t=typeof fr.requestAnimationFrame=="function",e=fr[t?"requestAnimationFrame":"setTimeout"],n=fr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var de=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=ZA().nativeRequestAnimationFrame,ex(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,XA,qy,qy);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},XA={};function Of(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function JA(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ad(t),t.isCheckStableRunning=!0,Of(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ad(t))}function ex(t){let e=()=>{JA(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(tx(a))return n.invokeTask(i,s,o,a);try{return Ky(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Qy(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return Ky(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),Qy(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Ad(t),Of(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Ad(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ky(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Qy(t){t._nesting--,Of(t)}function tx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var Ew=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function xd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=by(i,a);else if(s==2){let l=a,c=e[++o];r=by(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var il=class extends Nl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=pr(e);return new xs(n,this.ngModule)}};function Yy(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function nx(t){let e=t.toLowerCase();return e==="svg"?CS:e==="math"?DS:null}var Nd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=yl(r);let i=this.injector.get(e,Xu,r);return i!==Xu||n===Xu?i:this.parentInjector.get(e,n,r)}},xs=class extends rl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Yy(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Yy(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=yS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof bt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Nd(e,s):e,a=o.get(Dr,null);if(a===null)throw new y(407,!1);let l=o.get(qA,null),c=o.get(Ew,null),u=o.get(As,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:u},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=r?qM(f,r,this.componentDef.encapsulation,o):If(f,h,nx(h)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let C=null;p!==null&&(C=gf(p,o,!0));let D=Af(0,null,null,1,0,null,null,null,null,null,null),k=Il(null,D,null,m,null,null,d,f,o,null,C);af(k);let ie,X;try{let Me=this.componentDef,ve,_e=null;Me.findHostDirectiveDefs?(ve=[],_e=new Map,Me.findHostDirectiveDefs(Me,ve,_e),ve.push(Me)):ve=[Me];let Ue=rx(k,p),cn=ix(Ue,p,Me,ve,k,d,f);X=nf(D,Se),p&&ax(f,Me,p,r),n!==void 0&&lx(X,this.ngContentSelectors,n),ie=ox(cn,Me,ve,_e,k,[cx]),Nf(D,k,null)}finally{lf()}return new Rd(this.componentType,ie,Mi(X,k),k,X)}},Rd=class extends Td{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Cr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;xf(s[R],s,i,e,n),this.previousInputValues.set(e,n);let o=$n(this._tNode.index,s);Rf(o)}}get injector(){return new hr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function rx(t,e){let n=t[R],r=Se;return t[r]=e,Bs(n,r,2,"#host",null)}function ix(t,e,n,r,i,s,o){let a=i[R];sx(r,t,e,o);let l=null;e!==null&&(l=gf(e,i[Ci]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Il(i,Y_(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&bd(a,t,r.length-1),Sl(i,d),i[t.index]=d}function sx(t,e,n,r){for(let i of t)e.mergedAttrs=ys(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(xd(e,e.mergedAttrs,!0),n!==null&&$_(r,n,e))}function ox(t,e,n,r,i,s){let o=at(),a=i[R],l=gt(o,i);J_(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,f=wr(i,a,d,o);Er(f,i)}ew(a,i,o),l&&Er(l,i);let c=wr(i,a,o.directiveStart+o.componentOffset,o);if(t[He]=i[He]=c,s!==null)for(let u of s)u(c,e);return q_(a,o,t),c}function ax(t,e,n,r){if(r)ad(t,n,["ng-version","17.2.1"]);else{let{attrs:i,classes:s}=vS(e.selectors[0]);i&&ad(t,n,i),s&&s.length>0&&U_(t,n,s.join(" "))}}function lx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function cx(){let t=at();wf(q()[R],t)}var xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ux;let t=e;return t})();function ux(){let t=at();return Dw(t,q())}var dx=xi,Cw=class extends dx{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Mi(this._hostTNode,this._hostLView)}get injector(){return new hr(this._hostTNode,this._hostLView)}get parentInjector(){let e=Ef(this._hostTNode,this._hostLView);if(f_(e)){let n=Ya(e,this._hostLView),r=Qa(e),i=n[R].data[r+8];return new hr(i,n)}else return new hr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Zy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-ke}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ms(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Ss(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!qT(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new xs(pr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(bt,null);m&&(s=m)}let u=pr(l.componentType??{}),d=Ms(this._lContainer,u?.id??null),f=d?.firstChild??null,h=l.create(c,i,f,s);return this.insertImpl(h.hostView,a,Ss(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(MS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ne],c=new Cw(l,l[mt],l[Ne]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Ml(o,i,s,r),e.attachToViewContainerRef(),jv(Ju(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Zy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Is(this._lContainer,n);r&&(za(Ju(this._lContainer),n),Dl(r[R],r))}detach(e){let n=this._adjustIndex(e,-1),r=Is(this._lContainer,n);return r&&za(Ju(this._lContainer),n)!=null?new Cr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Zy(t){return t[$a]}function Ju(t){return t[$a]||(t[$a]=[])}function Dw(t,e){let n,r=e[t.index];return Jt(r)?n=r:(n=tw(r,e,null,t),e[t.index]=n,Sl(e,n)),bw(n,e,t,r),new Cw(n,t,e)}function fx(t,e){let n=t[ge],r=n.createComment(""),i=gt(e,t),s=Sf(n,i);return el(n,s,r,LM(n,i),!1),r}var bw=Iw,Ff=()=>!1;function hx(t,e,n){return Ff(t,e,n)}function Iw(t,e,n,r){if(t[mn])return;let i;n.type&8?i=Lt(r):i=fx(e,n),t[mn]=i}function px(t,e,n){if(t[mn]&&t[ws])return!0;let r=n[kt],i=e.index-Se;if(!r||iT(e)||_l(r,i))return!1;let o=md(r,i),a=r.data[mf]?.[i],[l,c]=UA(o,a);return t[mn]=l,t[ws]=c,!0}function mx(t,e,n,r){Ff(t,n,e)||Iw(t,e,n,r)}function gx(){bw=mx,Ff=px}var Pd=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Od=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)kf(e,n).matches!==null&&this.queries[n].setDirty()}},Fd=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=bx(e):this.predicate=e}},kd=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ld=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,yx(n,s)),this.matchTNodeWithReadOption(e,n,Va(n,e,s,!1,!1))}else r===Ts?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Va(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===lt||i===xi||i===Ts&&n.type&4)this.addMatch(n.index,-2);else{let s=Va(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function yx(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function vx(t,e){return t.type&11?Mi(t,e):t.type&4?Pf(t,e):null}function _x(t,e,n,r){return n===-1?vx(e,t):n===-2?wx(t,e,r):wr(t,t[R],n,e)}function wx(t,e,n){if(n===lt)return Mi(e,t);if(n===Ts)return Pf(e,t);if(n===xi)return Dw(e,t)}function Sw(t,e,n,r){let i=e[pn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(_x(e,u,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Vd(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Sw(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=ke;d<u.length;d++){let f=u[d];f[Ps]===f[Ne]&&Vd(f[R],f,c,r)}if(u[Di]!==null){let d=u[Di];for(let f=0;f<d.length;f++){let h=d[f];Vd(h[R],h,c,r)}}}}}return r}function Ex(t,e){return t[pn].queries[e].queryList}function Cx(t,e,n){let r=new ud((n&4)===4);return ZM(t,e,r,r.destroy),(e[pn]??=new Od).queries.push(new Pd(r))-1}function Dx(t,e,n,r){let i=Ye();if(i.firstCreatePass){let s=at();Ix(i,new Fd(e,n,r),s.index),Sx(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return Cx(i,q(),n)}function bx(t){return t.split(",").map(e=>e.trim())}function Ix(t,e,n){t.queries===null&&(t.queries=new kd),t.queries.track(new Ld(e,n))}function Sx(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function kf(t,e){return t.queries.getByIndex(e)}function Tx(t,e){let n=t[R],r=kf(n,e);return r.crossesNgTemplate?Vd(n,t,e,[]):Sw(n,t,r,e)}function Mx(t){return Object.getPrototypeOf(t.prototype).constructor}function In(t){let e=Mx(t.type),n=!0,r=[t];for(;e;){let i;if(jn(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Ra(t.inputs),o.inputTransforms=Ra(t.inputTransforms),o.declaredInputs=Ra(t.declaredInputs),o.outputs=Ra(t.outputs);let a=i.hostBindings;a&&Px(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Nx(t,l),c&&Rx(t,c),Ax(t,i),nS(t.outputs,i.outputs),jn(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===In&&(n=!1)}}e=Object.getPrototypeOf(e)}xx(r)}function Ax(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function xx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ys(i.hostAttrs,n=ys(n,i.hostAttrs))}}function Ra(t){return t===Ei?{}:t===ht?[]:t}function Nx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Rx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Px(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Lf(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Bn=class{},Ns=class{};var jd=class extends Bn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new il(this);let i=yv(e);this._bootstrapComponents=A_(i.bootstrap),this._r3Injector=E_(e,n,[{provide:Bn,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bd=class extends Ns{constructor(e){super(),this.moduleType=e}create(e){return new jd(this.moduleType,e,[])}};var sl=class extends Bn{constructor(e){super(),this.componentFactoryResolver=new il(this),this.instance=null;let n=new bs([...e.providers,{provide:Bn,useValue:this},{provide:Nl,useValue:this.componentFactoryResolver}],e.parent||_f(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Vf(t,e,n=null){return new sl({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Us=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Fe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jf(t,e,n){return t[e]=n}function Ox(t,e){return t[e]}function vn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Fx(t,e,n,r){let i=vn(t,e,n);return vn(t,e+1,r)||i}function kx(t,e,n,r,i,s,o,a,l){let c=e.consts,u=Bs(e,t,4,o||null,Ha(c,a));X_(e,n,u,Ha(c,l)),wf(e,u);let d=u.tView=Af(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ve(t,e,n,r,i,s,o,a){let l=q(),c=Ye(),u=t+Se,d=c.firstCreatePass?kx(u,c,l,e,n,r,i,s,o):c.data[u];Fs(d,!1);let f=Tw(c,l,d,t);cf()&&Tf(c,l,f,d),Er(f,l);let h=tw(f,l,f,d);return l[u]=h,Sl(l,h),hx(h,d,l),tf(d)&&K_(c,l,d),o!=null&&Q_(l,d,a),Ve}var Tw=Mw;function Mw(t,e,n,r){return Hn(!0),e[ge].createComment("")}function Lx(t,e,n,r){let i=e[kt],s=!i||Ti()||_l(i,r);if(Hn(s),s)return Mw(t,e,n,r);let o=i.data[bT]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Al(i,t,e,n);vl(i,r,a);let l=yf(i,r);return xl(l,a)}function Vx(){Tw=Lx}function Rl(t,e,n,r){let i=q(),s=ks();if(vn(i,s,e)){let o=Ye(),a=kv();hA(a,i,t,e,n,r)}return Rl}function jx(t,e,n,r){return vn(t,ks(),n)?e+gl(n)+r:Gn}function Pa(t,e){return t<<17|e<<2}function br(t){return t>>17&32767}function Bx(t){return(t&2)==2}function Ux(t,e){return t&131071|e<<17}function Ud(t){return t|2}function Ii(t){return(t&131068)>>2}function ed(t,e){return t&-131069|e<<2}function $x(t){return(t&1)===1}function $d(t){return t|1}function Hx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=br(o),l=Ii(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ls(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let f=br(t[a+1]);t[r+1]=Pa(f,a),f!==0&&(t[f+1]=ed(t[f+1],r)),t[a+1]=Ux(t[a+1],r)}else t[r+1]=Pa(a,0),a!==0&&(t[a+1]=ed(t[a+1],r)),a=r;else t[r+1]=Pa(l,0),a===0?a=r:t[l+1]=ed(t[l+1],r),l=r;c&&(t[r+1]=Ud(t[r+1])),Xy(t,u,r,!0),Xy(t,u,r,!1),zx(e,u,t,r,s),o=Pa(a,l),s?e.classBindings=o:e.styleBindings=o}function zx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Ls(s,e)>=0&&(n[r+1]=$d(n[r+1]))}function Xy(t,e,n,r){let i=t[n+1],s=e===null,o=r?br(i):Ii(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];Wx(l,e)&&(a=!0,t[o+1]=r?$d(c):Ud(c)),o=r?br(c):Ii(c)}a&&(t[n+1]=r?Ud(i):$d(i))}function Wx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ls(t,e)>=0:!1}function De(t,e,n){let r=q(),i=ks();if(vn(r,i,e)){let s=Ye(),o=kv();tA(s,o,r,t,e,r[ge],n,!1)}return De}function Jy(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";xf(t,n,s[o],o,r)}function Pl(t,e){return Gx(t,e,null,!0),Pl}function Gx(t,e,n,r){let i=q(),s=Ye(),o=BS(2);if(s.firstUpdatePass&&Kx(s,t,o,r),e!==Gn&&vn(i,o,e)){let a=s.data[Ir()];Jx(s,a,i,i[ge],t,i[o+1]=eN(e,n),r,o)}}function qx(t,e){return e>=t.expandoStartIndex}function Kx(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Ir()],o=qx(t,n);tN(s,r)&&e===null&&!o&&(e=!1),e=Qx(i,s,e,r),Hx(i,s,e,n,o,r)}}function Qx(t,e,n,r){let i=zS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=td(null,t,e,n,r),n=Rs(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=td(i,t,e,n,r),s===null){let l=Yx(t,e,r);l!==void 0&&Array.isArray(l)&&(l=td(null,t,e,l[1],r),l=Rs(l,e.attrs,r),Zx(t,e,r,l))}else s=Xx(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function Yx(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ii(r)!==0)return t[br(r)]}function Zx(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[br(i)]=r}function Xx(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Rs(r,o,n)}return Rs(r,e.attrs,n)}function td(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Rs(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Rs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),JS(t,o,n?!0:e[++s]))}return t===void 0?null:t}function Jx(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=$x(c)?ev(l,e,n,i,Ii(c),o):void 0;if(!ol(u)){ol(s)||Bx(c)&&(s=ev(l,null,n,i,a,o));let d=bv(Ir(),n);$M(r,o,d,i,s)}}function ev(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,f=n[i+1];f===Gn&&(f=d?ht:void 0);let h=d?zu(f,r):u===r?f:void 0;if(c&&!ol(h)&&(h=zu(l,r)),ol(h)&&(a=h,o))return a;let p=t[i+1];i=o?br(p):Ii(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=zu(l,r))}return a}function ol(t){return t!==void 0}function eN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(js(t)))),t}function tN(t,e){return(t.flags&(e?8:16))!==0}var Hd=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function nd(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function nN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let l=t.at(s),c=e[s],u=nd(s,l,s,c,n);if(u!==0){u<0&&t.updateValue(s,c),s++;continue}let d=t.at(o),f=e[a],h=nd(o,d,a,f,n);if(h!==0){h<0&&t.updateValue(o,f),o--,a--;continue}let p=n(s,l),m=n(o,d),C=n(s,c);if(Object.is(C,m)){let D=n(a,f);Object.is(D,p)?(t.swap(s,o),t.updateValue(o,f),a--,o--):t.move(o,s),t.updateValue(s,c),s++;continue}if(r??=new al,i??=nv(t,s,o,n),zd(t,r,s,C))t.updateValue(s,c),s++,o++;else if(i.has(C))r.set(p,t.detach(s)),o--;else{let D=t.create(s,e[s]);t.attach(s,D),s++,o++}}for(;s<=a;)tv(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&s<=o;){let c=t.at(s),u=l.value,d=nd(s,c,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,l=a.next();else{r??=new al,i??=nv(t,s,o,n);let f=n(s,u);if(zd(t,r,s,f))t.updateValue(s,u),s++,o++,l=a.next();else if(!i.has(f))t.attach(s,t.create(s,u)),s++,o++,l=a.next();else{let h=n(s,c);r.set(h,t.detach(s)),o--}}}for(;!l.done;)tv(t,r,n,t.length,l.value),l=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function zd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function tv(t,e,n,r,i){if(zd(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function nv(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var al=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Ze(t,e,n){Ar("NgControlFlow");let r=q(),i=ks(),s=Kd(r,Se+t),o=0;if(vn(r,i,e)){let a=Oe(null);try{if(aw(s,o),e!==-1){let l=Qd(r[R],Se+e),c=Ms(s,l.tView.ssrId),u=Tl(r,l,n,{dehydratedView:c});Ml(s,u,o,Ss(l,c))}}finally{Oe(a)}}else{let a=ow(s,o);a!==void 0&&(a[He]=n)}}var Wd=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-ke}};function Ol(t,e){return e}var Gd=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function Vt(t,e,n,r,i,s,o,a,l,c,u,d,f){Ar("NgControlFlow");let h=l!==void 0,p=q(),m=a?o.bind(p[ot][He]):o,C=new Gd(h,m);p[Se+t]=C,Ve(t+1,e,n,r,i,s),h&&Ve(t+2,l,c,u,d,f)}var qd=class extends Hd{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-ke}at(e){return this.getLView(e)[He].$implicit}attach(e,n){let r=n[kt];this.needsIndexUpdate||=e!==this.length,Ml(this.lContainer,n,e,Ss(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,rN(this.lContainer,e)}create(e,n){let r=Ms(this.lContainer,this.templateTNode.tView.ssrId);return Tl(this.hostLView,this.templateTNode,new Wd(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Dl(e[R],e)}updateValue(e,n){this.getLView(e)[He].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[He].$index=e}getLView(e){return iN(this.lContainer,e)}};function jt(t){let e=Oe(null),n=Ir();try{let r=q(),i=r[R],s=r[n];if(s.liveCollection===void 0){let a=n+1,l=Kd(r,a),c=Qd(i,a);s.liveCollection=new qd(l,r,c)}else s.liveCollection.reset();let o=s.liveCollection;if(nN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=ks(),l=o.length===0;if(vn(r,a,l)){let c=n+2,u=Kd(r,c);if(l){let d=Qd(i,c),f=Ms(u,d.tView.ssrId),h=Tl(r,d,void 0,{dehydratedView:f});Ml(u,h,0,Ss(d,f))}else aw(u,0)}}}finally{Oe(e)}}function Kd(t,e){return t[e]}function rN(t,e){return Is(t,e)}function iN(t,e){return ow(t,e)}function Qd(t,e){return nf(t,e)}function sN(t,e,n,r,i,s){let o=e.consts,a=Ha(o,i),l=Bs(e,t,2,r,a);return X_(e,n,l,Ha(o,s)),l.attrs!==null&&xd(l,l.attrs,!1),l.mergedAttrs!==null&&xd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function v(t,e,n,r){let i=q(),s=Ye(),o=Se+t,a=i[ge],l=s.firstCreatePass?sN(o,s,i,e,n,r):s.data[o],c=Aw(s,i,l,a,e,t);i[o]=c;let u=tf(l);return Fs(l,!0),$_(a,c,l),(l.flags&32)!==32&&cf()&&Tf(s,i,c,l),RS()===0&&Er(c,i),PS(),u&&(K_(s,i,l),q_(s,l,i)),r!==null&&Q_(i,l),v}function w(){let t=at();Mv()?Av():(t=t.parent,Fs(t,!1));let e=t;FS(e)&&LS(),OS();let n=Ye();return n.firstCreatePass&&(wf(n,t),Cv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&eM(e)&&Jy(n,e,q(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&tM(e)&&Jy(n,e,q(),e.stylesWithoutHost,!1),w}function V(t,e,n,r){return v(t,e,n,r),w(),V}var Aw=(t,e,n,r,i,s)=>(Hn(!0),If(r,i,Lv()));function oN(t,e,n,r,i,s){let o=e[kt],a=!o||Ti()||_l(o,s);if(Hn(a),a)return If(r,i,Lv());let l=Al(o,t,e,n);return e_(o,s)&&vl(o,s,l.nextSibling),o&&(Bv(n)||Uv(l))&&Os(n)&&(kS(n),j_(l)),l}function aN(){Aw=oN}var lN=(t,e,n,r)=>(Hn(!0),N_(e[ge],""));function cN(t,e,n,r){let i,s=e[kt],o=!s||Ti();if(Hn(o),o)return N_(e[ge],"");let a=Al(s,t,e,n),l=FT(s,r);return vl(s,r,a),i=xl(l,a),i}function uN(){lN=cN}function Sn(){return q()}var ll="en-US";var dN=ll;function fN(t){typeof t=="string"&&(dN=t.toLowerCase().replace(/_/g,"-"))}function Te(t,e,n,r){let i=q(),s=Ye(),o=at();return pN(s,i,i[ge],o,t,e,r),Te}function hN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[vs],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function pN(t,e,n,r,i,s,o){let a=tf(r),c=t.firstCreatePass&&iw(t),u=e[He],d=rw(e),f=!0;if(r.type&3||o){let m=gt(r,e),C=o?o(m):m,D=d.length,k=o?X=>o(Lt(X[r.index])):r.index,ie=null;if(!o&&a&&(ie=hN(t,e,i,r.index)),ie!==null){let X=ie.__ngLastListenerFn__||ie;X.__ngNextListenerFn__=s,ie.__ngLastListenerFn__=s,f=!1}else{s=iv(r,e,u,s,!1);let X=n.listen(C,i,s);d.push(s,X),c&&c.push(i,k,D,D+1)}}else s=iv(r,e,u,s,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let m=p.length;if(m)for(let C=0;C<m;C+=2){let D=p[C],k=p[C+1],Me=e[D][k].subscribe(s),ve=d.length;if(d.push(s,Me),c){let _e=typeof Me=="function"?ve+1:-(ve+1);c.push(i,r.index,ve,_e)}}}}function rv(t,e,n,r){try{return Yt(6,e,n),n(r)!==!1}catch(i){return sw(t,i),!1}finally{Yt(7,e,n)}}function iv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?$n(t.index,e):e;Rf(a);let l=rv(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=rv(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&o.preventDefault(),l}}function We(t=1){return GS(t)}function mN(t,e){let n=null,r=fS(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?hv(t,s,!0):mS(r,s))return i}return n}function Fl(t){let e=q()[ot][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=ZS(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?mN(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function kl(t,e=0,n){let r=q(),i=Ye(),s=Bs(i,Se+t,16,null,n||null);s.projection===null&&(s.projection=e),Av(),(!r[kt]||Ti())&&(s.flags&32)!==32&&BM(i,r,s)}function xw(t,e,n,r){Dx(t,e,n,r)}function Nw(t){let e=q(),n=Ye(),r=xv();of(r+1);let i=kf(n,r);if(t.dirty&&TS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Tx(e,r);t.reset(s,KS),t.notifyOnChanges()}return!0}return!1}function Rw(){return Ex(q(),xv())}function gN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function T(t,e=""){let n=q(),r=Ye(),i=t+Se,s=r.firstCreatePass?Bs(r,i,1,e,null):r.data[i],o=Pw(r,n,s,e,t);n[i]=o,cf()&&Tf(r,n,o,s),Fs(s,!1)}var Pw=(t,e,n,r,i)=>(Hn(!0),x_(e[ge],r));function yN(t,e,n,r,i){let s=e[kt],o=!s||Ti()||_l(s,i);return Hn(o),o?x_(e[ge],r):Al(s,t,e,n)}function vN(){Pw=yN}function Bt(t){return xr("",t,""),Bt}function xr(t,e,n){let r=q(),i=jx(r,t,e,n);return i!==Gn&&yA(r,Ir(),i),xr}function _N(t,e,n){let r=Ye();if(r.firstCreatePass){let i=jn(t);Yd(n,r.data,r.blueprint,i,!0),Yd(e,r.data,r.blueprint,i,!1)}}function Yd(t,e,n,r,i){if(t=Qe(t),Array.isArray(t))for(let s=0;s<t.length;s++)Yd(t[s],e,n,r,i);else{let s=Ye(),o=q(),a=at(),l=bi(t)?t:Qe(t.provide),c=o_(t),u=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(bi(t)||!t.multi){let h=new _r(c,i,$),p=id(l,e,i?u:u+f,d);p===-1?(Ed(Xa(a,o),s,l),rd(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),o.push(h)):(n[p]=h,o[p]=h)}else{let h=id(l,e,u+f,d),p=id(l,e,u,u+f),m=h>=0&&n[h],C=p>=0&&n[p];if(i&&!C||!i&&!m){Ed(Xa(a,o),s,l);let D=CN(i?EN:wN,n.length,i,r,c);!i&&C&&(n[p].providerFactory=D),rd(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(D),o.push(D)}else{let D=Ow(n[i?p:h],c,!i&&r);rd(s,t,h>-1?h:p,D)}!i&&r&&C&&n[p].componentProviders++}}}function rd(t,e,n,r){let i=bi(e),s=BT(e);if(i||s){let l=(s?Qe(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Ow(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function id(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function wN(t,e,n,r){return Zd(this.multi,[])}function EN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=wr(n,n[R],this.providerFactory.index,r);s=a.slice(0,o),Zd(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Zd(i,s);return s}function Zd(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function CN(t,e,n,r,i){let s=new _r(t,n,$);return s.multi=[],s.index=e,s.componentProviders=0,Ow(s,i,r&&!n),s}function $s(t,e=[]){return n=>{n.providersResolver=(r,i)=>_N(r,i?i(t):t,e)}}var DN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=r_(!1,r.type),s=i.length>0?Vf([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(B(bt))});let t=e;return t})();function ne(t){Ar("NgStandalone"),t.getStandaloneInjector=e=>e.get(DN).getOrCreateStandaloneInjector(t)}function Ll(t,e,n){let r=fl()+t,i=q();return i[r]===Gn?jf(i,r,n?e.call(n):e()):Ox(i,r)}function Fw(t,e,n,r){return Lw(q(),fl(),t,e,n,r)}function Bf(t,e,n,r,i){return bN(q(),fl(),t,e,n,r,i)}function kw(t,e){let n=t[e];return n===Gn?void 0:n}function Lw(t,e,n,r,i,s){let o=e+n;return vn(t,o,i)?jf(t,o+1,s?r.call(s,i):r(i)):kw(t,o+1)}function bN(t,e,n,r,i,s,o){let a=e+n;return Fx(t,a,i,s)?jf(t,a+2,o?r.call(o,i,s):r(i,s)):kw(t,a+2)}function Vw(t,e){let n=Ye(),r,i=t+Se;n.firstCreatePass?(r=IN(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=yr(r.type,!0)),o,a=it($);try{let l=Za(!1),c=s();return Za(l),gN(n,q(),i,c),c}finally{it(a)}}function IN(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function jw(t,e,n){let r=t+Se,i=q(),s=SS(i,r);return SN(i,r)?Lw(i,fl(),e,s.transform,n,s):s.transform(n)}function SN(t,e){return t[R].data[e].pure}var Vl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Bw=new P("");function Nr(t){return!!t&&typeof t.then=="function"}function Uw(t){return!!t&&typeof t.subscribe=="function"}var $w=new P(""),Hw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g($w,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Nr(o))r.push(o);else if(Uw(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ni=new P("");function TN(){Yg(()=>{throw new y(600,!1)})}function MN(t){return t.isBoundToModule}function AN(t,e,n){try{let r=n();return Nr(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(C_),this.afterRenderEffectManager=g(Ew),this.componentTypes=[],this.components=[],this.isStable=g(Us).hasPendingTasks.pipe(z(r=>!r)),this._injector=g(bt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof rl;if(!this._injector.get(Hw).done){let h=!s&&gv(r),p=!1;throw new y(405,p)}let a;s?a=r:a=this._injector.get(Nl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=MN(a)?void 0:this._injector.get(Bn),c=i||a.selector,u=a.create(Dn.NULL,[],c,l),d=u.location.nativeElement,f=u.injector.get(Bw,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),sd(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new y(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===fw)throw new y(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:o}of this._views)!i&&!sv(s)||this.detectChangesInView(s,o,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>sv(i)))}detectChangesInView(r,i,s){let o;s?(o=0,r[x]|=1024):r[x]&64?o=0:o=1,hw(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;sd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Ni,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>sd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function sd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Oa;function Uf(t){Oa??=new WeakMap;let e=Oa.get(t);if(e)return e;let n=t.isStable.pipe(Pt(r=>r)).toPromise().then(()=>{});return Oa.set(t,n),t.onDestroy(()=>Oa?.delete(t)),n}function sv(t){return sf(t)}var Xd=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$f=(()=>{let e=class e{compileModuleSync(r){return new Bd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=yv(r),o=A_(s.declarations).reduce((a,l)=>{let c=pr(l);return c&&a.push(new xs(c)),a},[]);return new Xd(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var xN=(()=>{let e=class e{constructor(){this.zone=g(de),this.applicationRef=g(qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NN(t){return[{provide:de,useFactory:t},{provide:vr,multi:!0,useFactory:()=>{let e=g(xN,{optional:!0});return()=>e.initialize()}},{provide:vr,multi:!0,useFactory:()=>{let e=g(FN);return()=>{e.initialize()}}},{provide:C_,useFactory:RN}]}function RN(){let t=g(de),e=g(gn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function PN(t){let e=NN(()=>new de(ON(t)));return Mr([[],e])}function ON(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FN=(()=>{let e=class e{constructor(){this.subscription=new be,this.initialized=!1,this.zone=g(de),this.pendingTasks=g(Us)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{de.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{de.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function kN(){return typeof $localize<"u"&&$localize.locale||ll}var Hs=new P("",{providedIn:"root",factory:()=>g(Hs,j.Optional|j.SkipSelf)||kN()});var zw=new P("");var Ba=null;function LN(t=[],e){return Dn.create({name:e,providers:[{provide:wl,useValue:"platform"},{provide:zw,useValue:new Set([()=>Ba=null])},...t]})}function VN(t=[]){if(Ba)return Ba;let e=LN(t);return Ba=e,TN(),jN(e),e}function jN(t){t.get(df,null)?.forEach(n=>n())}function Ww(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=VN(r),s=[PN(),...n||[]],a=new sl({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(de);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(gn,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:h=>{c.handleError(h)}})});let d=()=>a.destroy(),f=i.get(zw);return f.add(d),a.onDestroy(()=>{u.unsubscribe(),f.delete(d)}),AN(c,l,()=>{let h=a.get(Hw);return h.runInitializers(),h.donePromise.then(()=>{let p=a.get(Hs,ll);fN(p||ll);let m=a.get(qn);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var ov=!1;function BN(){ov||(ov=!0,NT(),aN(),vN(),uN(),Vx(),gx(),HA(),YM())}function UN(t,e){return Uf(t)}function Gw(){return Mr([{provide:Aa,useFactory:()=>{let t=!0;return Na()&&(t=!!g(Tr,{optional:!0})?.get(Xv,null)),t&&Ar("NgHydration"),t}},{provide:vr,useValue:()=>{Na()&&g(Aa)&&($N(),BN())},multi:!0},{provide:b_,useFactory:()=>Na()&&g(Aa)},{provide:Ni,useFactory:()=>{if(Na()&&g(Aa)){let t=g(qn),e=g(Dn);return()=>{UN(t,e).then(()=>{de.assertInAngularZone(),FA(t)})}}return()=>{}},multi:!0}])}function $N(){let t=hl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===AT){e=n;break}if(!e)throw new y(-507,!1)}function Ri(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var Yw=null;function Tn(){return Yw}function Zw(t){Yw??=t}var jl=class{};var Ge=new P(""),Xw=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(HN),providedIn:"platform"});let t=e;return t})();var HN=(()=>{let e=class e extends Xw{constructor(){super(),this._doc=g(Ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Tn().getBaseHref(this._doc)}onPopState(r){let i=Tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Tn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Jw(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qw(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Rr(t){return t&&t[0]!=="?"?"?"+t:t}var Pi=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(eE),providedIn:"root"});let t=e;return t})(),zN=new P(""),eE=(()=>{let e=class e extends Pi{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Jw(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Rr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Rr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(B(Xw),B(zN,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var zs=(()=>{let e=class e{constructor(r){this._subject=new Ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=qN(qw(Kw(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Rr(i))}normalize(r){return e.stripTrailingSlash(GN(this._basePath,Kw(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Rr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Rr,e.joinWithSlash=Jw,e.stripTrailingSlash=qw,e.\u0275fac=function(i){return new(i||e)(B(Pi))},e.\u0275prov=I({token:e,factory:()=>WN(),providedIn:"root"});let t=e;return t})();function WN(){return new zs(B(Pi))}function GN(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Kw(t){return t.replace(/\/index.html$/,"")}function qN(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function tE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Hf=/\s+/,Qw=[],Ul=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Qw,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Hf):Qw}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Hf):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Hf).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)($(lt),$(It))},e.\u0275dir=ze({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Le.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Un({type:e}),e.\u0275inj=zn({});let t=e;return t})(),nE="browser",KN="server";function Wf(t){return t===KN}var Bl=class{};var Hl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var cE=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(cE||{}),qf=class{constructor(e,n=uE.Ok,r="OK"){this.headers=e.headers||new Hl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var zl=class t extends qf{constructor(e={}){super(e),this.type=cE.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var uE=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(uE||{});var YN=new P("");var rE="b",iE="h",sE="s",oE="st",aE="u",lE="rt",$l=new P(""),ZN=["GET","HEAD"];function XN(t,e){let u=g($l),{isCacheActive:n}=u,r=Jo(u,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!ZN.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=g(Tr),a=eR(t),l=o.get(a,null),c=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(c=i.includeHeaders),l){let{[rE]:d,[lE]:f,[iE]:h,[sE]:p,[oE]:m,[aE]:C}=l,D=d;switch(f){case"arraybuffer":D=new TextEncoder().encode(d).buffer;break;case"blob":D=new Blob([d]);break}let k=new Hl(h);return N(new zl({body:D,headers:k,status:p,statusText:m,url:C}))}return e(t).pipe(Ee(d=>{d instanceof zl&&o.set(a,{[rE]:d.body,[iE]:JN(d.headers,c),[sE]:d.status,[oE]:d.statusText,[aE]:d.url||"",[lE]:t.responseType})}))}function JN(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function eR(t){let{params:e,method:n,responseType:r,url:i,body:s}=t,o=e.keys().sort().map(u=>`${u}=${e.getAll(u)}`).join("&"),l=[n,r,i,typeof s=="string"?s:"",o].join("|"),c=tR(l);return c}function tR(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function dE(t){return[{provide:$l,useFactory:()=>(Ar("NgHttpTransferCache"),E({isCacheActive:!0},t))},{provide:YN,useValue:XN,multi:!0,deps:[Tr,$l]},{provide:Ni,multi:!0,useFactory:()=>{let e=g(qn),n=g($l);return()=>{Uf(e).then(()=>{n.isCacheActive=!1})}}}]}var Yf=class extends jl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Zf=class t extends Yf{static makeCurrent(){Zw(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=rR();return n==null?null:iR(n)}resetBaseElement(){Ws=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return tE(document.cookie,e)}},Ws=null;function rR(){return Ws=Ws||document.querySelector("base"),Ws?Ws.getAttribute("href"):null}function iR(t){return new URL(t,document.baseURI).pathname}var sR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Xf=new P(""),pE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(B(Xf),B(de))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Wl=class{constructor(e){this._doc=e}},Kf="ng-app-id",mE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wf(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Kf}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Kf),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Kf,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(B(Ge),B(ml),B(hf,8),B(En))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Qf={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},th=/%COMP%/g,gE="%COMP%",oR=`_nghost-${gE}`,aR=`_ngcontent-${gE}`,lR=!0,cR=new P("",{providedIn:"root",factory:()=>lR});function uR(t){return aR.replace(th,t)}function dR(t){return oR.replace(th,t)}function yE(t,e){return e.map(n=>n.replace(th,t))}var Gl=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Wf(l),this.defaultRenderer=new Gs(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Xt.ShadowDom&&(i=J(E({},i),{encapsulation:Xt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof ql?s.applyToHost(r):s instanceof qs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Xt.Emulated:o=new ql(c,u,i,this.appId,d,a,l,f);break;case Xt.ShadowDom:return new Jf(c,u,r,i,a,l,this.nonce,f);default:o=new qs(c,u,i,d,a,l,f);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(B(pE),B(mE),B(ml),B(cR),B(Ge),B(En),B(de),B(hf))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Gs=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Qf[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Qf[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Qf[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yn.DashCase|yn.Important)?e.style.setProperty(n,r,i&yn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Tn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function fE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Jf=class extends Gs{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=yE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qs=class extends Gs{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?yE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ql=class extends qs{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=uR(c),this.hostAttr=dR(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},fR=(()=>{let e=class e extends Wl{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(B(Ge))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),hE=["alt","control","meta","shift"],hR={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},mR=(()=>{let e=class e extends Wl{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Tn().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),hE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=hR[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),hE.forEach(a=>{if(a!==s){let l=pR[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(B(Ge))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function vE(t,e){return Ww(E({rootComponent:t},gR(e)))}function gR(t){return{appProviders:[...ER,...t?.providers??[]],platformProviders:wR}}function yR(){Zf.makeCurrent()}function vR(){return new gn}function _R(){return $v(document),document}var wR=[{provide:En,useValue:nE},{provide:df,useValue:yR,multi:!0},{provide:Ge,useFactory:_R,deps:[]}];var ER=[{provide:wl,useValue:"root"},{provide:gn,useFactory:vR,deps:[]},{provide:Xf,useClass:fR,multi:!0,deps:[Ge,de,En]},{provide:Xf,useClass:mR,multi:!0,deps:[Ge]},Gl,mE,pE,{provide:Dr,useExisting:Gl},{provide:Bl,useClass:sR,deps:[]},[]];var _E=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(B(Ge))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var eh=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(eh||{});function wE(...t){let e=[],n=new Set,r=n.has(eh.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return Mr([[],Gw(),n.has(eh.NoHttpTransferCache)||r?[]:dE({}),e])}var F="primary",lo=Symbol("RouteTitle"),oh=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vi(t){return new oh(t)}function DR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function bR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!en(t[n],e[n]))return!1;return!0}function en(t,e){let n=t?ah(t):void 0,r=e?ah(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!SE(t[i],e[i]))return!1;return!0}function ah(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function SE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function TE(t){return t.length>0?t[t.length-1]:null}function Yn(t){return Fu(t)?t:Nr(t)?pe(Promise.resolve(t)):N(t)}var IR={exact:AE,subset:xE},ME={exact:SR,subset:TR,ignored:()=>!0};function EE(t,e,n){return IR[n.paths](t.root,e.root,n.matrixParams)&&ME[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function SR(t,e){return en(t,e)}function AE(t,e,n){if(!Or(t.segments,e.segments)||!Yl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!AE(t.children[r],e.children[r],n))return!1;return!0}function TR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>SE(t[n],e[n]))}function xE(t,e,n){return NE(t,e,e.segments,n)}function NE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Or(i,n)||e.hasChildren()||!Yl(i,n,r))}else if(t.segments.length===n.length){if(!Or(t.segments,n)||!Yl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!xE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Or(t.segments,i)||!Yl(t.segments,i,r)||!t.children[F]?!1:NE(t.children[F],e,s,r)}}function Yl(t,e,n){return e.every((r,i)=>ME[n](t[i].parameters,r.parameters))}var Kn=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){return xR.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Zl(this)}},Pr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vi(this.parameters),this._parameterMap}toString(){return PE(this)}};function MR(t,e){return Or(t,e)&&t.every((n,r)=>en(n.parameters,e[r].parameters))}function Or(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function AR(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===F&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==F&&(n=n.concat(e(i,r)))}),n}var Ph=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new Jl,providedIn:"root"});let t=e;return t})(),Jl=class{parse(e){let n=new ch(e);return new Kn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ks(e.root,!0)}`,r=PR(e.queryParams),i=typeof e.fragment=="string"?`#${NR(e.fragment)}`:"";return`${n}${r}${i}`}},xR=new Jl;function Zl(t){return t.segments.map(e=>PE(e)).join("/")}function Ks(t,e){if(!t.hasChildren())return Zl(t);if(e){let n=t.children[F]?Ks(t.children[F],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==F&&r.push(`${i}:${Ks(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=AR(t,(r,i)=>i===F?[Ks(t.children[F],!1)]:[`${i}:${Ks(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[F]!=null?`${Zl(t)}/${n[0]}`:`${Zl(t)}/(${n.join("//")})`}}function RE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Kl(t){return RE(t).replace(/%3B/gi,";")}function NR(t){return encodeURI(t)}function lh(t){return RE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xl(t){return decodeURIComponent(t)}function CE(t){return Xl(t.replace(/\+/g,"%20"))}function PE(t){return`${lh(t.path)}${RR(t.parameters)}`}function RR(t){return Object.entries(t).map(([e,n])=>`;${lh(e)}=${lh(n)}`).join("")}function PR(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Kl(n)}=${Kl(i)}`).join("&"):`${Kl(n)}=${Kl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var OR=/^[^\/()?;#]+/;function nh(t){let e=t.match(OR);return e?e[0]:""}var FR=/^[^\/()?;=#]+/;function kR(t){let e=t.match(FR);return e?e[0]:""}var LR=/^[^=?&#]+/;function VR(t){let e=t.match(LR);return e?e[0]:""}var jR=/^[^&#]+/;function BR(t){let e=t.match(jR);return e?e[0]:""}var ch=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[F]=new re(e,n)),r}parseSegment(){let e=nh(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new y(4009,!1);return this.capture(e),new Pr(Xl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=kR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=nh(this.remaining);i&&(r=i,this.capture(r))}e[Xl(n)]=Xl(r)}parseQueryParam(e){let n=VR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=BR(this.remaining);o&&(r=o,this.capture(r))}let i=CE(n),s=CE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=F);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[F]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new y(4011,!1)}};function OE(t){return t.segments.length>0?new re([],{[F]:t}):t}function FE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=FE(i);if(r===F&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return UR(n)}function UR(t){if(t.numberOfChildren===1&&t.children[F]){let e=t.children[F];return new re(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof Kn}function $R(t,e,n=null,r=null){let i=kE(t);return LE(i,e,n,r)}function kE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=OE(r);return e??i}function LE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return rh(i,i,i,n,r);let s=HR(e);if(s.toRoot())return rh(i,i,new re([],{}),n,r);let o=zR(s,i,t),a=o.processChildren?Zs(o.segmentGroup,o.index,s.commands):jE(o.segmentGroup,o.index,s.commands);return rh(i,o.segmentGroup,a,n,r)}function ec(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function eo(t){return typeof t=="object"&&t!=null&&t.outlets}function rh(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=VE(t,e,n);let a=OE(FE(o));return new Kn(a,s,i)}function VE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=VE(s,e,n)}),new re(t.segments,r)}var tc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&ec(r[0]))throw new y(4003,!1);let i=r.find(eo);if(i&&i!==TE(r))throw new y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function HR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new tc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new tc(n,e,r)}var ki=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function zR(t,e,n){if(t.isAbsolute)return new ki(e,!0,0);if(!n)return new ki(e,!1,NaN);if(n.parent===null)return new ki(n,!0,0);let r=ec(t.commands[0])?0:1,i=n.segments.length-1+r;return WR(n,i,t.numberOfDoubleDots)}function WR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new y(4005,!1);i=r.segments.length}return new ki(r,!1,i-s)}function GR(t){return eo(t[0])?t[0].outlets:{[F]:t}}function jE(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return Zs(t,e,n);let r=qR(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[F]=new re(t.segments.slice(r.pathIndex),t.children),Zs(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?uh(t,e,n):r.match?Zs(t,0,i):uh(t,e,n)}function Zs(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=GR(n),i={};if(Object.keys(r).some(s=>s!==F)&&t.children[F]&&t.numberOfChildren===1&&t.children[F].segments.length===0){let s=Zs(t.children[F],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=jE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function qR(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(eo(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!bE(l,c,o))return s;r+=2}else{if(!bE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function uh(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(eo(s)){let l=KR(s.outlets);return new re(r,l)}if(i===0&&ec(n[0])){let l=t.segments[e];r.push(new Pr(l.path,DE(n[0]))),i++;continue}let o=eo(s)?s.outlets[F]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&ec(a)?(r.push(new Pr(o,DE(a))),i+=2):(r.push(new Pr(o,{})),i++)}return new re(r,{})}function KR(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=uh(new re([],{}),0,r))}),e}function DE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function bE(t,e,n){return t==n.path&&en(e,n.parameters)}var Xs="imperative",je=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(je||{}),Tt=class{constructor(e,n){this.id=e,this.url=n}},to=class extends Tt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=je.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ut=class extends Tt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=je.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),dh=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dh||{}),Qn=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Fr=class extends Tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=je.NavigationSkipped}},no=class extends Tt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=je.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nc=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hh=class extends Tt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=je.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ph=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mh=class extends Tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=je.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gh=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},yh=class{constructor(e){this.route=e,this.type=je.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vh=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_h=class{constructor(e){this.snapshot=e,this.type=je.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{constructor(e){this.snapshot=e,this.type=je.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{constructor(e){this.snapshot=e,this.type=je.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ro=class{},io=class{constructor(e){this.url=e}};var Ch=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new cc,this.attachRef=null}},cc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Ch,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Dh(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Dh(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=bh(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return bh(e,this._root).map(n=>n.value)}};function Dh(t,e){if(t===e.value)return e;for(let n of e.children){let r=Dh(t,n);if(r)return r}return null}function bh(t,e){if(t===e.value)return[e];for(let n of e.children){let r=bh(t,n);if(r.length)return r.unshift(e),r}return[]}var yt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ic=class extends rc{constructor(e,n){super(e),this.snapshot=n,Fh(this,e)}toString(){return this.snapshot.toString()}};function BE(t){let e=QR(t),n=new Fe([new Pr("",{})]),r=new Fe({}),i=new Fe({}),s=new Fe({}),o=new Fe(""),a=new kr(n,r,s,o,i,F,t,e.root);return a.snapshot=e.root,new ic(new yt(a,[]),e)}function QR(t){let e={},n={},r={},i="",s=new so([],e,r,i,n,F,t,null,{});return new sc("",new yt(s,[]))}var kr=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(c=>c[lo]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>Vi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>Vi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Oh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&$E(i)&&(r.resolve[lo]=i.title),r}var so=class{get title(){return this.data?.[lo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},sc=class extends rc{constructor(e,n){super(n),this.url=e,Fh(this,n)}toString(){return UE(this._root)}};function Fh(t,e){e.value._routerState=t,e.children.forEach(n=>Fh(t,n))}function UE(t){let e=t.children.length>0?` { ${t.children.map(UE).join(", ")} } `:"";return`${t.value}${e}`}function ih(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,en(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),en(e.params,n.params)||t.paramsSubject.next(n.params),bR(e.url,n.url)||t.urlSubject.next(n.url),en(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ih(t,e){let n=en(t.params,e.params)&&MR(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Ih(t.parent,e.parent))}function $E(t){return typeof t.title=="string"||t.title===null}var kh=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=F,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.parentContexts=g(cc),this.location=g(xi),this.changeDetector=g(Ai),this.environmentInjector=g(bt),this.inputBinder=g(Lh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Sh(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ze({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Cn]});let t=e;return t})(),Sh=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===kr?this.route:e===cc?this.childContexts:this.parent.get(e,n)}},Lh=new P("");function YR(t,e,n){let r=oo(t,e._root,n?n._root:void 0);return new ic(r,e)}function oo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=ZR(t,e,n);return new yt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>oo(t,a)),o}}let r=XR(e.value),i=e.children.map(s=>oo(t,s));return new yt(r,i)}}function ZR(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return oo(t,r,i);return oo(t,r)})}function XR(t){return new kr(new Fe(t.url),new Fe(t.params),new Fe(t.queryParams),new Fe(t.fragment),new Fe(t.data),t.outlet,t.component,t)}var HE="ngNavigationCancelingError";function zE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=WE(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function WE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[HE]=!0,n.cancellationCode=e,n}function JR(t){return GE(t)&&ji(t.url)}function GE(t){return!!t&&t[HE]}var eP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["ng-component"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(i,s){i&1&&V(0,"router-outlet")},dependencies:[kh],encapsulation:2});let t=e;return t})();function tP(t,e){return t.providers&&!t._injector&&(t._injector=Vf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Vh(t){let e=t.children&&t.children.map(Vh),n=e?J(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==F&&(n.component=eP),n}function tn(t){return t.outlet||F}function nP(t,e){let n=t.filter(r=>tn(r)===e);return n.push(...t.filter(r=>tn(r)!==e)),n}function co(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var rP=(t,e,n,r)=>z(i=>(new Th(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Th=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),ih(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Fi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Eh(s.value.snapshot))}),e.children.length&&this.forwardEvent(new _h(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(ih(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ih(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=co(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},oc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Li=class{constructor(e,n){this.component=e,this.route=n}};function iP(t,e,n){let r=t._root,i=e?e._root:null;return Qs(r,i,n,[r.value])}function sP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ui(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Hv(t)?t:e.get(t):r}function Qs(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Fi(e);return t.children.forEach(o=>{oP(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Js(a,n.getContext(o),i)),i}function oP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=aP(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new oc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Qs(t,e,a?a.children:null,r,i):Qs(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Li(a.outlet.component,o))}else o&&Js(e,a,i),i.canActivateChecks.push(new oc(r)),s.component?Qs(t,null,a?a.children:null,r,i):Qs(t,null,n,r,i);return i}function aP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Or(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Or(t.url,e.url)||!en(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ih(t,e)||!en(t.queryParams,e.queryParams);case"paramsChange":default:return!Ih(t,e)}}function Js(t,e,n){let r=Fi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Js(o,e.children.getContext(s),n):Js(o,null,n):Js(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Li(e.outlet.component,i)):n.canDeactivateChecks.push(new Li(null,i)):n.canDeactivateChecks.push(new Li(null,i))}function uo(t){return typeof t=="function"}function lP(t){return typeof t=="boolean"}function cP(t){return t&&uo(t.canLoad)}function uP(t){return t&&uo(t.canActivate)}function dP(t){return t&&uo(t.canActivateChild)}function fP(t){return t&&uo(t.canDeactivate)}function hP(t){return t&&uo(t.canMatch)}function qE(t){return t instanceof un||t?.name==="EmptyError"}var Ql=Symbol("INITIAL_VALUE");function Bi(){return Dt(t=>Sa(t.map(e=>e.pipe(dn(1),Bu(Ql)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===Ql)return Ql;if(n===!1||n instanceof Kn)return n}return!0}),Ke(e=>e!==Ql),dn(1)))}function pP(t,e){return Ie(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(J(E({},n),{guardsResult:!0})):mP(o,r,i,t).pipe(Ie(a=>a&&lP(a)?gP(r,s,t,e):N(a)),z(a=>J(E({},n),{guardsResult:a})))})}function mP(t,e,n,r){return pe(t).pipe(Ie(i=>EP(i.component,i.route,n,e,r)),Pt(i=>i!==!0,!0))}function gP(t,e,n,r){return pe(e).pipe(dr(i=>pi(vP(i.route.parent,r),yP(i.route,r),wP(t,i.path,n),_P(t,i.route,n))),Pt(i=>i!==!0,!0))}function yP(t,e){return t!==null&&e&&e(new wh(t)),N(!0)}function vP(t,e){return t!==null&&e&&e(new vh(t)),N(!0)}function _P(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Ta(()=>{let o=co(e)??n,a=Ui(s,o),l=uP(a)?a.canActivate(e,t):Wn(o,()=>a(e,t));return Yn(l).pipe(Pt())}));return N(i).pipe(Bi())}function wP(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>sP(o)).filter(o=>o!==null).map(o=>Ta(()=>{let a=o.guards.map(l=>{let c=co(o.node)??n,u=Ui(l,c),d=dP(u)?u.canActivateChild(r,t):Wn(c,()=>u(r,t));return Yn(d).pipe(Pt())});return N(a).pipe(Bi())}));return N(s).pipe(Bi())}function EP(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let l=co(e)??i,c=Ui(a,l),u=fP(c)?c.canDeactivate(t,e,n,r):Wn(l,()=>c(t,e,n,r));return Yn(u).pipe(Pt())});return N(o).pipe(Bi())}function CP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=Ui(o,t),l=cP(a)?a.canLoad(e,n):Wn(t,()=>a(e,n));return Yn(l)});return N(s).pipe(Bi(),KE(r))}function KE(t){return Nu(Ee(e=>{if(ji(e))throw zE(t,e)}),z(e=>e===!0))}function DP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=Ui(o,t),l=hP(a)?a.canMatch(e,n):Wn(t,()=>a(e,n));return Yn(l)});return N(s).pipe(Bi(),KE(r))}var ao=class{constructor(e){this.segmentGroup=e||null}},ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Oi(t){return fi(new ao(t))}function bP(t){return fi(new y(4e3,!1))}function IP(t){return fi(WE(!1,St.GuardRejected))}var Mh=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[F])return bP(e.redirectTo);i=i.children[F]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ac(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Kn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ah={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function SP(t,e,n,r,i){let s=jh(t,e,n);return s.matched?(r=tP(e,r),DP(r,e,n,i).pipe(z(o=>o===!0?s:E({},Ah)))):N(s)}function jh(t,e,n){if(e.path==="**")return TP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Ah):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||DR)(n,t,e);if(!i)return E({},Ah);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function TP(t){return{matched:!0,parameters:t.length>0?TE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function IE(t,e,n,r){return n.length>0&&xP(t,n,r)?{segmentGroup:new re(e,AP(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&NP(t,n,r)?{segmentGroup:new re(t.segments,MP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function MP(t,e,n,r){let i={};for(let s of n)if(uc(t,e,s)&&!r[tn(s)]){let o=new re([],{});i[tn(s)]=o}return E(E({},r),i)}function AP(t,e){let n={};n[F]=e;for(let r of t)if(r.path===""&&tn(r)!==F){let i=new re([],{});n[tn(r)]=i}return n}function xP(t,e,n){return n.some(r=>uc(t,e,r)&&tn(r)!==F)}function NP(t,e,n){return n.some(r=>uc(t,e,r))}function uc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function RP(t,e,n,r){return tn(t)!==r&&(r===F||!uc(e,n,t))?!1:jh(e,t,n).matched}function PP(t,e,n){return e.length===0&&!t.children[n]}var xh=class{};function OP(t,e,n,r,i,s,o="emptyOnly"){return new Nh(t,e,n,r,i,o,s).recognize()}var FP=31,Nh=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mh(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new y(4002,`'${e.segmentGroup}'`)}recognize(){let e=IE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new so([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},F,this.rootComponentType,null,{}),i=new yt(r,n),s=new sc("",i),o=$R(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,F).pipe(kn(r=>{if(r instanceof ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ao?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Oh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(s=>s instanceof yt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return pe(i).pipe(dr(s=>{let o=r.children[s],a=nP(n,s);return this.processSegmentGroup(e,a,o,s)}),ju((s,o)=>(s.push(...o),s)),Ln(null),Vu(),Ie(s=>{if(s===null)return Oi(r);let o=QE(s);return kP(o),N(o)}))}processSegment(e,n,r,i,s,o){return pe(n).pipe(dr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(kn(l=>{if(l instanceof ao)return N(null);throw l}))),Pt(a=>!!a),kn(a=>{if(qE(a))return PP(r,i,s)?N(new xh):Oi(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return RP(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Oi(i):Oi(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=jh(n,i,s);if(!a)return Oi(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>FP&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Ie(f=>this.processSegment(e,r,n,f.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=SP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(Dt(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Dt(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new so(u,f,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,VP(r),tn(r),r.component??r._loadedComponent??null,r,jP(r)),{segmentGroup:p,slicedSegments:m}=IE(n,u,d,l);if(m.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(z(D=>D===null?null:new yt(h,D)));if(l.length===0&&m.length===0)return N(new yt(h,[]));let C=tn(r)===s;return this.processSegment(c,l,p,m,C?F:s,!0).pipe(z(D=>new yt(h,D instanceof yt?[D]:[])))}))):Oi(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):CP(e,n,r,this.urlSerializer).pipe(Ie(i=>i?this.configLoader.loadChildren(e,n).pipe(Ee(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):IP(n))):N({routes:[],injector:e})}};function kP(t){t.sort((e,n)=>e.value.outlet===F?-1:n.value.outlet===F?1:e.value.outlet.localeCompare(n.value.outlet))}function LP(t){let e=t.value.routeConfig;return e&&e.path===""}function QE(t){let e=[],n=new Set;for(let r of t){if(!LP(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=QE(r.children);e.push(new yt(r.value,i))}return e.filter(r=>!n.has(r))}function VP(t){return t.data||{}}function jP(t){return t.resolve||{}}function BP(t,e,n,r,i,s){return Ie(o=>OP(t,e,n,r,o.extractedUrl,i,s).pipe(z(({state:a,tree:l})=>J(E({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function UP(t,e){return Ie(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of YE(l))o.add(c);let a=0;return pe(o).pipe(dr(l=>s.has(l)?$P(l,r,t,e):(l.data=Oh(l,l.parent,t).resolve,N(void 0))),Ee(()=>a++),gi(1),Ie(l=>a===o.size?N(n):Ct))})}function YE(t){let e=t.children.map(n=>YE(n)).flat();return[t,...e]}function $P(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!$E(i)&&(s[lo]=i.title),HP(s,t,e,r).pipe(z(o=>(t._resolvedData=o,t.data=Oh(t,t.parent,n).resolve,null)))}function HP(t,e,n,r){let i=ah(t);if(i.length===0)return N({});let s={};return pe(i).pipe(Ie(o=>zP(t[o],e,n,r).pipe(Pt(),Ee(a=>{s[o]=a}))),gi(1),Lu(s),kn(o=>qE(o)?Ct:fi(o)))}function zP(t,e,n,r){let i=co(e)??r,s=Ui(t,i),o=s.resolve?s.resolve(e,n):Wn(i,()=>s(e,n));return Yn(o)}function sh(t){return Dt(e=>{let n=t(e);return n?pe(n).pipe(z(()=>e)):N(e)})}var ZE=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===F);return i}getResolvedTitleForRoute(r){return r.data[lo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(WP),providedIn:"root"});let t=e;return t})(),WP=(()=>{let e=class e extends ZE{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(B(_E))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bh=new P("",{providedIn:"root",factory:()=>({})}),Uh=new P(""),GP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g($f)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Yn(r.loadComponent()).pipe(z(XE),Ee(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),mi(()=>{this.componentLoaders.delete(r)})),s=new di(i,()=>new nt).pipe(ui());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=qP(i,this.compiler,r,this.onLoadEndListener).pipe(mi(()=>{this.childrenLoaders.delete(i)})),a=new di(o,()=>new nt).pipe(ui());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function qP(t,e,n,r){return Yn(t.loadChildren()).pipe(z(XE),Ie(i=>i instanceof Ns||Array.isArray(i)?N(i):pe(e.compileModuleAsync(i))),z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Uh,[],{optional:!0,self:!0}).flat()),{routes:o.map(Vh),injector:s}}))}function KP(t){return t&&typeof t=="object"&&"default"in t}function XE(t){return KP(t)?t.default:t}var $h=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(QP),providedIn:"root"});let t=e;return t})(),QP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YP=new P("");var ZP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=g(GP),this.environmentInjector=g(bt),this.urlSerializer=g(Ph),this.rootContexts=g(cc),this.location=g(zs),this.inputBindingEnabled=g(Lh,{optional:!0})!==null,this.titleStrategy=g(ZE),this.options=g(Bh,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g($h),this.createViewTransition=g(YP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new gh(s)),i=s=>this.events.next(new yh(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(J(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Fe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Xs,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(o=>o.id!==0),z(o=>J(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Dt(o=>{this.currentTransition=o;let a=!1,l=!1;return N(o).pipe(Ee(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?J(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dt(c=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.rawUrl),f,dh.IgnoredSameUrlNavigation)),c.resolve(null),Ct}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return N(c).pipe(Dt(f=>{let h=this.transitions?.getValue();return this.events.next(new to(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Ct:Promise.resolve(f)}),BP(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ee(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=J(E({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new nc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:m,extras:C}=c,D=new to(f,this.urlSerializer.serialize(h),p,m);this.events.next(D);let k=BE(this.rootComponentType).snapshot;return this.currentTransition=o=J(E({},c),{targetSnapshot:k,urlAfterRedirects:h,extras:J(E({},C),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,N(o)}else{let f="";return this.events.next(new Fr(c.id,this.urlSerializer.serialize(c.extractedUrl),f,dh.IgnoredByUrlHandlingStrategy)),c.resolve(null),Ct}}),Ee(c=>{let u=new fh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),z(c=>(this.currentTransition=o=J(E({},c),{guards:iP(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),pP(this.environmentInjector,c=>this.events.next(c)),Ee(c=>{if(o.guardsResult=c.guardsResult,ji(c.guardsResult))throw zE(this.urlSerializer,c.guardsResult);let u=new hh(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Ke(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",St.GuardRejected),!1)),sh(c=>{if(c.guards.canActivateChecks.length)return N(c).pipe(Ee(u=>{let d=new ph(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Dt(u=>{let d=!1;return N(u).pipe(UP(this.paramsInheritanceStrategy,this.environmentInjector),Ee({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",St.NoDataFromResolver)}}))}),Ee(u=>{let d=new mh(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),sh(c=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ee(h=>{d.component=h}),z(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Sa(u(c.targetSnapshot.root)).pipe(Ln(null),dn(1))}),sh(()=>this.afterPreactivation()),Dt(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?pe(d).pipe(z(()=>o)):N(o)}),z(c=>{let u=YR(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=J(E({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ee(()=>{this.events.next(new ro)}),rP(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),dn(1),Ee({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ut(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Uu(this.transitionAbortSubject.pipe(Ee(c=>{throw c}))),mi(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),kn(c=>{if(l=!0,GE(c))this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),JR(c)?this.events.next(new io(c.url)):o.resolve(!1);else{this.events.next(new no(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Ct}))}))}cancelNavigationTransition(r,i,s){let o=new Qn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XP(t){return t!==Xs}var JP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(eO),providedIn:"root"});let t=e;return t})(),Rh=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},eO=(()=>{let e=class e extends Rh{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vs(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),JE=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(tO),providedIn:"root"});let t=e;return t})(),tO=(()=>{let e=class e extends JE{constructor(){super(...arguments),this.location=g(zs),this.urlSerializer=g(Ph),this.options=g(Bh,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g($h),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Kn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=BE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof to)this.stateMemento=this.createStateMemento();else if(r instanceof Fr)this.rawUrlTree=i.initialUrl;else if(r instanceof nc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ro?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Qn&&(r.code===St.GuardRejected||r.code===St.NoDataFromResolver)?this.restoreHistory(i):r instanceof no?this.restoreHistory(i,!0):r instanceof Ut&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vs(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ys=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ys||{});function nO(t,e){t.events.pipe(Ke(n=>n instanceof Ut||n instanceof Qn||n instanceof no||n instanceof Fr),z(n=>n instanceof Ut||n instanceof Fr?Ys.COMPLETE:(n instanceof Qn?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?Ys.REDIRECTING:Ys.FAILED),Ke(n=>n!==Ys.REDIRECTING),dn(1)).subscribe(()=>{e()})}function rO(t){throw t}var iO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Vl),this.stateManager=g(JE),this.options=g(Bh,{optional:!0})||{},this.pendingTasks=g(Us),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(ZP),this.urlSerializer=g(Ph),this.location=g(zs),this.urlHandlingStrategy=g($h),this._events=new nt,this.errorHandler=this.options.errorHandler||rO,this.navigated=!1,this.routeReuseStrategy=g(JP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Uh,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Lh,{optional:!0}),this.eventsSubscription=new be,this.isNgZoneEnabled=g(de)instanceof de&&de.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Qn&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Ut)this.navigated=!0;else if(i instanceof io){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||XP(s.source)};this.scheduleNavigation(a,Xs,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}aO(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=E({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Vh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=s?s.snapshot:this.routerState.snapshot.root;f=kE(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return LE(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=ji(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Xs,null,i)}navigate(r,i={skipLocationChange:!1}){return oO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=E({},iO):i===!1?s=E({},sO):s=i,ji(r))return EE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return EE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((f,h)=>{l=f,c=h});let d=this.pendingTasks.add();return nO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new y(4008,!1)}function aO(t){return!(t instanceof ro)&&!(t instanceof io)}var lc=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof Ut&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:S_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($($i),$(kr),Cf("tabindex"),$(It),$(lt),$(Pi))},e.\u0275dir=ze({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Te("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Rl("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Le.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ri],skipLocationChange:[Le.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ri],replaceUrl:[Le.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ri],routerLink:"routerLink"},standalone:!0,features:[Lf,Cn]});let t=e;return t})(),eC=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ce,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof Ut&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(hi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=pe(r).pipe(hi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=lO(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($($i),$(lt),$(It),$(Ai),$(lc,8))},e.\u0275dir=ze({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&xw(o,lc,5),i&2){let a;Nw(a=Rw())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Cn]});let t=e;return t})();function lO(t){return!!t.paths}var cO=new P("");function tC(t,...e){return Mr([{provide:Uh,multi:!0,useValue:t},[],{provide:kr,useFactory:uO,deps:[$i]},{provide:Ni,multi:!0,useFactory:dO},e.map(n=>n.\u0275providers)])}function uO(t){return t.routerState.root}function dO(){let t=g(Dn);return e=>{let n=t.get(qn);if(e!==n.components[0])return;let r=t.get($i),i=t.get(fO);t.get(hO)===1&&r.initialNavigation(),t.get(pO,null,j.Optional)?.setUpPreloading(),t.get(cO,null,j.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fO=new P("",{factory:()=>new nt}),hO=new P("",{providedIn:"root",factory:()=>1});var pO=new P("");var H=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(H||{}),nn="*";function nC(t,e=null){return{type:H.Sequence,steps:t,options:e}}function Hh(t){return{type:H.Style,styles:t,offset:null}}var Zn=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},fo=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},dc="!";function rC(t){return new y(3e3,!1)}function mO(){return new y(3100,!1)}function gO(){return new y(3101,!1)}function yO(t){return new y(3001,!1)}function vO(t){return new y(3003,!1)}function _O(t){return new y(3004,!1)}function wO(t,e){return new y(3005,!1)}function EO(){return new y(3006,!1)}function CO(){return new y(3007,!1)}function DO(t,e){return new y(3008,!1)}function bO(t){return new y(3002,!1)}function IO(t,e,n,r,i){return new y(3010,!1)}function SO(){return new y(3011,!1)}function TO(){return new y(3012,!1)}function MO(){return new y(3200,!1)}function AO(){return new y(3202,!1)}function xO(){return new y(3013,!1)}function NO(t){return new y(3014,!1)}function RO(t){return new y(3015,!1)}function PO(t){return new y(3016,!1)}function OO(t,e){return new y(3404,!1)}function FO(t){return new y(3502,!1)}function kO(t){return new y(3503,!1)}function LO(){return new y(3300,!1)}function VO(t){return new y(3504,!1)}function jO(t){return new y(3301,!1)}function BO(t,e){return new y(3302,!1)}function UO(t){return new y(3303,!1)}function $O(t,e){return new y(3400,!1)}function HO(t){return new y(3401,!1)}function zO(t){return new y(3402,!1)}function WO(t,e){return new y(3505,!1)}function Xn(t){switch(t.length){case 0:return new Zn;case 1:return t[0];default:return new fo(t)}}function yC(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((f,h)=>{let p=h,m=f;if(h!=="offset")switch(p=t.normalizePropertyName(p,i),m){case dc:m=n.get(h);break;case nn:m=r.get(h);break;default:m=t.normalizeStyleValue(h,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw FO(i);return s}function fp(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&zh(n,"start",t)));break;case"done":t.onDone(()=>r(n&&zh(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&zh(n,"destroy",t)));break}}function zh(t,e,n){let r=n.totalTime,i=!!n.disabled,s=hp(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function hp(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function _t(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function iC(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var GO=typeof document>"u"?null:document.documentElement;function pp(t){let e=t.parentNode||t.host||null;return e===GO?null:e}function qO(t){return t.substring(1,6)=="ebkit"}var Lr=null,sC=!1;function KO(t){Lr||(Lr=QO()||{},sC=Lr.style?"WebkitAppearance"in Lr.style:!1);let e=!0;return Lr.style&&!qO(t)&&(e=t in Lr.style,!e&&sC&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Lr.style)),e}function QO(){return typeof document<"u"?document.body:null}function vC(t,e){for(;e;){if(e===t)return!0;e=pp(e)}return!1}function _C(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var mp=(()=>{let e=class e{validateStyleProperty(r){return KO(r)}matchesElement(r,i){return!1}containsElement(r,i){return vC(r,i)}getParentElement(r){return pp(r)}query(r,i,s){return _C(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new Zn(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),_p=class _p{};_p.NOOP=new mp;var Br=_p,Ur=class{};var YO=1e3,wC="{{",ZO="}}",EC="ng-enter",Yh="ng-leave",fc="ng-trigger",yc=".ng-trigger",oC="ng-animating",Zh=".ng-animating";function Mn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Xh(parseFloat(e[1]),e[2])}function Xh(t,e){switch(e){case"s":return t*YO;default:return t}}function vc(t,e,n){return t.hasOwnProperty("duration")?t:XO(t,e,n)}function XO(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(rC(t)),{duration:0,delay:0,easing:""};i=Xh(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=Xh(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(mO()),a=!0),s<0&&(e.push(gO()),a=!0),a&&e.splice(l,0,rC(t))}return{duration:i,delay:s,easing:o}}function JO(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function rn(t,e,n){e.forEach((r,i)=>{let s=gp(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function jr(t,e){e.forEach((n,r)=>{let i=gp(r);t.style[i]=""})}function ho(t){return Array.isArray(t)?t.length==1?t[0]:nC(t):t}function eF(t,e,n){let r=e.params||{},i=CC(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(yO(s))})}var Jh=new RegExp(`${wC}\\s*(.+?)\\s*${ZO}`,"g");function CC(t){let e=[];if(typeof t=="string"){let n;for(;n=Jh.exec(t);)e.push(n[1]);Jh.lastIndex=0}return e}function mo(t,e,n){let r=`${t}`,i=r.replace(Jh,(s,o)=>{let a=e[o];return a==null&&(n.push(vO(o)),a=""),a.toString()});return i==r?t:i}var tF=/-+([a-z0-9])/g;function gp(t){return t.replace(tF,(...e)=>e[1].toUpperCase())}function nF(t,e){return t===0||e===0}function rF(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,yp(t,a)))}}return e}function vt(t,e,n){switch(e.type){case H.Trigger:return t.visitTrigger(e,n);case H.State:return t.visitState(e,n);case H.Transition:return t.visitTransition(e,n);case H.Sequence:return t.visitSequence(e,n);case H.Group:return t.visitGroup(e,n);case H.Animate:return t.visitAnimate(e,n);case H.Keyframes:return t.visitKeyframes(e,n);case H.Style:return t.visitStyle(e,n);case H.Reference:return t.visitReference(e,n);case H.AnimateChild:return t.visitAnimateChild(e,n);case H.AnimateRef:return t.visitAnimateRef(e,n);case H.Query:return t.visitQuery(e,n);case H.Stagger:return t.visitStagger(e,n);default:throw _O(e.type)}}function yp(t,e){return window.getComputedStyle(t)[e]}var iF=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),_c=class extends Ur{normalizePropertyName(e,n){return gp(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(iF.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(wO(e,r))}return o+s}};var wc="*";function sF(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>oF(r,n,e)):n.push(t),n}function oF(t,e,n){if(t[0]==":"){let l=aF(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(RO(t)),e;let i=r[1],s=r[2],o=r[3];e.push(aC(i,o));let a=i==wc&&o==wc;s[0]=="<"&&!a&&e.push(aC(o,i))}function aF(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(PO(t)),"* => *"}}var hc=new Set(["true","1"]),pc=new Set(["false","0"]);function aC(t,e){let n=hc.has(t)||pc.has(t),r=hc.has(e)||pc.has(e);return(i,s)=>{let o=t==wc||t==i,a=e==wc||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?hc.has(t):pc.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?hc.has(e):pc.has(e)),o&&a}}var DC=":self",lF=new RegExp(`s*${DC}s*,?`,"g");function bC(t,e,n,r){return new ep(t).build(e,n,r)}var lC="",ep=class{constructor(e){this._driver=e}build(e,n,r){let i=new tp(n);return this._resetContextStyleTimingState(i),vt(this,ho(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=lC,e.collectedStyles=new Map,e.collectedStyles.set(lC,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(EO()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==H.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==H.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(CO())}),{type:H.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{CC(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(DO(e.name,[...s.values()]))}return{type:H.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=vt(this,ho(e.animation),n),i=sF(e.expr,n.errors);return{type:H.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Vr(e.options)}}visitSequence(e,n){return{type:H.Sequence,steps:e.steps.map(r=>vt(this,r,n)),options:Vr(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=vt(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:H.Group,steps:s,options:Vr(e.options)}}visitAnimate(e,n){let r=fF(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Hh({});if(s.type==H.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=Hh(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:H.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===nn?r.push(a):n.errors.push(bO(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(wC)>=0){s=!0;break}}}),{type:H.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(IO(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&eF(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:H.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(SO()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(D=>{let k=this._makeStyleAst(D,n),ie=k.offset!=null?k.offset:dF(k.styles),X=0;return ie!=null&&(s++,X=k.offset=ie),l=l||X<0||X>1,a=a||X<c,c=X,o.push(X),k});l&&n.errors.push(TO()),a&&n.errors.push(MO());let d=e.steps.length,f=0;s>0&&s<d?n.errors.push(AO()):s==0&&(f=i/(d-1));let h=d-1,p=n.currentTime,m=n.currentAnimateTimings,C=m.duration;return u.forEach((D,k)=>{let ie=f>0?k==h?1:f*k:o[k],X=ie*C;n.currentTime=p+m.delay+X,m.duration=X,this._validateStyleAst(D,n),D.offset=ie,r.styles.push(D)}),r}visitReference(e,n){return{type:H.Reference,animation:vt(this,ho(e.animation),n),options:Vr(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:H.AnimateChild,options:Vr(e.options)}}visitAnimateRef(e,n){return{type:H.AnimateRef,animation:this.visitReference(e.animation,n),options:Vr(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=cF(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,_t(n.collectedStyles,n.currentQuerySelector,new Map);let a=vt(this,ho(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:H.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Vr(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(xO());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:vc(e.timings,n.errors,!0);return{type:H.Stagger,animation:vt(this,ho(e.animation),n),timings:r,options:null}}};function cF(t){let e=!!t.split(/\s*,\s*/).find(n=>n==DC);return e&&(t=t.replace(lF,"")),t=t.replace(/@\*/g,yc).replace(/@\w+/g,n=>yc+"-"+n.slice(1)).replace(/:animating/g,Zh),[t,e]}function uF(t){return t?E({},t):null}var tp=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function dF(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function fF(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=vc(t,e).duration;return Wh(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Wh(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=vc(n,e);return Wh(i.duration,i.delay,i.easing)}function Vr(t){return t?(t=E({},t),t.params&&(t.params=uF(t.params))):t={},t}function Wh(t,e,n){return{duration:t,delay:e,easing:n}}function vp(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var go=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},hF=1,pF=":enter",mF=new RegExp(pF,"g"),gF=":leave",yF=new RegExp(gF,"g");function IC(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new np().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var np=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new go;let d=new rp(e,n,c,i,s,u,[]);d.options=l;let f=l.delay?Mn(l.delay):0;d.currentTimeline.delayNextStep(f),d.currentTimeline.setStyles([o],null,d.errors,l),vt(this,r,d);let h=d.timelines.filter(p=>p.containsAnimation());if(h.length&&a.size){let p;for(let m=h.length-1;m>=0;m--){let C=h[m];if(C.element===n){p=C;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return h.length?h.map(p=>p.buildKeyframes()):[vp(n,[],[],[],0,f,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:Mn(mo(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?Mn(r.duration):null,a=r.delay!=null?Mn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),vt(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==H.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ec);let o=Mn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>vt(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?Mn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),vt(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?mo(r,n.params,n.errors):r;return vc(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==H.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?Mn(i.delay):0;s&&(n.previousNode.type===H.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Ec);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),vt(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let f=d.currentTimeline.currentTime;o=Math.max(o,f)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;vt(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Ec={},rp=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ec,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Cc(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=Mn(r.duration)),r.delay!=null&&(i.delay=Mn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=mo(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Ec,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new ip(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(mF,"."+this._enterClassName),e=e.replace(yF,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(NO(n)),a}},Cc=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=hF,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||nn),this._currentKeyframe.set(n,nn);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=vF(e,this._globalTimelineStyles);for(let[a,l]of o){let c=mo(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??nn),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===dc?e.add(d):u===nn&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return vp(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},ip=class extends Cc{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",cC(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let f=new Map(e[d]),h=f.get("offset"),p=n+h*r;f.set("offset",cC(p/o)),s.push(f)}r=o,n=0,i="",e=s}return vp(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function cC(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function vF(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,nn)}else for(let[s,o]of i)n.set(s,o)}),n}function uC(t,e,n,r,i,s,o,a,l,c,u,d,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:f}}var Gh={},Dc=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return _F(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],f=this.ast.options&&this.ast.options.params||Gh,h=a&&a.params||Gh,p=this.buildStyles(r,h,d),m=l&&l.params||Gh,C=this.buildStyles(i,m,d),D=new Set,k=new Map,ie=new Map,X=i==="void",Me={params:SC(m,f),delay:this.ast.options?.delay},ve=u?[]:IC(e,n,this.ast.animation,s,o,p,C,Me,c,d),_e=0;return ve.forEach(Ue=>{_e=Math.max(Ue.duration+Ue.delay,_e)}),d.length?uC(n,this._triggerName,r,i,X,p,C,[],[],k,ie,_e,d):(ve.forEach(Ue=>{let cn=Ue.element,ri=_t(k,cn,new Set);Ue.preStyleProps.forEach(or=>ri.add(or));let Pg=_t(ie,cn,new Set);Ue.postStyleProps.forEach(or=>Pg.add(or)),cn!==n&&D.add(cn)}),uC(n,this._triggerName,r,i,X,p,C,ve,[...D.values()],k,ie,_e))}};function _F(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function SC(t,e){let n=E({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var sp=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=SC(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=mo(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function wF(t,e,n){return new op(t,e,n)}var op=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new sp(i.style,s,r))}),dC(this.states,"true","1"),dC(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Dc(e,i,this.states))}),this.fallbackTransition=EF(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function EF(t,e,n){let r=[(o,a)=>!0],i={type:H.Sequence,steps:[],options:null},s={type:H.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Dc(t,s,e)}function dC(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var CF=new go,ap=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=bC(this._driver,n,r,i);if(r.length)throw kO(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=yC(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=IC(this._driver,n,s,EC,Yh,new Map,new Map,r,CF,i),o.forEach(u=>{let d=_t(a,u.element,new Map);u.postStyleProps.forEach(f=>d.set(f,null))})):(i.push(LO()),o=[]),i.length)throw VO(i);a.forEach((u,d)=>{u.forEach((f,h)=>{u.set(h,this._driver.computeStyle(d,h,nn))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=Xn(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw jO(e);return n}listen(e,n,r,i){let s=hp(n,"","","");return fp(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},fC="ng-animate-queued",DF=".ng-animate-queued",qh="ng-animate-disabled",bF=".ng-animate-disabled",IF="ng-star-inserted",SF=".ng-star-inserted",TF=[],TC={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},MF={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$t="__ng_removed",yo=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=xF(i),r){let s=e,{value:o}=s,a=Jo(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},po="void",Kh=new yo(po),lp=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Mt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw BO(r,n);if(r==null||r.length==0)throw UO(n);if(!NF(r))throw $O(r,n);let s=_t(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=_t(this._engine.statesByElement,e,new Map);return a.has(n)||(Mt(e,fc),Mt(e,fc+"-"+n),a.set(n,Kh)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw HO(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new vo(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Mt(e,fc),Mt(e,fc+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new yo(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Kh),!(c.value===po)&&l.value===c.value){if(!OF(l.params,c.params)){let m=[],C=s.matchStyles(l.value,l.params,m),D=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{jr(e,C),rn(e,D)})}return}let f=_t(this._engine.playersByElement,e,[]);f.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let h=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!h){if(!i)return;h=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Mt(e,fC),o.onStart(()=>{Hi(e,fC)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let C=this._engine.playersByElement.get(e);if(C){let D=C.indexOf(o);D>=0&&C.splice(D,1)}}),this.players.push(o),f.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,yc,!0);r.forEach(i=>{if(i[$t])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,po,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&Xn(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Kh,u=new yo(po),d=new vo(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[$t];(!s||s===TC)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Mt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=hp(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,fp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},cp=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new lp(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(mc(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!mc(n))return;let s=n[$t];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Mt(e,qh)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Hi(e,qh))}removeNode(e,n,r){if(mc(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[$t]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return mc(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,yc,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,Zh,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Xn(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[$t];if(n&&n.setForRemoval){if(e[$t]=TC,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(qh)&&this.markElementAsDisabled(e,!1),this.driver.query(e,bF,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Mt(i,IF)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?Xn(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw zO(e)}_flushAnimations(e,n){let r=new go,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(b=>{u.add(b);let S=this.driver.query(b,DF,!0);for(let M=0;M<S.length;M++)u.add(S[M])});let d=this.bodyNode,f=Array.from(this.statesByElement.keys()),h=mC(f,this.collectedEnterElements),p=new Map,m=0;h.forEach((b,S)=>{let M=EC+m++;p.set(S,M),b.forEach(Z=>Mt(Z,M))});let C=[],D=new Set,k=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let S=this.collectedLeaveElements[b],M=S[$t];M&&M.setForRemoval&&(C.push(S),D.add(S),M.hasAnimation?this.driver.query(S,SF,!0).forEach(Z=>D.add(Z)):k.add(S))}let ie=new Map,X=mC(f,Array.from(D));X.forEach((b,S)=>{let M=Yh+m++;ie.set(S,M),b.forEach(Z=>Mt(Z,M))}),e.push(()=>{h.forEach((b,S)=>{let M=p.get(S);b.forEach(Z=>Hi(Z,M))}),X.forEach((b,S)=>{let M=ie.get(S);b.forEach(Z=>Hi(Z,M))}),C.forEach(b=>{this.processLeaveNode(b)})});let Me=[],ve=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(n).forEach(M=>{let Z=M.player,Ae=M.element;if(Me.push(Z),this.collectedEnterElements.length){let $e=Ae[$t];if($e&&$e.setForMove){if($e.previousTriggersValues&&$e.previousTriggersValues.has(M.triggerName)){let ar=$e.previousTriggersValues.get(M.triggerName),Et=this.statesByElement.get(M.element);if(Et&&Et.has(M.triggerName)){let Zo=Et.get(M.triggerName);Zo.value=ar,Et.set(M.triggerName,Zo)}}Z.destroy();return}}let Qt=!d||!this.driver.containsElement(d,Ae),dt=ie.get(Ae),Pn=p.get(Ae),he=this._buildInstruction(M,r,Pn,dt,Qt);if(he.errors&&he.errors.length){ve.push(he);return}if(Qt){Z.onStart(()=>jr(Ae,he.fromStyles)),Z.onDestroy(()=>rn(Ae,he.toStyles)),i.push(Z);return}if(M.isFallbackTransition){Z.onStart(()=>jr(Ae,he.fromStyles)),Z.onDestroy(()=>rn(Ae,he.toStyles)),i.push(Z);return}let kg=[];he.timelines.forEach($e=>{$e.stretchStartingKeyframe=!0,this.disabledNodes.has($e.element)||kg.push($e)}),he.timelines=kg,r.append(Ae,he.timelines);let II={instruction:he,player:Z,element:Ae};o.push(II),he.queriedElements.forEach($e=>_t(a,$e,[]).push(Z)),he.preStyleProps.forEach(($e,ar)=>{if($e.size){let Et=l.get(ar);Et||l.set(ar,Et=new Set),$e.forEach((Zo,vu)=>Et.add(vu))}}),he.postStyleProps.forEach(($e,ar)=>{let Et=c.get(ar);Et||c.set(ar,Et=new Set),$e.forEach((Zo,vu)=>Et.add(vu))})});if(ve.length){let b=[];ve.forEach(S=>{b.push(WO(S.triggerName,S.errors))}),Me.forEach(S=>S.destroy()),this.reportError(b)}let _e=new Map,Ue=new Map;o.forEach(b=>{let S=b.element;r.has(S)&&(Ue.set(S,S),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,_e))}),i.forEach(b=>{let S=b.element;this._getPreviousPlayers(S,!1,b.namespaceId,b.triggerName,null).forEach(Z=>{_t(_e,S,[]).push(Z),Z.destroy()})});let cn=C.filter(b=>gC(b,l,c)),ri=new Map;pC(ri,this.driver,k,c,nn).forEach(b=>{gC(b,l,c)&&cn.push(b)});let or=new Map;h.forEach((b,S)=>{pC(or,this.driver,new Set(b),l,dc)}),cn.forEach(b=>{let S=ri.get(b),M=or.get(b);ri.set(b,new Map([...S?.entries()??[],...M?.entries()??[]]))});let yu=[],Og=[],Fg={};o.forEach(b=>{let{element:S,player:M,instruction:Z}=b;if(r.has(S)){if(u.has(S)){M.onDestroy(()=>rn(S,Z.toStyles)),M.disabled=!0,M.overrideTotalTime(Z.totalTime),i.push(M);return}let Ae=Fg;if(Ue.size>1){let dt=S,Pn=[];for(;dt=dt.parentNode;){let he=Ue.get(dt);if(he){Ae=he;break}Pn.push(dt)}Pn.forEach(he=>Ue.set(he,Ae))}let Qt=this._buildAnimation(M.namespaceId,Z,_e,s,or,ri);if(M.setRealPlayer(Qt),Ae===Fg)yu.push(M);else{let dt=this.playersByElement.get(Ae);dt&&dt.length&&(M.parentPlayer=Xn(dt)),i.push(M)}}else jr(S,Z.fromStyles),M.onDestroy(()=>rn(S,Z.toStyles)),Og.push(M),u.has(S)&&i.push(M)}),Og.forEach(b=>{let S=s.get(b.element);if(S&&S.length){let M=Xn(S);b.setRealPlayer(M)}}),i.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<C.length;b++){let S=C[b],M=S[$t];if(Hi(S,Yh),M&&M.hasAnimation)continue;let Z=[];if(a.size){let Qt=a.get(S);Qt&&Qt.length&&Z.push(...Qt);let dt=this.driver.query(S,Zh,!0);for(let Pn=0;Pn<dt.length;Pn++){let he=a.get(dt[Pn]);he&&he.length&&Z.push(...he)}}let Ae=Z.filter(Qt=>!Qt.destroyed);Ae.length?RF(this,S,Ae):this.processLeaveNode(S)}return C.length=0,yu.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let S=this.players.indexOf(b);this.players.splice(S,1)}),b.play()}),yu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==po;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=_t(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(h=>{let p=h.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),h.destroy(),d.push(h)})}jr(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,f=n.timelines.map(p=>{let m=p.element;u.add(m);let C=m[$t];if(C&&C.removedBeforeQueried)return new Zn(p.duration,p.delay);let D=m!==l,k=PF((r.get(m)||TF).map(_e=>_e.getRealPlayer())).filter(_e=>{let Ue=_e;return Ue.element?Ue.element===m:!1}),ie=s.get(m),X=o.get(m),Me=yC(this._normalizer,p.keyframes,ie,X),ve=this._buildPlayer(p,Me,k);if(p.subTimeline&&i&&d.add(m),D){let _e=new vo(e,a,m);_e.setRealPlayer(ve),c.push(_e)}return ve});c.forEach(p=>{_t(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>AF(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Mt(p,oC));let h=Xn(f);return h.onDestroy(()=>{u.forEach(p=>Hi(p,oC)),rn(l,n.toStyles)}),d.forEach(p=>{_t(i,p,[]).push(h)}),h}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Zn(e.duration,e.delay)}},vo=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Zn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>fp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){_t(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function AF(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function xF(t){return t??null}function mc(t){return t&&t.nodeType===1}function NF(t){return t=="start"||t=="done"}function hC(t,e){let n=t.style.display;return t.style.display=e??"none",n}function pC(t,e,n,r,i){let s=[];n.forEach(l=>s.push(hC(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let f=e.computeStyle(c,d,i);u.set(d,f),(!f||f.length==0)&&(c[$t]=MF,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>hC(l,s[a++])),o}function mC(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Mt(t,e){t.classList?.add(e)}function Hi(t,e){t.classList?.remove(e)}function RF(t,e,n){Xn(n).onDone(()=>t.processLeaveNode(e))}function PF(t){let e=[];return MC(t,e),e}function MC(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof fo?MC(r.players,e):e.push(r)}}function OF(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function gC(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Wi=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new cp(e.body,n,r,i),this._timelineEngine=new ap(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=bC(this._driver,s,l,c);if(l.length)throw OO(i,l);c.length&&void 0,a=wF(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=iC(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=iC(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function FF(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Qh(e[0]),e.length>1&&(r=Qh(e[e.length-1]))):e instanceof Map&&(n=Qh(e)),n||r?new up(t,n,r):null}var zi=class zi{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=zi.initialStylesByElement.get(e);i||zi.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&rn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rn(this._element,this._initialStyles),this._endStyles&&(rn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(zi.initialStylesByElement.delete(this._element),this._startStyles&&(jr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(jr(this._element,this._endStyles),this._endStyles=null),rn(this._element,this._initialStyles),this._state=3)}};zi.initialStylesByElement=new WeakMap;var up=zi;function Qh(t){let e=null;return t.forEach((n,r)=>{kF(r)&&(e=e||new Map,e.set(r,n))}),e}function kF(t){return t==="display"||t==="position"}var bc=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:yp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Ic=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return vC(e,n)}getParentElement(e){return pp(e)}query(e,n,r){return _C(e,n,r)}computeStyle(e,n,r){return yp(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(h=>h instanceof bc);nF(r,i)&&u.forEach(h=>{h.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=JO(n).map(h=>new Map(h));d=rF(e,d,c);let f=FF(e,d);return new bc(e,d,l,f)}};var gc="@",AC="@.disabled",Sc=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==gc&&n==AC?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},dp=class extends Sc{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==gc?n.charAt(1)=="."&&n==AC?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==gc){let i=LF(e),s=n.slice(1),o="";return s.charAt(0)!=gc&&([s,o]=VF(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function LF(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function VF(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Tc=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Sc(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new dp(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var BF=(()=>{let e=class e extends Wi{constructor(r,i,s){super(r,i,s,g(As,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(B(Ge),B(Br),B(Ur))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function UF(){return new _c}function $F(t,e,n){return new Tc(t,e,n)}var xC=[{provide:Ur,useFactory:UF},{provide:Wi,useClass:BF},{provide:Dr,useFactory:$F,deps:[Gl,Wi,de]}],HF=[{provide:Br,useFactory:()=>new Ic},{provide:ff,useValue:"BrowserAnimations"},...xC],RG=[{provide:Br,useClass:mp},{provide:ff,useValue:"NoopAnimations"},...xC];function NC(){return[...HF]}var zF=["*"],sn=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-page"]],standalone:!0,features:[ne],ngContentSelectors:zF,decls:1,vars:0,template:function(i,s){i&1&&(Fl(),kl(0))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block;margin-top:3rem;margin-bottom:3rem;display:flex;width:100%;flex-direction:column;padding-left:1.5rem;padding-right:1.5rem}@media (min-width: 1024px){[_nghost-%COMP%]{margin-left:auto;margin-right:auto;max-width:80rem;padding-left:6rem;padding-right:6rem}}"],changeDetection:0});let t=e;return t})();function WF(t,e){return this.selected}function GF(t,e){t&1&&V(0,"div",3)}var qF=(t,e)=>({"font-semibold opacity-100":t,"opacity-70":e});function KF(t,e){if(t&1){let n=Sn();v(0,"button",1),Te("click",function(){let s=_n(n).$implicit,o=We();return wn(o.optionChange.emit(s.value))}),v(1,"span"),T(2),w(),Ve(3,GF,1,0,"div",2),w()}if(t&2){let n=e.$implicit,r=We();De("ngClass",Bf(3,qF,n.value===r.selected,n.value!==r.selected)),U(2),Bt(n.label),U(),Ze(3,n.value===r.selected&&r.mode==="main"?3:-1)}}var QF=(t,e)=>({"text-lg lg:text-xl":t,"text-md text-secondary lg:text-lg":e}),RC=(()=>{let e=class e{constructor(){this.options=[],this.mode="main",this.optionChange=new Ce}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-select"]],inputs:{selected:"selected",options:"options",mode:"mode"},outputs:{optionChange:"optionChange"},standalone:!0,features:[ne],decls:3,vars:4,consts:[[1,"-mx-4","flex","flex-row","flex-wrap","items-start",3,"ngClass"],[1,"relative","mx-1","p-2","text-left","lg:mx-3",3,"ngClass","click"],["class","absolute h-[1px] w-6 bg-primary"],[1,"absolute","h-[1px]","w-6","bg-primary"],["class","relative mx-1 p-2 text-left lg:mx-3",3,"ngClass"]],template:function(i,s){i&1&&(v(0,"div",0),Vt(1,KF,4,6,"button",4,WF,!0),w()),i&2&&(De("ngClass",Bf(1,QF,s.mode==="main",s.mode==="alt")),U(),jt(s.options))},dependencies:[le,Ul],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var PC=(()=>{let e=class e{constructor(){this.sort=bn("kmAsc"),this.filter=bn("hotel"),this.filteredHostings=ww(()=>{let r=this.hostings().filter(i=>this.filter()===i.type);return this.sort()==="kmAsc"?r=r.sort((i,s)=>i.distanceKM-s.distanceKM):this.sort()==="priceAsc"?r=r.sort((i,s)=>i.priceRange-s.priceRange):this.sort()==="priceDesc"&&(r=r.sort((i,s)=>s.priceRange-i.priceRange)),r}),this.hostings=bn(YF)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),YF=[{title:"H\xF4tel du Dauphin",description:"De pr\xE9f\xE9rence, r\xE9server au 02 33 84 18 00",address:{street:"Place De La Halle",city:"61300 L'Aigle"},distanceKM:7,priceRange:2,type:"hotel",stars:3,url:"https://aigle.brithotel.fr/",image:"hotel-dauphin.jpg"},{title:"H\xF4tel du Cygne",address:{street:"31 rue Saint Barth\xE9l\xE9my",city:"61300 L'Aigle"},distanceKM:7,priceRange:1,type:"hotel",stars:2,url:"https://hotelrestaurantducygne-laigle.fr/",image:"hotel-cygne.jpg"},{title:"Le Clos Saint-Germain",description:"",address:{street:"3 rue Georges Cl\xE9menceau ",city:"27250 Rugles"},distanceKM:7,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/le-clos-saint-germain-rugles.fr.html",image:"clos-st-germain.jpg"},{title:"L'\xC9vidence",description:"Avec piscine",address:{street:"13 rue du G\xE9n\xE9ral de Gaulle ",city:"27250 Rugles"},distanceKM:7,priceRange:3,type:"cottage",url:"https://sonata.hotel-detail-check.com/maison-d-39-hotes-l-39-evidence-france",image:"evidence.jpg"},{title:"G\xEEte en Normandie",description:"Maison pour 3 personnes",address:{street:"rue du Bois des Brosses. ",city:"27250 Rugles"},distanceKM:7,priceRange:3,type:"cottage",url:"https://www.booking.com/hotel/fr/gite-en-normandie.fr.html",image:"gite-normandie.jpg"},{title:"Logement plain-pied nature",description:"190 \u20AC pour 2 nuits, 4 personnes.",address:{city:"Saint-Martin d'Ecublei",street:""},distanceKM:2,priceRange:2,type:"cottage",url:"https://www.airbnb.fr/rooms/949873916941254957?source_impression_id=p3_1708452908_H5mauOle%2F86daN8I",image:"logement-plain-pied.webp"},{title:"Ch\xE2teau de Transi\xE8res",description:"Avec piscine",address:{city:"27250 Ambenai",street:""},distanceKM:6,priceRange:3,type:"cottage",url:"https://www.booking.com/hotel/fr/chambre-d-hote-chateau-de-transieres.fr.html",image:"transieres.jpg"},{title:"Escale normande - Chez Michelle",description:"Sur airbnb ou au 07 60 60 91 57",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/4372673",image:"chez-michelle.webp"},{title:"Studio Terrasse",description:"130 \u20AC pour 2 nuits",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/43555831",image:"studio-terrasse.webp"},{title:"Centre L'Aigle",description:"170 \u20AC pour 2 personnes, 240 \u20AC pour 6 personnes",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:2,type:"cottage",url:"https://www.airbnb.fr/rooms/581061254175552330",image:"agreable-maison.webp"},{title:"Petit manoir chez Dom",address:{city:"61550 Saint-Nicolas-de-Sommaire",street:""},distanceKM:9,priceRange:2,type:"cottage",url:"https://fr.airbnb.ca/rooms/933949922193254845",image:"chez-dom.webp"},{title:"Rouge Maison",description:"Plusieurs chambres (90 \u20AC) et g\xEEte 4 personnes (130 \u20AC).",address:{street:"5 route de Rouge Maison 5 D45",city:"27330 Bois-Normand-pr\xE8s-Lyre"},distanceKM:15,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/rouge-maison-bois-normand-pres-lyre.fr.html",image:"rouge.jpg"},{title:"Maison Myjune Cosy cottage \xE0 Rai",description:"Pour 4 personnes, 2 chambres, 100 m2.",address:{city:"61270 Rai",street:""},distanceKM:12,priceRange:3,type:"cottage",url:"https://www.airbnb.fr/rooms/939788327535250397",image:"rai.webp"},{title:"Roulotte",description:"Pour 4 personnes",address:{street:"Le Pr\xE9amont Couvains",city:"61550 Marnefer"},distanceKM:16,priceRange:1,type:"cottage",url:"https://www.booking.com/hotel/fr/roulotte-la-ferte-en-ouche.fr.html",image:"roulotte.jpg"},{title:"Ch\xE2teau du Mesnil",address:{street:"2 rue du chat",city:"27330 La Vieille-Lyre"},distanceKM:15,priceRange:2,type:"cottage",url:"https://fr.hotels.com/ho675874/chateau-du-mesnil-la-vieille-lyre-france/",image:"mesnil.png"},{title:"Chambre et chevaux chez Mina",address:{city:"27250 Chambord",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/32467314",image:"mina.webp"},{title:"Chambre d'h\xF4tes Le Buisson",description:"Chambre de charme \xE0 la ferme",address:{city:"61270 \xC9corcei",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.charme-traditions.com/fr/chambres-d-hotes/org/2996/le-buisson",image:"chambres-d-hotes-le-buisson.jpg"},{title:"G\xEEte familial ind\xE9pendant \xE0 la ferme",description:"De 1 \xE0 6 personnes",address:{city:"61270 La Chapelle-Viel",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/939790362438355126",image:"gite-familial.webp"},{title:"Le B\xF4quet",description:"Pour 4 personnes (3 lits)",address:{city:"27330 La Haye-Saint-Sylvestre",street:""},distanceKM:18,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/24985538",image:"leboquet.webp"},{title:"Petite maison de campagne",description:"Pour 3 personnes",address:{city:"La Fert\xE9-en-Ouche",street:""},distanceKM:19,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/988261894495082650",image:"petite-maison.webp"},{title:"Four \xE0 pain",description:"2 nuits minimum",address:{city:"61190 Irai",street:""},distanceKM:19,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/43911360",image:"fourapain.webp"},{title:"Au Manoir de la Barre",address:{street:"1 Grande Rue",city:"27330 La Barre-en-Ouche"},distanceKM:20,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/au-manoir-de-la-barre.tl.html",image:"la-barre.jpg"},{title:"Ch\xE2teau du Blanc Buisson",address:{city:"27330 Mesnil-en-Ouche",street:""},distanceKM:20,priceRange:3,type:"cottage",url:"https://www.blancbuisson.com/",image:"blancbuisson.jpg"},{title:"Le Garance",address:{street:"66 rue Cl\xE9menceau",city:"27160 Breteuil"},distanceKM:20,priceRange:1,type:"cottage",url:"https://www.legarance.fr/",image:"garance.jpg"},{title:"Chez \xC9lo",description:"Maison 100m2 avec jardin pour 6 personnes (3 chambres). 2 nuits minimum",address:{city:"61300 Saint-Martin d'\xC9cublei",street:""},distanceKM:2,priceRange:1,type:"house",url:"https://www.airbnb.fr/rooms/761435425357926103",image:"elo.jpg"},{title:"Maison de 3 chambres",description:"Avec jardin clos. Maison 3 chambres pour 6 personnes. 2 nuits minimum",address:{street:"12 rue des Landes",city:"27250 Ch\xE9ronvilliers"},distanceKM:7,priceRange:1,type:"house",url:"https://www.airbnb.fr/rooms/7926855",image:"maison3chambre.webp"},{title:"G\xEEte normand avec piscine couverte",description:"6 personnes. 2 nuits minimum",address:{city:"27250 Neaufles-Auvergny",street:""},distanceKM:9,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/35434478",image:"gitenormand.webp"},{title:"Maison d'h\xF4tes",description:"Avec jardin, 6 personnes, 3 chambres",address:{street:" Rue du Moulin",city:"61300 Crulai"},distanceKM:15,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/10241453",image:"maisonhotes.jpg"},{title:"La Grange du Bois Germain",description:"Villa 4 chambres. 2 nuits minimum. 06 48 67 10 36",address:{street:"1A route des Platanes",city:"27250 Saint-Antonin-de-Sommaire"},distanceKM:6,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/852979640002839649",image:"grange.webp"},{title:"Le Refuge de l'Abbaye",description:"G\xEEte ou chambres individuelles. 06 85 19 55 13",address:{city:"61550 Saint-Evroult-Notre-Dame-du-Bois",street:""},distanceKM:20,priceRange:2,type:"house",url:"https://www.gites-de-france-orne.com/location-vacances-Gite-Saint-evroult-notre-dame-du-bois-61G880.html",image:"le-refuge.jpg"},{title:"L'Ajoussienne",description:"Maison de 3 chambres pour 6 personnes",address:{street:" 2 route de Bernay",city:"27410 Ajou"},distanceKM:23,priceRange:1,type:"house",url:"https://www.lajoussienne.com/",image:"ajou.webp"}];var OC=(()=>{let e=class e{transform(r){return"\u20AC".repeat(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Jd({name:"priceRange",type:e,pure:!0,standalone:!0});let t=e;return t})();function ZF(t,e){t&1&&V(0,"img",1)}var XF=()=>[],FC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-stars"]],inputs:{stars:"stars"},standalone:!0,features:[ne],decls:3,vars:1,consts:[[1,"flex","flex-row","text-primary"],["src","assets/star.svg","alt","star",1,"w-4","text-red-400"],["class","w-4 text-red-400","src","assets/star.svg","alt","star"]],template:function(i,s){i&1&&(v(0,"div",0),Vt(1,ZF,1,0,"img",2,Ol),w()),i&2&&(U(),jt(Ll(0,XF).constructor(s.stars)))},dependencies:[le],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let t=e;return t})();function JF(t,e){if(t&1&&V(0,"app-stars",9),t&2){let n=We();De("stars",n.hosting.stars)}}function ek(t,e){if(t&1&&T(0),t&2){let n=We();xr(" ",n.hosting.address.street,", ")}}function tk(t,e){if(t&1&&(v(0,"div",10),T(1),w()),t&2){let n=We();U(),Bt(n.hosting.description)}}var kC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-hosting-card"]],inputs:{hosting:"hosting"},standalone:!0,features:[ne],decls:17,vars:12,consts:[["target","_blank",1,"flex","max-w-xl","flex-1","flex-col","overflow-hidden","rounded-md","bg-primaryLighter","transition-all","hover:scale-[101%]","hover:cursor-pointer","lg:flex-row",3,"href"],[1,"aspect-video","object-cover","lg:aspect-square","lg:w-48","lg:max-w-60",3,"src","alt"],[1,"mx-5","my-4","flex","flex-1","flex-col","text-sm"],[1,"text-xl","font-medium"],["class","ml-2",3,"stars"],[1,"mt-1"],[1,"font-semibold"],[1,"mt-2"],["class","mt-2 italic"],[1,"ml-2",3,"stars"],[1,"mt-2","italic"]],template:function(i,s){i&1&&(v(0,"a",0),V(1,"img",1),v(2,"div",2)(3,"div",3),T(4),Ve(5,JF,1,1,"app-stars",4),w(),v(6,"div",5),T(7," Prix : "),v(8,"span",6),T(9),Vw(10,"priceRange"),w()(),v(11,"div",7),Ve(12,ek,1,1),T(13),v(14,"span"),T(15),w()(),Ve(16,tk,2,1,"div",8),w()()),i&2&&(De("href",s.hosting.url,Cl),U(),De("src","assets/images/"+s.hosting.image,Cl)("alt",s.hosting.title),U(3),xr(" ",s.hosting.title," "),U(),Ze(5,s.hosting.type==="hotel"&&s.hosting.stars!==void 0?5:-1),U(4),Bt(jw(10,10,s.hosting.priceRange)),U(3),Ze(12,s.hosting.address.street?12:-1),U(),xr(" ",s.hosting.address.city," \u2013 "),U(2),xr("\xC0 ",s.hosting.distanceKM,"\xA0km d'Herponcey"),U(),Ze(16,s.hosting.description?16:-1))},dependencies:[le,OC,FC],styles:["[_nghost-%COMP%]{display:flex;align-self:stretch}"],changeDetection:0});let t=e;return t})();var nk=(t,e)=>e.title;function rk(t,e){if(t&1&&V(0,"app-hosting-card",5),t&2){let n=e.$implicit;De("hosting",n)}}var LC=(()=>{let e=class e{constructor(){this.hostingsService=g(PC),this.filtersOptions=[{label:"Les h\xF4tels",value:"hotel"},{label:"Les g\xEEtes",value:"cottage"},{label:"Les maisons",value:"house"}],this.sortOptions=[{label:"les plus proches",value:"kmAsc"},{label:"par prix croissants",value:"priceAsc"},{label:"par prix d\xE9croissants",value:"priceDesc"}]}setFilter(r){this.hostingsService.filter.set(r)}setSort(r){this.hostingsService.sort.set(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-hostings"]],standalone:!0,features:[ne],decls:22,vars:4,consts:[[1,"text-center"],[1,"italic"],[1,"",3,"selected","options","optionChange"],["mode","alt",1,"",3,"selected","options","optionChange"],[1,"hostings-grid","mt-10","grid","items-center","justify-center","gap-8"],[1,"",3,"hosting"],["class","",3,"hosting"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1"),T(2,"Les h\xE9bergements"),w(),v(3,"p",0),T(4," Voici quelques suggestions d'h\xE9bergements pour votre s\xE9jour en Normandie."),V(5,"br")(6,"br"),T(7," Pour chaque h\xE9bergement, vous trouverez une fourchette de prix indicatifs (de \u20AC \xE0 \u20AC\u20AC\u20AC) ainsi que la distance par rapport au lieu de r\xE9ception. Les prix indiqu\xE9s datent de f\xE9vrier 2024. "),w(),v(8,"p",0),T(9," La cat\xE9gorie "),v(10,"span",1),T(11,"Les maisons"),w(),T(12," regroupe des logements pr\xE9vus pour 6 \xE0 8 personnes. "),w(),v(13,"p",0),T(14," Au clic, vous serez redirig\xE9 vers un des sites qui proposent l'h\xE9bergement. "),V(15,"br"),T(16,"Ils sont parfois disponibles sur plusieurs plateformes. "),w(),v(17,"app-select",2),Te("optionChange",function(a){return s.setFilter(a)}),w(),v(18,"app-select",3),Te("optionChange",function(a){return s.setSort(a)}),w(),v(19,"div",4),Vt(20,rk,1,1,"app-hosting-card",6,nk),w()()),i&2&&(U(17),De("selected",s.hostingsService.filter())("options",s.filtersOptions),U(),De("selected",s.hostingsService.sort())("options",s.sortOptions),U(2),jt(s.hostingsService.filteredHostings()))},dependencies:[le,kC,RC,sn],styles:["[_nghost-%COMP%]{display:block}.hostings-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}@media (min-width: 1024px){.hostings-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(430px,1fr))}}"],changeDetection:0});let t=e;return t})();var VC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-list"]],standalone:!0,features:[ne],decls:7,vars:0,consts:[[1,"text-center"],["href","https://www.millemercismariage.com/daniel-madeleine/liste.html","target","_blank",1,"mx-auto","mt-8","rounded-md","border","bg-secondary","px-4","py-2","text-white","opacity-80","transition-opacity","hover:opacity-100"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),T(2,"Notre liste"),w(),v(3,"p",0),T(4," Lorem Elsass ipsum ac turpis, r\xE9chime kougelhopf munster gewurztraminer ornare id vielmols, jetz gehts los eleifend pellentesque id, kuglopf hopla Racing. libero, quam, libero. sit tellus leverwurscht risus, leo placerat dui schpeck bissame Hans knepfle Pfourtz\xA0! sit hop Strasbourg m\xE4nele hopla DNA "),w(),v(5,"a",1),T(6," Acc\xE9der \xE0 la liste de mariage "),w()())},dependencies:[le,sn],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var jC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-photos"]],standalone:!0,features:[ne],decls:5,vars:0,consts:[[1,"text-center"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),T(2,"Galerie de photos"),w(),v(3,"p",0),T(4,"\u2692 En cours de r\xE9alisation \u2692"),w()())},dependencies:[le,sn],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var KC=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(It),$(lt))},e.\u0275dir=ze({type:e});let t=e;return t})(),QC=(()=>{let e=class e extends KC{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=Vs(e)))(s||e)}})(),e.\u0275dir=ze({type:e,features:[In]});let t=e;return t})(),Dp=new P("");var ik={provide:Dp,useExisting:Sr(()=>kc),multi:!0};function sk(){let t=Tn()?Tn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ok=new P(""),kc=(()=>{let e=class e extends KC{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!sk())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(It),$(lt),$(ok,8))},e.\u0275dir=ze({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Te("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[$s([ik]),In]});let t=e;return t})();function Jn(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function YC(t){return t!=null&&typeof t.length=="number"}var ZC=new P(""),XC=new P(""),ak=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Eo=class{static min(e){return lk(e)}static max(e){return ck(e)}static required(e){return uk(e)}static requiredTrue(e){return dk(e)}static email(e){return fk(e)}static minLength(e){return hk(e)}static maxLength(e){return pk(e)}static pattern(e){return mk(e)}static nullValidator(e){return JC(e)}static compose(e){return sD(e)}static composeAsync(e){return aD(e)}};function lk(t){return e=>{if(Jn(e.value)||Jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function ck(t){return e=>{if(Jn(e.value)||Jn(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function uk(t){return Jn(t.value)?{required:!0}:null}function dk(t){return t.value===!0?null:{required:!0}}function fk(t){return Jn(t.value)||ak.test(t.value)?null:{email:!0}}function hk(t){return e=>Jn(e.value)||!YC(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function pk(t){return e=>YC(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function mk(t){if(!t)return JC;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Jn(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function JC(t){return null}function eD(t){return t!=null}function tD(t){return Nr(t)?pe(t):t}function nD(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function rD(t,e){return e.map(n=>n(t))}function gk(t){return!t.validate}function iD(t){return t.map(e=>gk(e)?e:n=>e.validate(n))}function sD(t){if(!t)return null;let e=t.filter(eD);return e.length==0?null:function(n){return nD(rD(n,e))}}function oD(t){return t!=null?sD(iD(t)):null}function aD(t){if(!t)return null;let e=t.filter(eD);return e.length==0?null:function(n){let r=rD(n,e).map(tD);return ku(r).pipe(z(nD))}}function lD(t){return t!=null?aD(iD(t)):null}function BC(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function cD(t){return t._rawValidators}function uD(t){return t._rawAsyncValidators}function wp(t){return t?Array.isArray(t)?t:[t]:[]}function xc(t,e){return Array.isArray(t)?t.includes(e):t===e}function UC(t,e){let n=wp(e);return wp(t).forEach(i=>{xc(n,i)||n.push(i)}),n}function $C(t,e){return wp(e).filter(n=>!xc(t,n))}var Nc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=lD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},qi=class extends Nc{get formDirective(){return null}get path(){return null}},Ki=class extends Nc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Rc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},yk={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},x4=J(E({},yk),{"[class.ng-submitted]":"isSubmitted"}),dD=(()=>{let e=class e extends Rc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Ki,2))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&Pl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[In]});let t=e;return t})(),fD=(()=>{let e=class e extends Rc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(qi,10))},e.\u0275dir=ze({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&Pl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[In]});let t=e;return t})();var _o="VALID",Mc="INVALID",Gi="PENDING",wo="DISABLED";function bp(t){return(Lc(t)?t.validators:t)||null}function vk(t){return Array.isArray(t)?oD(t):t||null}function Ip(t,e){return(Lc(e)?e.asyncValidators:t)||null}function _k(t){return Array.isArray(t)?lD(t):t||null}function Lc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function hD(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new y(1e3,"");if(!r[n])throw new y(1001,"")}function pD(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new y(1002,"")})}var Qi=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===_o}get invalid(){return this.status===Mc}get pending(){return this.status==Gi}get disabled(){return this.status===wo}get enabled(){return this.status!==wo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(UC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(UC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($C(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($C(e,this._rawAsyncValidators))}hasValidator(e){return xc(this._rawValidators,e)}hasAsyncValidator(e){return xc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Gi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=wo,this.errors=null,this._forEachChild(r=>{r.disable(J(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(J(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=_o,this._forEachChild(r=>{r.enable(J(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(J(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_o||this.status===Gi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wo:_o}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Gi,this._hasOwnPendingAsyncValidator=!0;let n=tD(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ce,this.statusChanges=new Ce}_calculateStatus(){return this._allControlsDisabled()?wo:this.errors?Mc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gi)?Gi:this._anyControlsHaveStatus(Mc)?Mc:_o}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Lc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=vk(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_k(this._rawAsyncValidators)}},Pc=class extends Qi{constructor(e,n,r){super(bp(n),Ip(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){pD(this,!0,e),Object.keys(e).forEach(r=>{hD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Ep=class extends Pc{};var Sp=new P("CallSetDisabledState",{providedIn:"root",factory:()=>Vc}),Vc="always";function wk(t,e){return[...e.path,t]}function HC(t,e,n=Vc){Tp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ck(t,e),bk(t,e),Dk(t,e),Ek(t,e)}function zC(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Fc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Oc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Ek(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Tp(t,e){let n=cD(t);e.validator!==null?t.setValidators(BC(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=uD(t);e.asyncValidator!==null?t.setAsyncValidators(BC(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Oc(e._rawValidators,i),Oc(e._rawAsyncValidators,i)}function Fc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=cD(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=uD(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return Oc(e._rawValidators,r),Oc(e._rawAsyncValidators,r),n}function Ck(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&mD(t,e)})}function Dk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&mD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function mD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function bk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function Ik(t,e){t==null,Tp(t,e)}function Sk(t,e){return Fc(t,e)}function Tk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Mk(t){return Object.getPrototypeOf(t.constructor)===QC}function Ak(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function xk(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===kc?n=s:Mk(s)?r=s:i=s}),i||r||n||null}function Nk(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WC(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function GC(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Ac=class extends Qi{constructor(e=null,n,r){super(bp(n),Ip(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(GC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){WC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){WC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){GC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Rk=t=>t instanceof Ac;var gD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ze({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var Pk={provide:Dp,useExisting:Sr(()=>Mp),multi:!0};var Ok=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mp=(()=>{let e=class e extends QC{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=g(Sp,{optional:!0})??Vc}ngOnInit(){this._control=this._injector.get(Ki),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)($(It),$(lt),$(Ok),$(Dn))},e.\u0275dir=ze({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&Te("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[$s([Pk]),In]});let t=e;return t})();var yD=new P("");var Fk={provide:qi,useExisting:Sr(()=>Ap)},Ap=(()=>{let e=class e extends qi{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ce,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Fc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return HC(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){zC(r.control||null,r,!1),Nk(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,Ak(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(zC(i||null,r),Rk(s)&&(HC(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);Ik(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&Sk(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Tp(this.form,this),this._oldForm&&Fc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)($(ZC,10),$(XC,10),$(Sp,8))},e.\u0275dir=ze({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Te("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Le.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[$s([Fk]),In,Cn]});let t=e;return t})();var kk={provide:Ki,useExisting:Sr(()=>xp)},xp=(()=>{let e=class e extends Ki{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ce,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=xk(this,o)}ngOnChanges(r){this._added||this._setUpControl(),Tk(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return wk(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)($(qi,13),$(ZC,10),$(XC,10),$(Dp,10),$(yD,8))},e.\u0275dir=ze({type:e,selectors:[["","formControlName",""]],inputs:{name:[Le.None,"formControlName","name"],isDisabled:[Le.None,"disabled","isDisabled"],model:[Le.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[$s([kk]),In,Cn]});let t=e;return t})();var Lk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Un({type:e}),e.\u0275inj=zn({});let t=e;return t})(),Cp=class extends Qi{constructor(e,n,r){super(bp(n),Ip(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){pD(this,!1,e),e.forEach((r,i)=>{hD(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function qC(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var vD=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return qC(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Pc(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Ep(s,i)}control(r,i,s){let o={};return this.useNonNullable?(qC(i)?o=i:(o.validators=i,o.asyncValidators=s),new Ac(r,J(E({},o),{nonNullable:!0}))):new Ac(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Cp(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Ac)return r;if(r instanceof Qi)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _D=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:yD,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:Sp,useValue:r.callSetDisabledState??Vc}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Un({type:e}),e.\u0275inj=zn({imports:[Lk]});let t=e;return t})();var Np={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw $r(e)},$r=function(t){return new Error("Firebase Database ("+Np.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var ED=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},jk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,f=(a&15)<<2|c>>6,h=c&63;l||(h=64,o||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ED(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new Rp;let f=s<<2|a>>4;if(r.push(f),c!==64){let h=a<<4&240|c>>2;if(r.push(h),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Rp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Op=function(t){let e=ED(t);return Bc.encodeByteArray(e,!0)},Co=function(t){return Op(t).replace(/\./g,"")},Pp=function(t){try{return Bc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function CD(t){return DD(void 0,t)}function DD(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Bk(n)||(t[n]=DD(t[n],e[n]));return t}function Bk(t){return t!=="__proto__"}function Uk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var $k=()=>Uk().__FIREBASE_DEFAULTS__,Hk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},zk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Pp(t[1]);return e&&JSON.parse(e)},bD=()=>{try{return $k()||Hk()||zk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Wk=t=>{var e,n;return(n=(e=bD())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},ID=t=>{let e=Wk(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Fp=()=>{var t;return(t=bD())===null||t===void 0?void 0:t.config};var An=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function SD(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Co(JSON.stringify(n)),Co(JSON.stringify(o)),""].join(".")}function Gk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gk())}function TD(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function on(){return Np.NODE_CLIENT===!0||Np.NODE_ADMIN===!0}function Uc(){try{return typeof indexedDB=="object"}catch{return!1}}function $c(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function AD(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var qk="FirebaseError",Ht=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xn.prototype.create)}},xn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Kk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ht(i,a,r)}};function Kk(t,e){return t.replace(Qk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Qk=/\{\$([^}]+)}/g;function Yi(t){return JSON.parse(t)}function Re(t){return JSON.stringify(t)}var xD=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=Yi(Pp(s[0])||""),n=Yi(Pp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var ND=function(t){let e=xD(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},RD=function(t){let e=xD(t).claims;return typeof e=="object"&&e.admin===!0};function zt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Lp(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Zi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(wD(s)&&wD(o)){if(!Zi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function wD(t){return t!==null&&typeof t=="object"}function PD(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var jc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let f=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function bo(t,e){return`${t} failed: ${e} argument `}var OD=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Io=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var Yk=1e3,Zk=2,Xk=4*60*60*1e3,Jk=.5;function Vp(t,e=Yk,n=Zk){let r=e*Math.pow(n,t),i=Math.round(Jk*r*(Math.random()-.5)*2);return Math.min(Xk,r+i)}function an(t){return t&&t._delegate?t._delegate:t}var Xe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var zr="[DEFAULT]";var Hc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new An;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(t1(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:e1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function e1(t){return t===zr?void 0:t}function t1(t){return t.instantiationMode==="EAGER"}var So=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Hc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var n1=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),r1={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},i1=ce.INFO,s1={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},o1=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=s1[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},er=class{constructor(e){this.name=e,this._logLevel=i1,this._logHandler=o1,this._userLogHandler=null,n1.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var a1=(t,e)=>e.some(n=>t instanceof n),FD,kD;function l1(){return FD||(FD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c1(){return kD||(kD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var LD=new WeakMap,Bp=new WeakMap,VD=new WeakMap,jp=new WeakMap,$p=new WeakMap;function u1(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ln(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&LD.set(n,t)}).catch(()=>{}),$p.set(e,t),e}function d1(t){if(Bp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Bp.set(t,e)}var Up={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Bp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VD.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ln(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function jD(t){Up=t(Up)}function f1(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zc(this),e,...n);return VD.set(r,e.sort?e.sort():[e]),ln(r)}:c1().includes(t)?function(...e){return t.apply(zc(this),e),ln(LD.get(this))}:function(...e){return ln(t.apply(zc(this),e))}}function h1(t){return typeof t=="function"?f1(t):(t instanceof IDBTransaction&&d1(t),a1(t,l1())?new Proxy(t,Up):t)}function ln(t){if(t instanceof IDBRequest)return u1(t);if(jp.has(t))return jp.get(t);let e=h1(t);return e!==t&&(jp.set(t,e),$p.set(e,t)),e}var zc=t=>$p.get(t);function Wc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=ln(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ln(o.result),l.oldVersion,l.newVersion,ln(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var p1=["get","getKey","getAll","getAllKeys","count"],m1=["put","add","delete","clear"],Hp=new Map;function BD(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Hp.get(e))return Hp.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=m1.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||p1.includes(n)))return;let s=function(o,...a){return A(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return Hp.set(e,s),s}jD(t=>J(E({},t),{get:(e,n,r)=>BD(e,n)||t.get(e,n,r),has:(e,n)=>!!BD(e,n)||t.has(e,n)}));var Wp=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(g1(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function g1(t){let e=t.getComponent();return e?.type==="VERSION"}var Gp="@firebase/app",UD="0.9.28";var Wr=new er("@firebase/app"),y1="@firebase/app-compat",v1="@firebase/analytics-compat",_1="@firebase/analytics",w1="@firebase/app-check-compat",E1="@firebase/app-check",C1="@firebase/auth",D1="@firebase/auth-compat",b1="@firebase/database",I1="@firebase/database-compat",S1="@firebase/functions",T1="@firebase/functions-compat",M1="@firebase/installations",A1="@firebase/installations-compat",x1="@firebase/messaging",N1="@firebase/messaging-compat",R1="@firebase/performance",P1="@firebase/performance-compat",O1="@firebase/remote-config",F1="@firebase/remote-config-compat",k1="@firebase/storage",L1="@firebase/storage-compat",V1="@firebase/firestore",j1="@firebase/firestore-compat",B1="firebase",U1="10.8.1";var qp="[DEFAULT]",$1={[Gp]:"fire-core",[y1]:"fire-core-compat",[_1]:"fire-analytics",[v1]:"fire-analytics-compat",[E1]:"fire-app-check",[w1]:"fire-app-check-compat",[C1]:"fire-auth",[D1]:"fire-auth-compat",[b1]:"fire-rtdb",[I1]:"fire-rtdb-compat",[S1]:"fire-fn",[T1]:"fire-fn-compat",[M1]:"fire-iid",[A1]:"fire-iid-compat",[x1]:"fire-fcm",[N1]:"fire-fcm-compat",[R1]:"fire-perf",[P1]:"fire-perf-compat",[O1]:"fire-rc",[F1]:"fire-rc-compat",[k1]:"fire-gcs",[L1]:"fire-gcs-compat",[V1]:"fire-fst",[j1]:"fire-fst-compat","fire-js":"fire-js",[B1]:"fire-js-all"};var Gc=new Map,Kp=new Map;function H1(t,e){try{t.container.addComponent(e)}catch(n){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wt(t){let e=t.name;if(Kp.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Kp.set(e,t);for(let n of Gc.values())H1(n,t);return!0}function nr(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var z1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},tr=new xn("app","Firebase",z1);var Qp=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tr.create("app-deleted",{appName:this._name})}};var WD=U1;function Xp(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:qp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tr.create("bad-app-name",{appName:String(i)});if(n||(n=Fp()),!n)throw tr.create("no-options");let s=Gc.get(i);if(s){if(Zi(n,s.options)&&Zi(r,s.config))return s;throw tr.create("duplicate-app",{appName:i})}let o=new So(i);for(let l of Kp.values())o.addComponent(l);let a=new Qp(n,r,o);return Gc.set(i,a),a}function Mo(t=qp){let e=Gc.get(t);if(!e&&t===qp&&Fp())return Xp();if(!e)throw tr.create("no-app",{appName:t});return e}function ct(t,e,n){var r;let i=(r=$1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(a.join(" "));return}Wt(new Xe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var W1="firebase-heartbeat-database",G1=1,To="firebase-heartbeat-store",zp=null;function GD(){return zp||(zp=Wc(W1,G1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(To)}catch(n){console.warn(n)}}}}).catch(t=>{throw tr.create("idb-open",{originalErrorMessage:t.message})})),zp}function q1(t){return A(this,null,function*(){try{let n=(yield GD()).transaction(To),r=yield n.objectStore(To).get(qD(t));return yield n.done,r}catch(e){if(e instanceof Ht)Wr.warn(e.message);else{let n=tr.create("idb-get",{originalErrorMessage:e?.message});Wr.warn(n.message)}}})}function $D(t,e){return A(this,null,function*(){try{let r=(yield GD()).transaction(To,"readwrite");yield r.objectStore(To).put(e,qD(t)),yield r.done}catch(n){if(n instanceof Ht)Wr.warn(n.message);else{let r=tr.create("idb-set",{originalErrorMessage:n?.message});Wr.warn(r.message)}}})}function qD(t){return`${t.name}!${t.options.appId}`}var K1=1024,Q1=30*24*60*60*1e3,Yp=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Zp(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HD();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Q1}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return A(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HD(),{heartbeatsToSend:r,unsentEntries:i}=Y1(this._heartbeatsCache.heartbeats),s=Co(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function HD(){return new Date().toISOString().substring(0,10)}function Y1(t,e=K1){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),zD(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),zD(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Zp=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Uc()?$c().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield q1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $D(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $D(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function zD(t){return Co(JSON.stringify({version:2,heartbeats:t})).length}function Z1(t){Wt(new Xe("platform-logger",e=>new Wp(e),"PRIVATE")),Wt(new Xe("heartbeat",e=>new Yp(e),"PRIVATE")),ct(Gp,UD,t),ct(Gp,UD,"esm2017"),ct("fire-js","")}Z1("");var KD="@firebase/database",QD="1.0.3";var Xm="";function X1(t){Xm=t}var om=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Re(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Yi(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var am=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var Tb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new om(e)}}catch{}return new am},qr=Tb("localStorage"),lm=Tb("sessionStorage");var es=new er("@firebase/database"),J1=function(){let t=1;return function(){return t++}}(),Mb=function(t){let e=OD(t),n=new jc;n.update(e);let r=n.digest();return Bc.encodeByteArray(r)},zo=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=zo.apply(null,r):typeof r=="object"?e+=Re(r):e+=r,e+=" "}return e},Kr=null,YD=!0,eL=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(es.logLevel=ce.VERBOSE,Kr=es.log.bind(es),e&&lm.set("logging_enabled",!0)):typeof t=="function"?Kr=t:(Kr=null,lm.remove("logging_enabled"))},Be=function(...t){if(YD===!0&&(YD=!1,Kr===null&&lm.get("logging_enabled")===!0&&eL(!0)),Kr){let e=zo.apply(null,t);Kr(e)}},Wo=function(t){return function(...e){Be(t,...e)}},cm=function(...t){let e="FIREBASE INTERNAL ERROR: "+zo(...t);es.error(e)},Rn=function(...t){let e=`FIREBASE FATAL ERROR: ${zo(...t)}`;throw es.error(e),new Error(e)},Je=function(...t){let e="FIREBASE WARNING: "+zo(...t);es.warn(e)},tL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Jm=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},nL=function(t){if(on()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ns="[MIN_NAME]",Qr="[MAX_NAME]",Xr=function(t,e){if(t===e)return 0;if(t===ns||e===Qr)return-1;if(e===ns||t===Qr)return 1;{let n=ZD(t),r=ZD(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},rL=function(t,e){return t===e?0:t<e?-1:1},Ao=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Re(e))},eg=function(t){if(typeof t!="object"||t===null)return Re(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Re(e[r]),n+=":",n+=eg(t[e[r]]);return n+="}",n},Ab=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var xb=function(t){_(!Jm(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},iL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},sL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var oL=new RegExp("^-?(0*)\\d{1,10}$"),aL=-2147483648,lL=2147483647,ZD=function(t){if(oL.test(t)){let e=Number(t);if(e>=aL&&e<=lL)return e}return null},cs=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Je("Exception was thrown by user callback.",n),e},Math.floor(0))}},cL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var um=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var dm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Be("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(e)}},Fo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Kc="5",Nb="v",Rb="s",Pb="r",Ob="f",Fb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,kb="ls",Lb="p",fm="ac",Vb="websocket",jb="long_polling";var Qc=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function uL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Bb(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===Vb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===jb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);uL(t)&&(n.ns=t.namespace);let i=[];return et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var hm=class{constructor(){this.counters_={}}incrementCounter(e,n=1){zt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return CD(this.counters_)}};var Jp={},em={};function tg(t){let e=t.toString();return Jp[e]||(Jp[e]=new hm),Jp[e]}function dL(t,e){let n=t.toString();return em[n]||(em[n]=e()),em[n]}var pm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var XD="start",fL="close",hL="pLPCommand",pL="pRTLPCB",Ub="id",$b="pw",Hb="ser",mL="cb",gL="seg",yL="ts",vL="d",_L="dframe",zb=1870,Wb=30,wL=zb-Wb,EL=25e3,CL=3e4,mm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Wo(e),this.stats_=tg(n),this.urlFn=l=>(this.appCheckToken&&(l[fm]=this.appCheckToken),Bb(n,jb,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new pm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(CL)),nL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gm((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===XD)this.id=a,this.password=l;else if(o===fL)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[XD]="t",r[Hb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[mL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Nb]=Kc,this.transportSessionId&&(r[Rb]=this.transportSessionId),this.lastSessionId&&(r[kb]=this.lastSessionId),this.applicationId&&(r[Lb]=this.applicationId),this.appCheckToken&&(r[fm]=this.appCheckToken),typeof location<"u"&&location.hostname&&Fb.test(location.hostname)&&(r[Pb]=Ob);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return on()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!iL()&&!sL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Re(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Op(n),i=Ab(r,wL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(on())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[_L]="t",r[Ub]=e,r[$b]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Re(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},gm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,on())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=J1(),window[hL+this.uniqueCallbackIdentifier]=e,window[pL+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Be("frame writing exception"),a.stack&&Be(a.stack),Be(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Be("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Ub]=this.myID,e[$b]=this.myPW,e[Hb]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wb+r.length<=zb;){let o=this.pendingSegs.shift();r=r+"&"+gL+i+"="+o.seg+"&"+yL+i+"="+o.ts+"&"+vL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(EL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){on()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Be("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var DL=16384,bL=45e3,Yc=null;typeof MozWebSocket<"u"?Yc=MozWebSocket:typeof WebSocket<"u"&&(Yc=WebSocket);var xo=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Wo(this.connId),this.stats_=tg(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[Nb]=Kc,!on()&&typeof location<"u"&&location.hostname&&Fb.test(location.hostname)&&(a[Pb]=Ob),r&&(a[Rb]=r),i&&(a[kb]=i),s&&(a[fm]=s),o&&(a[Lb]=o),Bb(n,Vb,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qr.set("previous_websocket_failure",!0);try{let i;if(on()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Kc}/${Xm}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Yc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Yc!==null&&!t.forceDisallow_}static previouslyFailed(){return qr.isInMemoryStorage||qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){qr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Yi(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Re(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=Ab(r,DL);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bL))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),IL=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[mm,xo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=xo&&xo.isAvailable(),i=r&&!xo.previouslyFailed();if(n.webSocketOnly&&(r||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[xo];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),SL=6e4,TL=5e3,ML=10*1024,AL=100*1024,tm="t",JD="d",xL="s",eb="r",NL="e",tb="o",nb="a",rb="n",ib="p",RL="h",ym=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Wo("c:"+this.id+":"),this.transportManager_=new IL(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>AL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ML?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(tm in e){let n=e[tm];n===nb?this.upgradeIfSecondaryHealthy_():n===eb?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===tb&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:ib,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:nb,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:rb,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ao("t",e),r=Ao("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ao(tm,e);if(JD in e){let r=e[JD];if(n===RL){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===rb){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===xL?this.onConnectionShutdown_(r):n===eb?this.onReset_(r):n===NL?cm("Server Error: "+r):n===tb?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):cm("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Kc!==r&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(SL))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(TL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:ib,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Zc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Xc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Jc=class t extends Xc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var sb=32,ob=768,oe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new oe("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function sr(t){return t.pieces_.length-t.pieceNum_}function ue(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function ng(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function PL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Vo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Gb(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function ye(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function At(t,e){let n=G(t),r=G(e);if(n===null)return e;if(n===r)return At(ue(t),ue(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function OL(t,e){let n=Vo(t,0),r=Vo(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=Xr(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function qb(t,e){if(sr(t)!==sr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function xt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(sr(t)>sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var vm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Vo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Io(this.parts_[r]);Kb(this)}};function FL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Io(e),Kb(t)}function kL(t){let e=t.parts_.pop();t.byteLength_-=Io(e),t.parts_.length>0&&(t.byteLength_-=1)}function Kb(t){if(t.byteLength_>ob)throw new Error(t.errorPrefix_+"has a key path longer than "+ob+" bytes ("+t.byteLength_+").");if(t.parts_.length>sb)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+sb+") or object contains a cycle "+Gr(t))}function Gr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var _m=class t extends Xc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var No=1e3,LL=60*5*1e3,ab=30*1e3,VL=1.3,jL=3e4,BL="server_kill",lb=3,rg=(()=>{class t extends Zc{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Wo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=No,this.maxReconnectDelay_=LL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!on())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");_m.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Jc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Re(o)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new An,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&zt(n,"w")){let i=Hr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||RD(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ab)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=ND(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Re(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):cm("Unrecognized action received from server: "+Re(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>jL&&(this.reconnectDelay_=No),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*VL)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(f){_(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(f)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Be("getToken() completed but was canceled"):(Be("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,l=new ym(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(BL)},o))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Je(f),c())}}})}interrupt(n){Be("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Be("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Lp(this.interruptReasons_)&&(this.reconnectDelay_=No,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>eg(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new oe(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){Be("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=lb&&(this.reconnectDelay_=ab,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Be("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=lb&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";on()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Xm.replace(/\./g,"-")]=1,kp()?n["framework.cordova"]=1:MD()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Jc.getInstance().currentlyOnline();return Lp(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Y=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var rs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Y(ns,e),i=new Y(ns,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var qc,eu=class extends rs{static get __EMPTY_NODE(){return qc}static set __EMPTY_NODE(e){qc=e}compare(e,n){return Xr(e.name,n.name)}isDefinedOn(e){throw $r("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Qr,qc)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,qc)}toString(){return".key"}},ts=new eu;var Ji=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Gt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Nt.EMPTY_NODE,this.right=o??Nt.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Nt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),wm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new Gt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Nt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Gt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Gt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ji(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ji(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ji(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ji(this.root_,null,this.comparator_,!0,e)}};Nt.EMPTY_NODE=new wm;function UL(t,e){return Xr(t.name,e.name)}function ig(t,e){return Xr(t,e)}var Em;function $L(t){Em=t}var Qb=function(t){return typeof t=="number"?"number:"+xb(t):"string:"+t},Yb=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zt(e,".sv"),"Priority must be a string or number.")}else _(t===Em||t.isEmpty(),"priority of unexpected type.");_(t===Em||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var cb,is=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Yb(this.priorityNode_)}static set __childrenNodeConstructor(n){cb=n}static get __childrenNodeConstructor(){return cb}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:G(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||sr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ue(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Qb(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=xb(this.value_):n+=this.value_,this.lazyHash_=Mb(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return _(s>=0,"Unknown leaf type: "+r),_(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),Zb,Xb;function HL(t){Zb=t}function zL(t){Xb=t}var Cm=class extends rs{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Xr(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Qr,new is("[PRIORITY-POST]",Xb))}makePost(e,n){let r=Zb(e);return new Y(n,new is("[PRIORITY-POST]",r))}toString(){return".priority"}},qe=new Cm;var WL=Math.log(2),Dm=class{constructor(e){let n=s=>parseInt(Math.log(s)/WL,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},tu=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,null,null);{let h=parseInt(u/2,10)+l,p=i(l,h),m=i(h+1,c);return d=t[h],f=n?n(d):d,new Gt(f,d.node,Gt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,f=function(p,m){let C=d-p,D=d;d-=p;let k=i(C+1,D),ie=t[C],X=n?n(ie):ie;h(new Gt(X,ie.node,m,null,k))},h=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),C=Math.pow(2,l.count-(p+1));m?f(C,Gt.BLACK):(f(C,Gt.BLACK),f(C,Gt.RED))}return u},o=new Dm(t.length),a=s(o);return new Nt(r||e,a)};var nm,Xi={},ss=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _(Xi&&qe,"ChildrenNode.ts has not been loaded"),nm=nm||new t({".priority":Xi},{".priority":qe}),nm}get(e){let n=Hr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Nt?n:null}hasIndex(e){return zt(this.indexSet_,e.toString())}addIndex(e,n){_(e!==ts,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Y.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=tu(r,e.getCompare()):a=Xi;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Do(this.indexes_,(i,s)=>{let o=Hr(this.indexSet_,s);if(_(o,"Missing index implementation for "+s),i===Xi)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),tu(a,o.getCompare())}else return Xi;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Do(this.indexes_,i=>{if(i===Xi)return i;{let s=n.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new t(r,this.indexSet_)}};var Ro,me=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Yb(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ro||(Ro=new t(new Nt(ig),null,ss.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ro}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Ro:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(ue(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?Ro:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=G(n);if(i===null)return r;{_(G(n)!==".priority"||sr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(ue(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(qe,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Qb(this.getPriority().val())+":"),this.forEachChild(qe,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":Mb(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Y(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Go?-1:0}withIndex(n){if(n===ts||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ts||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(qe),s=r.getIterator(qe),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ts?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),bm=class extends me{constructor(){super(new Nt(ig),me.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}},Go=new bm;Object.defineProperties(Y,{MIN:{value:new Y(ns,me.EMPTY_NODE)},MAX:{value:new Y(Qr,Go)}});eu.__EMPTY_NODE=me.EMPTY_NODE;is.__childrenNodeConstructor=me;$L(Go);zL(Go);var GL=!0;function Pe(t,e=null){if(t===null)return me.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new is(n,Pe(e))}if(!(t instanceof Array)&&GL){let n=[],r=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Pe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return me.EMPTY_NODE;let s=tu(n,UL,o=>o.name,ig);if(r){let o=tu(n,qe.getCompare());return new me(s,Pe(e),new ss({".priority":o},{".priority":qe}))}else return new me(s,Pe(e),ss.Default)}else{let n=me.EMPTY_NODE;return et(t,(r,i)=>{if(zt(t,r)&&r.substring(0,1)!=="."){let s=Pe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Pe(e))}}HL(Pe);var Im=class extends rs{constructor(e){super(),this.indexPath_=e,_(!K(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Xr(e.name,n.name):s}makePost(e,n){let r=Pe(e),i=me.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let e=me.EMPTY_NODE.updateChild(this.indexPath_,Go);return new Y(Qr,e)}toString(){return Vo(this.indexPath_,0).join("/")}};var Sm=class extends rs{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Xr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){let r=Pe(e);return new Y(n,r)}toString(){return".value"}},qL=new Sm;function KL(t){return{type:"value",snapshotNode:t}}function QL(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function YL(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ub(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function ZL(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Tm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ns}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qe}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function db(t){let e={};if(t.isDefault())return e;let n;if(t.index_===qe?n="$priority":t.index_===qL?n="$value":t.index_===ts?n="$key":(_(t.index_ instanceof Im,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Re(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Re(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Re(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Re(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Re(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function fb(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==qe&&(e.i=t.index_.toString()),e}var Mm=class t extends Zc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Wo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=db(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Hr(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=db(e._queryParams),r=e._path.toString(),i=new An;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+PD(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Yi(a.responseText)}catch{Je("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Je("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Am=class{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function nu(){return{value:null,children:new Map}}function Jb(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=G(e);t.children.has(r)||t.children.set(r,nu());let i=t.children.get(r);e=ue(e),Jb(i,e,n)}}function xm(t,e,n){t.value!==null?n(e,t.value):XL(t,(r,i)=>{let s=new oe(e.toString()+"/"+r);xm(i,s,n)})}function XL(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Nm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var hb=10*1e3,JL=30*1e3,eV=5*60*1e3,Rm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Nm(e);let r=hb+(JL-hb)*Math.random();Oo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,s)=>{s>0&&zt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*eV))}};var Nn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Nn||{});function sg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function e0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function t0(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Pm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Nn.ACK_USER_WRITE,this.source=sg()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new oe(e));return new t(se(),n,this.revert)}}else return _(G(this.path)===e,"operationForChild called for unrelated child."),new t(ue(this.path),this.affectedTree,this.revert)}};var os=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Nn.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,ue(this.path),this.snap)}};var jo=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Nn.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new os(this.source,se(),n.value):new t(this.source,se(),n)}else return _(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ue(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Bo=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function tV(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(ZL(o.childName,o.snapshotNode))}),Po(t,i,"child_removed",e,r,n),Po(t,i,"child_added",e,r,n),Po(t,i,"child_moved",s,r,n),Po(t,i,"child_changed",e,r,n),Po(t,i,"value",e,r,n),i}function Po(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>rV(t,a,l)),o.forEach(a=>{let l=nV(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function nV(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rV(t,e,n){if(e.childName==null||n.childName==null)throw $r("Should only compare child_ events.");let r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function n0(t,e){return{eventCache:t,serverCache:e}}function ko(t,e,n,r){return n0(new Bo(e,n,r),t.serverCache)}function r0(t,e,n,r){return n0(t.eventCache,new Bo(e,n,r))}function Om(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Yr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var rm,iV=()=>(rm||(rm=new Nt(rL)),rm),tt=class t{constructor(e,n=iV()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(K(e))return null;{let r=G(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(ue(e),n);return s!=null?{path:ye(new oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=G(e),r=this.children.get(n);return r!==null?r.subtree(ue(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=G(e),s=(this.children.get(r)||new t(null)).set(ue(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=G(e),r=this.children.get(n);if(r){let i=r.remove(ue(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(K(e))return this.value;{let n=G(e),r=this.children.get(n);return r?r.get(ue(e)):null}}setTree(e,n){if(K(e))return n;{let r=G(e),s=(this.children.get(r)||new t(null)).setTree(ue(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ye(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let s=G(e),o=this.children.get(s);return o?o.findOnPath_(ue(e),ye(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(ue(e),ye(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ye(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var qt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new tt(null))}};function Lo(t,e,n){if(K(e))return new qt(new tt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=At(i,e);return s=s.updateChild(o,n),new qt(t.writeTree_.set(i,s))}else{let i=new tt(n),s=t.writeTree_.setTree(e,i);return new qt(s)}}}function Fm(t,e,n){let r=t;return et(n,(i,s)=>{r=Lo(r,ye(e,i),s)}),r}function pb(t,e){if(K(e))return qt.empty();{let n=t.writeTree_.setTree(e,new tt(null));return new qt(n)}}function km(t,e){return Jr(t,e)!=null}function Jr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(At(n.path,e)):null}function mb(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(qe,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function ir(t,e){if(K(e))return t;{let n=Jr(t,e);return n!=null?new qt(new tt(n)):new qt(t.writeTree_.subtree(e))}}function Lm(t){return t.writeTree_.isEmpty()}function as(t,e){return i0(se(),t.writeTree_,e)}function i0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=i0(ye(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ye(t,".priority"),r)),n}}function s0(t,e){return u0(e,t)}function sV(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Lo(t.visibleWrites,e,n)),t.lastWriteId=r}function oV(t,e,n,r){_(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=Fm(t.visibleWrites,e,n),t.lastWriteId=r}function aV(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function lV(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&cV(a,r.path)?i=!1:xt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return uV(t),!0;if(r.snap)t.visibleWrites=pb(t.visibleWrites,r.path);else{let a=r.children;et(a,l=>{t.visibleWrites=pb(t.visibleWrites,ye(r.path,l))})}return!0}else return!1}function cV(t,e){if(t.snap)return xt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&xt(ye(t.path,n),e))return!0;return!1}function uV(t){t.visibleWrites=o0(t.allWrites,dV,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function dV(t){return t.visible}function o0(t,e,n){let r=qt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)xt(n,o)?(a=At(n,o),r=Lo(r,a,s.snap)):xt(o,n)&&(a=At(o,n),r=Lo(r,se(),s.snap.getChild(a)));else if(s.children){if(xt(n,o))a=At(n,o),r=Fm(r,a,s.children);else if(xt(o,n))if(a=At(o,n),K(a))r=Fm(r,se(),s.children);else{let l=Hr(s.children,G(a));if(l){let c=l.getChild(ue(a));r=Lo(r,se(),c)}}}else throw $r("WriteRecord should have .snap or .children")}}return r}function a0(t,e,n,r,i){if(!r&&!i){let s=Jr(t.visibleWrites,e);if(s!=null)return s;{let o=ir(t.visibleWrites,e);if(Lm(o))return n;if(n==null&&!km(o,se()))return null;{let a=n||me.EMPTY_NODE;return as(o,a)}}}else{let s=ir(t.visibleWrites,e);if(!i&&Lm(s))return n;if(!i&&n==null&&!km(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(xt(c.path,e)||xt(e,c.path))},a=o0(t.allWrites,o,e),l=n||me.EMPTY_NODE;return as(a,l)}}}function fV(t,e,n){let r=me.EMPTY_NODE,i=Jr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(qe,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=ir(t.visibleWrites,e);return n.forEachChild(qe,(o,a)=>{let l=as(ir(s,new oe(o)),a);r=r.updateImmediateChild(o,l)}),mb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ir(t.visibleWrites,e);return mb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hV(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ye(e,n);if(km(t.visibleWrites,s))return null;{let o=ir(t.visibleWrites,s);return Lm(o)?i.getChild(n):as(o,i.getChild(n))}}function pV(t,e,n,r){let i=ye(e,n),s=Jr(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=ir(t.visibleWrites,i);return as(o,r.getNode().getImmediateChild(n))}else return null}function mV(t,e){return Jr(t.visibleWrites,e)}function gV(t,e,n,r,i,s,o){let a,l=ir(t.visibleWrites,e),c=Jr(l,se());if(c!=null)a=c;else if(n!=null)a=as(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function yV(){return{visibleWrites:qt.empty(),allWrites:[],lastWriteId:-1}}function Vm(t,e,n,r){return a0(t.writeTree,t.treePath,e,n,r)}function l0(t,e){return fV(t.writeTree,t.treePath,e)}function gb(t,e,n,r){return hV(t.writeTree,t.treePath,e,n,r)}function ru(t,e){return mV(t.writeTree,ye(t.treePath,e))}function vV(t,e,n,r,i,s){return gV(t.writeTree,t.treePath,e,n,r,i,s)}function og(t,e,n){return pV(t.writeTree,t.treePath,e,n)}function c0(t,e){return u0(ye(t.treePath,e),t.writeTree)}function u0(t,e){return{treePath:t,writeTree:e}}var jm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ub(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,YL(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,QL(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ub(r,e.snapshotNode,i.oldSnap));else throw $r("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Bm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},d0=new Bm,Uo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Bo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return og(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Yr(this.viewCache_),s=vV(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function _V(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wV(t,e,n,r,i){let s=new jm,o,a;if(n.type===Nn.OVERWRITE){let c=n;c.source.fromUser?o=Um(t,e,c.path,c.snap,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!K(c.path),o=iu(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===Nn.MERGE){let c=n;c.source.fromUser?o=CV(t,e,c.path,c.children,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=$m(t,e,c.path,c.children,r,i,a,s))}else if(n.type===Nn.ACK_USER_WRITE){let c=n;c.revert?o=IV(t,e,c.path,r,i,s):o=DV(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===Nn.LISTEN_COMPLETE)o=bV(t,e,n.path,r,s);else throw $r("Unknown operation type: "+n.type);let l=s.getChanges();return EV(e,o,l),{viewCache:o,changes:l}}function EV(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Om(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(KL(Om(e)))}}function f0(t,e,n,r,i,s){let o=e.eventCache;if(ru(r,n)!=null)return e;{let a,l;if(K(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Yr(e),u=c instanceof me?c:me.EMPTY_NODE,d=l0(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Vm(r,Yr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=G(n);if(c===".priority"){_(sr(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=gb(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=ue(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let f=gb(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=og(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return ko(e,a,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function iu(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let h=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),h,null)}else{let h=G(n);if(!l.isCompleteForPath(n)&&sr(n)>1)return e;let p=ue(n),C=l.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?c=u.updatePriority(l.getNode(),C):c=u.updateChild(l.getNode(),h,C,p,d0,null)}let d=r0(e,c,l.isFullyInitialized()||K(n),u.filtersNodes()),f=new Uo(i,d,s);return f0(t,d,n,i,f,a)}function Um(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new Uo(i,e,s);if(K(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ko(e,c,!0,t.filter.filtersNodes());else{let d=G(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ko(e,c,a.isFullyInitialized(),a.isFiltered());else{let f=ue(n),h=a.getNode().getImmediateChild(d),p;if(K(f))p=r;else{let m=u.getCompleteChild(d);m!=null?ng(f)===".priority"&&m.getChild(Gb(f)).isEmpty()?p=m:p=m.updateChild(f,r):p=me.EMPTY_NODE}if(h.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,f,u,o);l=ko(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function yb(t,e){return t.eventCache.isCompleteForChild(e)}function CV(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=ye(n,l);yb(e,G(u))&&(a=Um(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=ye(n,l);yb(e,G(u))||(a=Um(t,a,u,c,i,s,o))}),a}function vb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function $m(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;K(n)?c=r:c=new tt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=vb(t,h,f);l=iu(t,l,new oe(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),m=vb(t,p,f);l=iu(t,l,new oe(d),m,i,s,o,a)}}),l}function DV(t,e,n,r,i,s,o){if(ru(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return iu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(K(n)){let c=new tt(null);return l.getNode().forEachChild(ts,(u,d)=>{c=c.set(new oe(u),d)}),$m(t,e,n,c,i,s,a,o)}else return e}else{let c=new tt(null);return r.foreach((u,d)=>{let f=ye(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),$m(t,e,n,c,i,s,a,o)}}function bV(t,e,n,r,i){let s=e.serverCache,o=r0(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered());return f0(t,o,n,r,d0,i)}function IV(t,e,n,r,i,s){let o;if(ru(r,n)!=null)return e;{let a=new Uo(r,e,i),l=e.eventCache.getNode(),c;if(K(n)||G(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Vm(r,Yr(e));else{let d=e.serverCache.getNode();_(d instanceof me,"serverChildren would be complete if leaf node"),u=l0(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=G(n),d=og(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,ue(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,me.EMPTY_NODE,ue(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Vm(r,Yr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||ru(r,se())!=null,ko(e,c,o,t.filter.filtersNodes())}}function SV(t,e){let n=Yr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function _b(t,e,n,r){e.type===Nn.MERGE&&e.source.queryId!==null&&(_(Yr(t.viewCache_),"We should always have a full cache before handling merges"),_(Om(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=wV(t.processor_,i,e,n,r);return _V(t.processor_,s.viewCache),_(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,TV(t,s.changes,s.viewCache.eventCache.getNode(),null)}function TV(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return tV(t.eventGenerator_,e,n,i)}var wb;function MV(t){_(!wb,"__referenceConstructor has already been defined"),wb=t}function ag(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return _(s!=null,"SyncTree gave us an op for an invalid query."),_b(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(_b(o,e,n,r));return s}}function lg(t,e){let n=null;for(let r of t.views.values())n=n||SV(r,e);return n}var Eb;function AV(t){_(!Eb,"__referenceConstructor has already been defined"),Eb=t}var su=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=yV(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function h0(t,e,n,r,i){return sV(t.pendingWriteTree_,e,n,r,i),i?qo(t,new os(sg(),e,n)):[]}function xV(t,e,n,r){oV(t.pendingWriteTree_,e,n,r);let i=tt.fromObject(n);return qo(t,new jo(sg(),e,i))}function rr(t,e,n=!1){let r=aV(t.pendingWriteTree_,e);if(lV(t.pendingWriteTree_,e)){let s=new tt(null);return r.snap!=null?s=s.set(se(),!0):et(r.children,o=>{s=s.set(new oe(o),!0)}),qo(t,new Pm(r.path,s,n))}else return[]}function ou(t,e,n){return qo(t,new os(e0(),e,n))}function NV(t,e,n){let r=tt.fromObject(n);return qo(t,new jo(e0(),e,r))}function RV(t,e,n,r){let i=g0(t,r);if(i!=null){let s=y0(i),o=s.path,a=s.queryId,l=At(o,e),c=new os(t0(a),l,n);return v0(t,o,c)}else return[]}function PV(t,e,n,r){let i=g0(t,r);if(i){let s=y0(i),o=s.path,a=s.queryId,l=At(o,e),c=tt.fromObject(n),u=new jo(t0(a),l,c);return v0(t,o,u)}else return[]}function cg(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=At(o,e),c=lg(a,l);if(c)return c});return a0(i,e,s,n,!0)}function qo(t,e){return p0(e,t.syncPointTree_,null,s0(t.pendingWriteTree_,se()))}function p0(t,e,n,r){if(K(t.path))return m0(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=lg(i,se()));let s=[],o=G(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=c0(r,o);s=s.concat(p0(a,l,c,u))}return i&&(s=s.concat(ag(i,t,r,n))),s}}function m0(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=lg(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=c0(r,o),u=t.operationForChild(o);u&&(s=s.concat(m0(u,a,l,c)))}),i&&(s=s.concat(ag(i,t,r,n))),s}function g0(t,e){return t.tagToQueryMap.get(e)}function y0(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function v0(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=s0(t.pendingWriteTree_,e);return ag(r,n,i,null)}var Hm=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},zm=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ye(this.path_,e);return new t(this.syncTree_,n)}node(){return cg(this.syncTree_,this.path_)}},OV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},Cb=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return FV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return kV(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},FV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},kV=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},_0=function(t,e,n,r){return ug(e,new zm(n,t),r)},w0=function(t,e,n){return ug(t,new Hm(e),n)};function ug(t,e,n){let r=t.getPriority().val(),i=Cb(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=Cb(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new is(a,Pe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new is(i))),o.forEachChild(qe,(a,l)=>{let c=ug(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var $o=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function dg(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=G(n);for(;i!==null;){let s=Hr(r.node.children,i)||{children:{},childCount:0};r=new $o(i,r,s),n=ue(n),i=G(n)}return r}function us(t){return t.node.value}function E0(t,e){t.node.value=e,Wm(t)}function C0(t){return t.node.childCount>0}function LV(t){return us(t)===void 0&&!C0(t)}function au(t,e){et(t.node.children,(n,r)=>{e(new $o(n,t,r))})}function D0(t,e,n,r){n&&!r&&e(t),au(t,i=>{D0(i,e,!0,r)}),n&&r&&e(t)}function VV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ko(t){return new oe(t.parent===null?t.name:Ko(t.parent)+"/"+t.name)}function Wm(t){t.parent!==null&&jV(t.parent,t.name,t)}function jV(t,e,n){let r=LV(n),i=zt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Wm(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Wm(t))}var BV=/[\[\].#$\/\u0000-\u001F\u007F]/,UV=/[\[\].#$\u0000-\u001F\u007F]/,im=10*1024*1024,fg=function(t){return typeof t=="string"&&t.length!==0&&!BV.test(t)},b0=function(t){return typeof t=="string"&&t.length!==0&&!UV.test(t)},$V=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),b0(t)},HV=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Jm(t)||t&&typeof t=="object"&&zt(t,".sv")},I0=function(t,e,n,r){r&&e===void 0||lu(bo(t,"value"),e,n)},lu=function(t,e,n){let r=n instanceof oe?new vm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Gr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Gr(r)+" with contents = "+e.toString());if(Jm(e))throw new Error(t+"contains "+e.toString()+" "+Gr(r));if(typeof e=="string"&&e.length>im/3&&Io(e)>im)throw new Error(t+"contains a string greater than "+im+" utf8 bytes "+Gr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!fg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Gr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);FL(r,o),lu(t,a,r),kL(r)}),i&&s)throw new Error(t+' contains ".value" child '+Gr(r)+" in addition to actual children.")}},zV=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=Vo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!fg(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(OL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&xt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},WV=function(t,e,n,r){if(r&&e===void 0)return;let i=bo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];et(e,(o,a)=>{let l=new oe(o);if(lu(i,a,ye(n,l)),ng(l)===".priority"&&!HV(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),zV(i,s)};var S0=function(t,e,n,r){if(!(r&&n===void 0)&&!b0(n))throw new Error(bo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},GV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),S0(t,e,n,r)},T0=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},qV=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!fg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!$V(n))throw new Error(bo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Gm=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function hg(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!qb(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Kt(t,e,n){hg(t,n),KV(t,r=>xt(r,e)||xt(e,r))}function KV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(QV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function QV(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Kr&&Be("event: "+n.toString()),cs(r)}}}var YV="repo_interrupt",ZV=25,qm=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gm,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nu(),this.transactionQueueTree_=new $o,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function XV(t,e,n){if(t.stats_=tg(t.repoInfo_),t.forceRestClient_||cL())t.server_=new Mm(t.repoInfo_,(r,i,s,o)=>{Db(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>bb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Re(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new rg(t.repoInfo_,e,(r,i,s,o)=>{Db(t,r,i,s,o)},r=>{bb(t,r)},r=>{JV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=dL(t.repoInfo_,()=>new Rm(t.stats_,t.server_)),t.infoData_=new Am,t.infoSyncTree_=new su({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=ou(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),pg(t,"connected",!1),t.serverSyncTree_=new su({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);Kt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function M0(t){let n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function cu(t){return OV({timestamp:M0(t)})}function Db(t,e,n,r,i){t.dataUpdateCount++;let s=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Do(n,c=>Pe(c));o=PV(t.serverSyncTree_,s,l,i)}else{let l=Pe(n);o=RV(t.serverSyncTree_,s,l,i)}else if(r){let l=Do(n,c=>Pe(c));o=NV(t.serverSyncTree_,s,l)}else{let l=Pe(n);o=ou(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=ls(t,s)),Kt(t.eventQueue_,a,o)}function bb(t,e){pg(t,"connected",e),e===!1&&nj(t)}function JV(t,e){et(e,(n,r)=>{pg(t,n,r)})}function pg(t,e,n){let r=new oe("/.info/"+e),i=Pe(n);t.infoData_.updateSnapshot(r,i);let s=ou(t.infoSyncTree_,r,i);Kt(t.eventQueue_,r,s)}function mg(t){return t.nextWriteId_++}function ej(t,e,n,r,i){uu(t,"set",{path:e.toString(),value:n,priority:r});let s=cu(t),o=Pe(n,r),a=cg(t.serverSyncTree_,e),l=w0(o,a,s),c=mg(t),u=h0(t.serverSyncTree_,e,l,c,!0);hg(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(f,h)=>{let p=f==="ok";p||Je("set at "+e+" failed: "+f);let m=rr(t.serverSyncTree_,c,!p);Kt(t.eventQueue_,e,m),Km(t,i,f,h)});let d=yg(t,e);ls(t,d),Kt(t.eventQueue_,d,[])}function tj(t,e,n,r){uu(t,"update",{path:e.toString(),value:n});let i=!0,s=cu(t),o={};if(et(n,(a,l)=>{i=!1,o[a]=_0(ye(e,a),Pe(l),t.serverSyncTree_,s)}),i)Be("update() called with empty data.  Don't do anything."),Km(t,r,"ok",void 0);else{let a=mg(t),l=xV(t.serverSyncTree_,e,o,a);hg(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Je("update at "+e+" failed: "+c);let f=rr(t.serverSyncTree_,a,!d),h=f.length>0?ls(t,e):e;Kt(t.eventQueue_,h,f),Km(t,r,c,u)}),et(n,c=>{let u=yg(t,ye(e,c));ls(t,u)}),Kt(t.eventQueue_,e,[])}}function nj(t){uu(t,"onDisconnectEvents");let e=cu(t),n=nu();xm(t.onDisconnect_,se(),(i,s)=>{let o=_0(i,s,t.serverSyncTree_,e);Jb(n,i,o)});let r=[];xm(n,se(),(i,s)=>{r=r.concat(ou(t.serverSyncTree_,i,s));let o=yg(t,i);ls(t,o)}),t.onDisconnect_=nu(),Kt(t.eventQueue_,se(),r)}function rj(t){t.persistentConnection_&&t.persistentConnection_.interrupt(YV)}function uu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Be(n,...e)}function Km(t,e,n,r){e&&cs(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function A0(t,e,n){return cg(t.serverSyncTree_,e,n)||me.EMPTY_NODE}function gg(t,e=t.transactionQueueTree_){if(e||du(t,e),us(e)){let n=N0(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&ij(t,Ko(e),n)}else C0(e)&&au(e,n=>{gg(t,n)})}function ij(t,e,n){let r=n.map(c=>c.currentWriteId),i=A0(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=At(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{uu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(rr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();du(t,dg(t.transactionQueueTree_,e)),gg(t,t.transactionQueueTree_),Kt(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)cs(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ls(t,e)}},o)}function ls(t,e){let n=x0(t,e),r=Ko(n),i=N0(t,n);return sj(t,i,r),r}function sj(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=At(n,l.path),u=!1,d;if(_(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(rr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=ZV)u=!0,d="maxretry",i=i.concat(rr(t.serverSyncTree_,l.currentWriteId,!0));else{let f=A0(t,l.path,o);l.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){lu("transaction failed: Data returned ",h,l.path);let p=Pe(h);typeof h=="object"&&h!=null&&zt(h,".priority")||(p=p.updatePriority(f.getPriority()));let C=l.currentWriteId,D=cu(t),k=w0(p,f,D);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=k,l.currentWriteId=mg(t),o.splice(o.indexOf(C),1),i=i.concat(h0(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(rr(t.serverSyncTree_,C,!0))}else u=!0,d="nodata",i=i.concat(rr(t.serverSyncTree_,l.currentWriteId,!0))}Kt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}du(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)cs(r[a]);gg(t,t.transactionQueueTree_)}function x0(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&us(r)===void 0;)r=dg(r,n),e=ue(e),n=G(e);return r}function N0(t,e){let n=[];return R0(t,e,n),n.sort((r,i)=>r.order-i.order),n}function R0(t,e,n){let r=us(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);au(e,i=>{R0(t,i,n)})}function du(t,e){let n=us(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,E0(e,n.length>0?n:void 0)}au(e,r=>{du(t,r)})}function yg(t,e){let n=Ko(x0(t,e)),r=dg(t.transactionQueueTree_,e);return VV(r,i=>{sm(t,i)}),sm(t,r),D0(r,i=>{sm(t,i)}),n}function sm(t,e){let n=us(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(_(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(_(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(rr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?E0(e,void 0):n.length=s+1,Kt(t.eventQueue_,Ko(e),i);for(let o=0;o<r.length;o++)cs(r[o])}}function oj(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function aj(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Je(`Invalid query segment '${n}' in query '${t}'`)}return e}var Ib=function(t,e){let n=lj(t),r=n.namespace;n.domain==="firebase.com"&&Rn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||tL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Qc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},lj=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=oj(t.substring(u,d)));let f=aj(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let h=e.slice(0,c);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var Sb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",cj=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=Sb.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=Sb.charAt(e[i]);return _(o.length===20,"nextPushId: Length should be 20."),o}}();var Qm=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:ng(this._path)}get ref(){return new Zr(this._repo,this._path)}get _queryIdentifier(){let e=fb(this._queryParams),n=eg(e);return n==="{}"?"default":n}get _queryObject(){return fb(this._queryParams)}isEqual(e){if(e=an(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=qb(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+PL(this._path)}};var Zr=class t extends Qm{constructor(e,n){super(e,n,new Tm,!1)}get parent(){let e=Gb(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};function vg(t,e){return t=an(t),t._checkNotDeleted("ref"),e!==void 0?Ho(t._root,e):t._root}function Ho(t,e){return t=an(t),G(t._path)===null?GV("child","path",e,!1):S0("child","path",e,!1),new Zr(t._repo,ye(t._path,e))}function P0(t,e){t=an(t),T0("push",t._path),I0("push",e,t._path,!0);let n=M0(t._repo),r=cj(n),i=Ho(t,r),s=Ho(t,r),o;return e!=null?o=uj(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function uj(t,e){t=an(t),T0("set",t._path),I0("set",e,t._path,!1);let n=new An;return ej(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function O0(t,e){WV("update",e,t._path,!1);let n=new An;return tj(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}MV(Zr);AV(Zr);var dj="FIREBASE_DATABASE_EMULATOR_HOST",Ym={},fj=!1;function hj(t,e,n,r){t.repoInfo_=new Qc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function pj(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Be("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Ib(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[dj]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Ib(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new Fo(Fo.OWNER):new dm(t.name,t.options,e);qV("Invalid Firebase Database URL",o),K(o.path)||Rn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=gj(a,t,u,new um(t.name,n));return new Zm(d,t)}function mj(t,e){let n=Ym[e];(!n||n[t.key]!==t)&&Rn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),rj(t),delete n[t.key]}function gj(t,e,n,r){let i=Ym[e.name];i||(i={},Ym[e.name]=i);let s=i[t.toURLString()];return s&&Rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qm(t,fj,n,r),i[t.toURLString()]=s,s}var Zm=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Zr(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mj(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rn("Cannot call "+e+" on a deleted database.")}};function F0(t=Mo(),e){let n=nr(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=ID("database");r&&yj(n,...r)}return n}function yj(t,e,n,r={}){t=an(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Rn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Fo(Fo.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:SD(r.mockUserToken,t.app.options.projectId);s=new Fo(o)}hj(i,e,n,s)}function vj(t){X1(WD),Wt(new Xe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return pj(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ct(KD,QD,t),ct(KD,QD,"esm2017")}rg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vj();var k0=(()=>{let e=class e{constructor(){this.status=bn({value:"idle"})}postData(r){return A(this,null,function*(){if(this.status().value==="loading")return;this.status.set({value:"loading"});let i=F0(),o={["/forms/"+P0(Ho(vg(i),"forms")).key]:r};try{yield O0(vg(i),o),setTimeout(()=>this.status.set({value:"success"}),500)}catch(a){this.status.set({value:"error",error:a})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var _j=["*"],L0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-form-item"]],inputs:{label:"label"},standalone:!0,features:[ne],ngContentSelectors:_j,decls:5,vars:1,consts:[[1,"flex","flex-col"],[1,"text-md","font-medium"],[1,"mt-2"]],template:function(i,s){i&1&&(Fl(),v(0,"div",0)(1,"div",1),T(2),w(),v(3,"div",2),kl(4),w()()),i&2&&(U(2),Bt(s.label))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function wj(t,e){t&1&&(v(0,"div",2),V(1,"img",3),v(2,"p",4),T(3,"Merci ! Votre r\xE9ponse a bien \xE9t\xE9 envoy\xE9e."),w()())}function Ej(t,e){t&1&&(v(0,"div",21),T(1,"Merci de renseigner le champ."),w())}function Cj(t,e){t&1&&(v(0,"div",21),T(1,"Veuillez s\xE9lectionner une r\xE9ponse."),w())}function Dj(t,e){t&1&&(v(0,"div",22),V(1,"img",23),w())}function bj(t,e){t&1&&(v(0,"div",24),T(1," Une erreur est survenue, veuillez r\xE9essayer plus tard \u{1F62D}. "),w())}var Ij=t=>({"border border-red-600":t});function Sj(t,e){if(t&1){let n=Sn();v(0,"form",5),Te("ngSubmit",function(){_n(n);let i=We();return wn(i.submitForm())}),v(1,"app-form-item",6),V(2,"input",7),Ve(3,Ej,2,0,"div",8),w(),v(4,"div",9),V(5,"input",10),v(6,"label",11),T(7,"Oui, avec plaisir !"),w()(),v(8,"div",12),V(9,"input",13),v(10,"label",14),T(11,"Non, avec regret !"),w()(),Ve(12,Cj,2,0,"div",8),v(13,"app-form-item",15),V(14,"textarea",16),w(),v(15,"div",17),Ve(16,Dj,2,0,"div",18),v(17,"button",19),T(18," Envoyer les informations "),w(),Ve(19,bj,2,0,"div",20),w()()}if(t&2){let n=We(),r,i,s;De("formGroup",n.form),U(2),De("ngClass",Fw(6,Ij,((r=n.form.get("persons"))==null?null:r.invalid)&&((r=n.form.get("persons"))==null?null:r.dirty))),U(),Ze(3,(i=n.form.get("persons"))!=null&&i.invalid&&((i=n.form.get("persons"))!=null&&i.dirty)?3:-1),U(9),Ze(12,(s=n.form.get("response"))!=null&&s.invalid&&((s=n.form.get("response"))!=null&&s.dirty)?12:-1),U(4),Ze(16,n.rsvpService.status().value==="loading"?16:-1),U(3),Ze(19,n.rsvpService.status().value==="error"?19:-1)}}var V0=(()=>{let e=class e{constructor(){this.rsvpService=g(k0),this.fb=g(vD),this.form=this.fb.group({persons:this.fb.nonNullable.control("",[Eo.required]),response:this.fb.control(null,[Eo.required]),comments:this.fb.nonNullable.control("")})}submitForm(){return A(this,null,function*(){if(this.form.invalid){let r=this.form.get("persons");r.markAsDirty(),r.updateValueAndValidity();let i=this.form.get("response");i.markAsDirty(),i.updateValueAndValidity();return}yield this.rsvpService.postData({comments:this.form.value.comments,persons:this.form.value.persons,response:this.form.value.response,sentAt:new Date})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-rsvp"]],standalone:!0,features:[ne],decls:5,vars:1,consts:[[1,"text-center"],["class","mx-auto flex animate-fade-in flex-col items-center text-xl"],[1,"mx-auto","flex","animate-fade-in","flex-col","items-center","text-xl"],["alt","OK","src","assets/checkmark.svg",1,"h-12","w-12"],[1,"mt-4"],[1,"m-auto","flex","w-full","max-w-3xl","flex-col","items-stretch","rounded-md","bg-primaryLighter","p-8",3,"formGroup","ngSubmit"],["label","Vos noms et pr\xE9noms",1,"mt-4","flex-1"],["formControlName","persons",1,"w-full","rounded-md",3,"ngClass"],["class","text-md mt-2 italic text-red-600"],[1,"mt-6","flex","flex-row","items-center"],["type","radio","id","present","formControlName","response","value","true","checked","",1,"mr-4","min-h-5","min-w-5","accent-primary"],["for","present"],[1,"mt-2","flex","flex-row","items-center"],["type","radio","id","notpresent","formControlName","response","value","false","checked","",1,"mr-4","min-h-5","min-w-5","accent-primary"],["for","notpresent"],["label","Commentaires (remarques, sp\xE9cificit\xE9s alimentaires, etc.)",1,"mt-6","flex-1"],["rows","4","formControlName","comments",1,"row","w-full","resize-none","rounded-md"],[1,"relative","mx-auto","mt-10","flex","flex-col","items-center"],["class","absolute -top-9 left-1/2 -translate-x-1/2"],["type","submit",1,"rounded-md","border","bg-primary","px-4","py-2","text-white","opacity-80","transition-opacity","hover:opacity-100"],["class","mt-8 w-full text-red-600"],[1,"text-md","mt-2","italic","text-red-600"],[1,"absolute","-top-9","left-1/2","-translate-x-1/2"],["alt","loading","src","assets/loading.svg",1,"animate-rotate-infinite","inline-block","h-6","w-6","origin-center"],[1,"mt-8","w-full","text-red-600"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),T(2,"R\xE9ponse \xE0 l'invitation"),w(),Ve(3,wj,4,0,"div",1)(4,Sj,20,8),w()),i&2&&(U(3),Ze(3,s.rsvpService.status().value==="success"?3:4))},dependencies:[le,Ul,sn,_D,gD,kc,Mp,dD,fD,Ap,xp,L0],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function Tj(t,e){t&1&&V(0,"div",0)}var Mj=()=>[],j0=(()=>{let e=class e{constructor(){this.amount=3}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-dots"]],inputs:{amount:"amount"},standalone:!0,features:[ne],decls:2,vars:1,consts:[[1,"m-2","h-2","w-2","rounded-full","bg-primary","opacity-35"],["class","m-2 h-2 w-2 rounded-full bg-primary opacity-35"]],template:function(i,s){i&1&&Vt(0,Tj,1,0,"div",1,Ol),i&2&&jt(Ll(0,Mj).constructor(s.amount))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var B0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-wedding-details"]],standalone:!0,features:[ne],decls:28,vars:1,consts:[["src","assets/images/herponcey-wide.jpg","alt","Ch\xE2teau d'Herponcey",1,"mb-12","hidden","h-72","w-full","object-cover","sm:block","xl:h-96"],["src","assets/images/herponcey-16-9.jpg","alt","Ch\xE2teau d'Herponcey",1,"mx-auto","mb-12","block","aspect-video","max-w-full","object-cover","sm:hidden"],[1,"text-center"],[1,"flex","flex-col","items-center","justify-center","text-center","xl:flex-row-reverse","xl:items-start","xl:overflow-hidden","xl:rounded-xl","xl:bg-white","xl:text-left"],[1,"flex","flex-col","xl:mx-12","xl:my-8","xl:flex-1"],[1,""],[1,"hidden","xl:block"],["src","https://www.google.com/maps/d/u/0/embed?mid=1SujMwO3DWVg4oWTYF-2VMIJ5snd9l7A&ehbc=2E312F&noprof=1&z=17","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"mt-3","h-96","w-full","max-w-full","xl:mt-0","xl:max-w-lg"],[1,"mx-auto","my-6",3,"amount"],[1,"flex","flex-col","items-center","justify-center","text-center","xl:flex-row","xl:items-start","xl:overflow-hidden","xl:rounded-xl","xl:bg-white","xl:text-left"],[1,"italic"],[1,"whitespace-nowrap","font-medium"],["src","https://www.google.com/maps/d/embed?mid=1W-d-KcUZAFLbva9vsj1OvWsowMWirZc&ehbc=2E312F&noprof=1&z=15","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"mt-3","h-96","w-full","max-w-full","xl:mt-0","xl:max-w-lg"]],template:function(i,s){i&1&&(v(0,"app-page"),V(1,"img",0)(2,"img",1),v(3,"h1",2),T(4,"Le mariage"),w(),v(5,"div",3)(6,"div",4)(7,"h2",5),T(8,"La c\xE9r\xE9monie religieuse"),w(),v(9,"p"),T(10," \xC0 16h30 commence la c\xE9r\xE9monie religieuse "),V(11,"br",6),T(12," \xE0 l'\xE9glise Saint-Germain de Rugles, Place Foch. "),w(),v(13,"p"),T(14," Pour stationner \xE0 Rugles : la petite place de l'\xE9glise sera r\xE9serv\xE9e aux mari\xE9s et \xE0 leurs parents, mais vous trouverez diff\xE9rents parking \xE0 proximit\xE9 dont certains indiqu\xE9s sur la carte. "),w()(),V(15,"iframe",7),w(),V(16,"app-dots",8),v(17,"div",9)(18,"div",4)(19,"h2",5),T(20,"La r\xE9ception"),w(),v(21,"p",5),T(22," Apr\xE8s la c\xE9r\xE9monie religieuse, nous nous retrouverons chez Pierre et Edm\xE9e. Le ch\xE2teau d'Herponcey se trouve \xE0 4 km de Rugles, sur la D830 qui m\xE8ne de Rugles vers L'Aigle. "),w(),v(23,"p",10),T(24," Attention, le ch\xE2teau d'Herponcey n'est pas r\xE9pertori\xE9 sur Google Maps, ses coordoon\xE9es GPS sont : "),v(25,"span",11),T(26,"48.79835, 0.69436"),w()()(),V(27,"iframe",12),w()()),i&2&&(U(16),De("amount",3))},dependencies:[le,sn,j0],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var U0=[{path:"",redirectTo:"/mariage",pathMatch:"full"},{path:"hebergements",component:LC},{path:"mariage",component:B0},{path:"rsvp",component:V0},{path:"notre-liste",component:VC},{path:"galerie",component:jC}];var $0={providers:[tC(U0),wE(),NC(),{provide:Hs,useValue:"fr-FR"}]};var W0="@firebase/installations",Cg="0.6.5";var G0=1e4,q0=`w:${Cg}`,K0="FIS_v2",Aj="https://firebaseinstallations.googleapis.com/v1",xj=60*60*1e3,Nj="installations",Rj="Installations";var Pj={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ti=new xn(Nj,Rj,Pj);function Q0(t){return t instanceof Ht&&t.code.includes("request-failed")}function Y0({projectId:t}){return`${Aj}/projects/${t}/installations`}function Z0(t){return{token:t.token,requestStatus:2,expiresIn:Fj(t.expiresIn),creationTime:Date.now()}}function X0(t,e){return A(this,null,function*(){let r=(yield e.json()).error;return ti.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function J0({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Oj(t,{refreshToken:e}){let n=J0(t);return n.append("Authorization",kj(e)),n}function eI(t){return A(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function Fj(t){return Number(t.replace("s","000"))}function kj(t){return`${K0} ${t}`}function Lj(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=Y0(t),o=J0(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let l={fid:n,authVersion:K0,appId:t.appId,sdkVersion:q0},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield eI(()=>fetch(s,c));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:Z0(d.authToken)}}else throw yield X0("Create Installation",u)})}function tI(t){return new Promise(e=>{setTimeout(e,t)})}function Vj(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var jj=/^[cdef][\w-]{21}$/,Eg="";function Bj(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=Uj(t);return jj.test(n)?n:Eg}catch{return Eg}}function Uj(t){return Vj(t).substr(0,22)}function hu(t){return`${t.appName}!${t.appId}`}var nI=new Map;function rI(t,e){let n=hu(t);iI(n,e),$j(n,e)}function iI(t,e){let n=nI.get(t);if(n)for(let r of n)r(e)}function $j(t,e){let n=Hj();n&&n.postMessage({key:t,fid:e}),zj()}var ei=null;function Hj(){return!ei&&"BroadcastChannel"in self&&(ei=new BroadcastChannel("[Firebase] FID Change"),ei.onmessage=t=>{iI(t.data.key,t.data.fid)}),ei}function zj(){nI.size===0&&ei&&(ei.close(),ei=null)}var Wj="firebase-installations-database",Gj=1,ni="firebase-installations-store",_g=null;function Dg(){return _g||(_g=Wc(Wj,Gj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ni)}}})),_g}function fu(t,e){return A(this,null,function*(){let n=hu(t),i=(yield Dg()).transaction(ni,"readwrite"),s=i.objectStore(ni),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&rI(t,e.fid),e})}function sI(t){return A(this,null,function*(){let e=hu(t),r=(yield Dg()).transaction(ni,"readwrite");yield r.objectStore(ni).delete(e),yield r.done})}function pu(t,e){return A(this,null,function*(){let n=hu(t),i=(yield Dg()).transaction(ni,"readwrite"),s=i.objectStore(ni),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&rI(t,a.fid),a})}function bg(t){return A(this,null,function*(){let e,n=yield pu(t.appConfig,r=>{let i=qj(r),s=Kj(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Eg?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function qj(t){let e=t||{fid:Bj(),registrationStatus:0};return oI(e)}function Kj(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ti.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Qj(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Yj(t)}:{installationEntry:e}}function Qj(t,e){return A(this,null,function*(){try{let n=yield Lj(t,e);return fu(t.appConfig,n)}catch(n){throw Q0(n)&&n.customData.serverCode===409?yield sI(t.appConfig):yield fu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function Yj(t){return A(this,null,function*(){let e=yield H0(t.appConfig);for(;e.registrationStatus===1;)yield tI(100),e=yield H0(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield bg(t);return r||n}return e})}function H0(t){return pu(t,e=>{if(!e)throw ti.create("installation-not-found");return oI(e)})}function oI(t){return Zj(t)?{fid:t.fid,registrationStatus:0}:t}function Zj(t){return t.registrationStatus===1&&t.registrationTime+G0<Date.now()}function Xj(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=Jj(t,n),o=Oj(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let l={installation:{sdkVersion:q0,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield eI(()=>fetch(s,c));if(u.ok){let d=yield u.json();return Z0(d)}else throw yield X0("Generate Auth Token",u)})}function Jj(t,{fid:e}){return`${Y0(t)}/${e}/authTokens:generate`}function Ig(t,e=!1){return A(this,null,function*(){let n,r=yield pu(t.appConfig,s=>{if(!aI(s))throw ti.create("not-registered");let o=s.authToken;if(!e&&n2(o))return s;if(o.requestStatus===1)return n=e2(t,e),s;{if(!navigator.onLine)throw ti.create("app-offline");let a=i2(s);return n=t2(t,a),a}});return n?yield n:r.authToken})}function e2(t,e){return A(this,null,function*(){let n=yield z0(t.appConfig);for(;n.authToken.requestStatus===1;)yield tI(100),n=yield z0(t.appConfig);let r=n.authToken;return r.requestStatus===0?Ig(t,e):r})}function z0(t){return pu(t,e=>{if(!aI(e))throw ti.create("not-registered");let n=e.authToken;return s2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function t2(t,e){return A(this,null,function*(){try{let n=yield Xj(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield fu(t.appConfig,r),n}catch(n){if(Q0(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield sI(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield fu(t.appConfig,r)}throw n}})}function aI(t){return t!==void 0&&t.registrationStatus===2}function n2(t){return t.requestStatus===2&&!r2(t)}function r2(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+xj}function i2(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function s2(t){return t.requestStatus===1&&t.requestTime+G0<Date.now()}function o2(t){return A(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield bg(e);return r?r.catch(console.error):Ig(e).catch(console.error),n.fid})}function a2(t,e=!1){return A(this,null,function*(){let n=t;return yield l2(n),(yield Ig(n,e)).token})}function l2(t){return A(this,null,function*(){let{registrationPromise:e}=yield bg(t);e&&(yield e)})}function c2(t){if(!t||!t.options)throw wg("App Configuration");if(!t.name)throw wg("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw wg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function wg(t){return ti.create("missing-app-config-values",{valueName:t})}var lI="installations",u2="installations-internal",d2=t=>{let e=t.getProvider("app").getImmediate(),n=c2(e),r=nr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},f2=t=>{let e=t.getProvider("app").getImmediate(),n=nr(e,lI).getImmediate();return{getId:()=>o2(n),getToken:i=>a2(n,i)}};function h2(){Wt(new Xe(lI,d2,"PUBLIC")),Wt(new Xe(u2,f2,"PRIVATE"))}h2();ct(W0,Cg);ct(W0,Cg,"esm2017");var mu="analytics",p2="firebase_id",m2="origin",g2=60*1e3,y2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Rg="https://www.googletagmanager.com/gtag/js";var ut=new er("@firebase/analytics");var v2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wt=new xn("analytics","Analytics",v2);function _2(t){if(!t.startsWith(Rg)){let e=wt.create("invalid-gtag-resource",{gtagURL:t});return ut.warn(e.message),""}return t}function mI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function w2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function E2(t,e){let n=w2("firebase-js-sdk-policy",{createScriptURL:_2}),r=document.createElement("script"),i=`${Rg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function C2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function D2(t,e,n,r,i,s){return A(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let l=(yield mI(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){ut.error(a)}t("config",i,s)})}function b2(t,e,n,r,i){return A(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield mI(n);for(let l of o){let c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ut.error(s)}})}function I2(t,e,n,r){function i(s,...o){return A(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield b2(t,e,n,a,l)}else if(s==="config"){let[a,l]=o;yield D2(t,e,n,r,a,l)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){ut.error(a)}})}return i}function S2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=I2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function T2(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(Rg)&&n.src.includes(t))return n;return null}var M2=30,A2=1e3,Tg=class{constructor(e={},n=A2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},gI=new Tg;function x2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function N2(t){return A(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:x2(r)},s=y2.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw wt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function R2(r){return A(this,arguments,function*(t,e=gI,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw wt.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw wt.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Mg;return setTimeout(()=>A(this,null,function*(){l.abort()}),n!==void 0?n:g2),yI({appId:i,apiKey:s,measurementId:o},a,l,e)})}function yI(s,o,a){return A(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=gI){var l;let{appId:c,measurementId:u}=t;try{yield P2(r,e)}catch(d){if(u)return ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:u};throw d}try{let d=yield N2(t);return i.deleteThrottleMetadata(c),d}catch(d){let f=d;if(!O2(f)){if(i.deleteThrottleMetadata(c),u)return ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${f?.message}]`),{appId:c,measurementId:u};throw d}let h=Number((l=f?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Vp(n,i.intervalMillis,M2):Vp(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(c,p),ut.debug(`Calling attemptFetch again in ${h} millis`),yI(t,p,r,i)}})}function P2(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(wt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function O2(t){if(!(t instanceof Ht)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Mg=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Ag;function F2(t,e,n,r,i){return A(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}var xg;function k2(t){xg=t}function L2(t){Ag=t}function V2(){return A(this,null,function*(){if(Uc())try{yield $c()}catch(t){return ut.warn(wt.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ut.warn(wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function j2(t,e,n,r,i,s,o){return A(this,null,function*(){var a;let l=R2(t);l.then(h=>{n[h.measurementId]=h.appId,t.options.measurementId&&h.measurementId!==t.options.measurementId&&ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${h.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(h=>ut.error(h)),e.push(l);let c=V2().then(h=>{if(h)return r.getId()}),[u,d]=yield Promise.all([l,c]);T2(s)||E2(s,u.measurementId),xg&&(i("consent","default",xg),k2(void 0)),i("js",new Date);let f=(a=o?.config)!==null&&a!==void 0?a:{};return f[m2]="firebase",f.update=!0,d!=null&&(f[p2]=d),i("config",u.measurementId,f),Ag&&(i("set",Ag),L2(void 0)),u.measurementId})}var Ng=class{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}},Qo={},cI=[],uI={},Sg="dataLayer",B2="gtag",dI,vI,fI=!1;function U2(){let t=[];if(TD()&&t.push("This is a browser extension environment."),AD()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=wt.create("invalid-analytics-context",{errorInfo:e});ut.warn(n.message)}}function $2(t,e,n){U2();let r=t.options.appId;if(!r)throw wt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wt.create("no-api-key");if(Qo[r]!=null)throw wt.create("already-exists",{id:r});if(!fI){C2(Sg);let{wrappedGtag:s,gtagCore:o}=S2(Qo,cI,uI,Sg,B2);vI=s,dI=o,fI=!0}return Qo[r]=j2(t,cI,uI,e,dI,Sg,n),new Ng(t)}function _I(t=Mo()){t=an(t);let e=nr(t,mu);return e.isInitialized()?e.getImmediate():H2(t)}function H2(t,e={}){let n=nr(t,mu);if(n.isInitialized()){let i=n.getImmediate();if(Zi(e,n.getOptions()))return i;throw wt.create("already-initialized")}return n.initialize({options:e})}function gu(t,e,n,r){t=an(t),F2(vI,Qo[t.app.options.appId],e,n,r).catch(i=>ut.error(i))}var hI="@firebase/analytics",pI="0.10.1";function z2(){Wt(new Xe(mu,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return $2(r,i,n)},"PUBLIC")),Wt(new Xe("analytics-internal",t,"PRIVATE")),ct(hI,pI),ct(hI,pI,"esm2017");function t(e){try{let n=e.getProvider(mu).getImmediate();return{logEvent:(r,i,s)=>gu(n,r,i,s)}}catch(n){throw wt.create("interop-component-reg-failed",{reason:n})}}}z2();var W2="firebase",G2="10.8.1";ct(W2,G2,"app");var Yo={url:"https://web-wedding-13d08-default-rtdb.europe-west1.firebasedatabase.app",gaKey:"G-BEQRVGS5FB",apiKey:"AIzaSyD9GBnp6I4zAMurXeFw_al3D50T4sJaVWI",appId:"1:363474669863:web:d29b64729f24d25a1d5902"};var wI=(()=>{let e=class e{constructor(){this.router=g($i)}initFirebase(){let r=Xp({databaseURL:Yo.url,measurementId:Yo.gaKey,projectId:"web-wedding-13d08",apiKey:Yo.apiKey,appId:Yo.appId}),i=_I(r);gu(i,"open",{page_location:this.router.url,page_path:this.router.url,page_title:this.router.url}),this.router.events.pipe(Ke(s=>s instanceof Ut)).subscribe(s=>{gu(i,"page_view",{page_location:s.url,page_path:s.url,page_title:s.url})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var EI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-footer"]],standalone:!0,features:[ne],decls:6,vars:0,consts:[[1,"f","flex","flex-col","items-center","justify-center","p-8"],["src","assets/separator.svg","alt","sepator",1,"mb-4","h-6"],[1,"text-secondary"],[1,"text-xs"]],template:function(i,s){i&1&&(v(0,"div",0),V(1,"img",1),v(2,"div",2),T(3,"Daniel & Madeleine "),v(4,"span",3),T(5,"\u2010 1.0.6"),w()()())},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var CI=(t,e)=>e.path;function q2(t,e){if(t&1&&(v(0,"a",5)(1,"span"),T(2),w(),V(3,"div",6),w()),t&2){let n=e.$implicit;De("routerLink",n.path),U(2),Bt(n.label)}}function K2(t,e){if(t&1){let n=Sn();v(0,"a",9),Te("click",function(){_n(n);let i=We(2);return wn(i.closeDrawer())}),v(1,"span"),T(2),w(),V(3,"div",6),w()}if(t&2){let n=e.$implicit;De("routerLink",n.path),U(2),Bt(n.label)}}function Q2(t,e){if(t&1){let n=Sn();v(0,"div",7),Te("click",function(){_n(n);let i=We();return wn(i.closeDrawer())}),w(),v(1,"div",8),Vt(2,K2,4,2,"a",10,CI),w()}if(t&2){let n=We();U(2),jt(n.links())}}function Y2(t,e){if(t&1){let n=Sn();v(0,"img",11),Te("click",function(){_n(n);let i=We();return wn(i.isOpened.set(!i.isOpened()))}),w()}}function Z2(t,e){if(t&1){let n=Sn();v(0,"img",12),Te("click",function(){_n(n);let i=We();return wn(i.isOpened.set(!i.isOpened()))}),w()}}var DI=(()=>{let e=class e{constructor(){this.isOpened=bn(!1),this.links=bn([{label:"Le mariage",path:"/mariage"},{label:"Les h\xE9bergements",path:"/hebergements"},{label:"Notre liste",path:"/notre-liste"},{label:"Les photos",path:"/galerie"}])}closeDrawer(){this.isOpened.set(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-header"]],standalone:!0,features:[ne],decls:9,vars:2,consts:[[1,"flex","h-28","flex-row","items-center","justify-between","p-3","px-6","font-title","lg:h-36","lg:justify-center","lg:p-6"],[1,"w-12","lg:hidden"],["src","assets/logo.svg","alt","logo",1,"h-24","lg:h-28"],[1,"ml-16","hidden","flex-row","items-center","bg-background","font-title","lg:flex"],["class","z-20 w-10 hover:cursor-pointer lg:hidden","src","assets/close.svg","alt","close","aria-hidden","true"],["routerLinkActive","active",1,"relative","m-5","text-2xl","text-secondary",3,"routerLink"],[1,"line","absolute","hidden","h-[1px]","w-7","bg-secondary"],["aria-hidden","true",1,"absolute","bottom-0","left-0","right-0","top-0","z-10","backdrop-blur-sm",3,"click"],[1,"absolute","right-2","top-24","z-20","ml-16","flex","animate-fade-in","flex-col","items-center","rounded-md","bg-background","font-title","shadow-md","lg:hidden"],["routerLinkActive","active",1,"relative","m-5","text-2xl","text-secondary",3,"routerLink","click"],["class","relative m-5 text-2xl text-secondary","routerLinkActive","active",3,"routerLink"],["src","assets/close.svg","alt","close","aria-hidden","true",1,"z-20","w-10","hover:cursor-pointer","lg:hidden",3,"click"],["src","assets/menu.svg","alt","menu","aria-hidden","true",1,"z-20","w-10","hover:cursor-pointer","lg:hidden",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0),V(1,"div",1)(2,"img",2),v(3,"div",3),Vt(4,q2,4,2,"a",10,CI),w(),Ve(6,Q2,4,0)(7,Y2,1,0,"img",4)(8,Z2,1,0),w()),i&2&&(U(4),jt(s.links()),U(2),Ze(6,s.isOpened()?6:-1),U(),Ze(7,s.isOpened()?7:8))},dependencies:[le,lc,eC],styles:[".active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var bI=(()=>{let e=class e{constructor(){this.renderer=g(It),this.doc=g(Ge),this.appService=g(wI)}ngOnInit(){setTimeout(()=>{this.renderer.addClass(this.doc.getElementById("splash"),"opacity-0")},750),setTimeout(()=>{this.renderer.removeChild(this.doc.body,this.doc.getElementById("splash"))},1750),this.appService.initFirebase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-root"]],standalone:!0,features:[ne],decls:5,vars:0,consts:[[1,"relative","flex","h-full","flex-col"],[1,"relative","flex-1"]],template:function(i,s){i&1&&(v(0,"div",0),V(1,"app-header"),v(2,"main",1),V(3,"router-outlet"),w(),V(4,"app-footer"),w())},dependencies:[kh,DI,EI],data:{animation:[]}});let t=e;return t})();vE(bI,$0).catch(t=>console.error(t));
