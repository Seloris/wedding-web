import{a as E,b as X,c as ia,d as A}from"./chunk-TMC7WMLO.js";function Qg(t,e){return Object.is(t,e)}var Re=null,sa=!1,oa=1,kn=Symbol("SIGNAL");function ke(t){let e=Re;return Re=t,e}var la={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Iu(t){if(sa)throw new Error("");if(Re===null)return;Re.consumerOnSignalRead(t);let e=Re.nextProducerIndex++;if(oi(Re),e<Re.producerNode.length&&Re.producerNode[e]!==t&&ms(Re)){let n=Re.producerNode[e];ca(n,Re.producerIndexOfThis[e])}Re.producerNode[e]!==t&&(Re.producerNode[e]=t,Re.producerIndexOfThis[e]=ms(Re)?ey(t,Re,e):0),Re.producerLastReadVersion[e]=t.version}function LI(){oa++}function Yg(t){if(!(ms(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===oa)){if(!t.producerMustRecompute(t)&&!Mu(t)){t.dirty=!1,t.lastCleanEpoch=oa;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=oa}}function Zg(t){if(t.liveConsumerNode===void 0)return;let e=sa;sa=!0;try{for(let n of t.liveConsumerNode)n.dirty||jI(n)}finally{sa=e}}function Xg(){return Re?.consumerAllowSignalWrites!==!1}function jI(t){t.dirty=!0,Zg(t),t.consumerMarkedDirty?.(t)}function Su(t){return t&&(t.nextProducerIndex=0),ke(t)}function Tu(t,e){if(ke(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ms(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ca(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Mu(t){oi(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Yg(n),r!==n.version))return!0}return!1}function Jg(t){if(oi(t),ms(t))for(let e=0;e<t.producerNode.length;e++)ca(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ey(t,e,n){if(ty(t),oi(t),t.liveConsumerNode.length===0)for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=ey(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ca(t,e){if(ty(t),oi(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ca(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];oi(i),i.producerIndexOfThis[r]=e}}function ms(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function oi(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ty(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ny(t){let e=Object.create(VI);e.computation=t;let n=()=>{if(Yg(e),Iu(e),e.value===aa)throw e.error;return e.value};return n[kn]=e,n}var Cu=Symbol("UNSET"),bu=Symbol("COMPUTING"),aa=Symbol("ERRORED"),VI=X(E({},la),{value:Cu,dirty:!0,error:null,equal:Qg,producerMustRecompute(t){return t.value===Cu||t.value===bu},producerRecomputeValue(t){if(t.value===bu)throw new Error("Detected cycle in computations.");let e=t.value;t.value=bu;let n=Su(t),r;try{r=t.computation()}catch(i){r=aa,t.error=i}finally{Tu(t,n)}if(e!==Cu&&e!==aa&&r!==aa&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function BI(){throw new Error}var ry=BI;function iy(){ry()}function sy(t){ry=t}var UI=null;function oy(t){let e=Object.create(ly);e.value=t;let n=()=>(Iu(e),e.value);return n[kn]=e,n}function Au(t,e){Xg()||iy(),t.equal(t.value,e)||(t.value=e,$I(t))}function ay(t,e){Xg()||iy(),Au(t,e(t.value))}var ly=X(E({},la),{equal:Qg,value:void 0});function $I(t){t.version++,LI(),Zg(t),UI?.()}function P(t){return typeof t=="function"}function ai(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ua=ai(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function gs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(s){e=s instanceof ua?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{cy(s)}catch(o){e=e??[],o instanceof ua?e=[...e,...o.errors]:e.push(o)}}if(e)throw new ua(e)}}add(e){var n;if(e&&e!==this)if(this.closed)cy(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&gs(n,e)}remove(e){let{_finalizers:n}=this;n&&gs(n,e),e instanceof t&&e._removeParent(this)}};Se.EMPTY=(()=>{let t=new Se;return t.closed=!0,t})();var xu=Se.EMPTY;function da(t){return t instanceof Se||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function cy(t){P(t)?t():t.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var li={setTimeout(t,e,...n){let{delegate:r}=li;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=li;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ha(t){li.setTimeout(()=>{let{onUnhandledError:e}=kt;if(e)e(t);else throw t})}function ys(){}var uy=Nu("C",void 0,void 0);function dy(t){return Nu("E",void 0,t)}function hy(t){return Nu("N",t,void 0)}function Nu(t,e,n){return{kind:t,value:e,error:n}}var ur=null;function ci(t){if(kt.useDeprecatedSynchronousErrorHandling){let e=!ur;if(e&&(ur={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ur;if(ur=null,n)throw r}}else t()}function fy(t){kt.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=t)}var dr=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,da(e)&&e.add(this)):this.destination=WI}static create(e,n,r){return new ui(e,n,r)}next(e){this.isStopped?Ou(hy(e),this):this._next(e)}error(e){this.isStopped?Ou(dy(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ou(uy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},HI=Function.prototype.bind;function Ru(t,e){return HI.call(t,e)}var Pu=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fa(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fa(r)}else fa(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fa(n)}}},ui=class extends dr{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&kt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ru(e.next,s),error:e.error&&Ru(e.error,s),complete:e.complete&&Ru(e.complete,s)}):i=e}this.destination=new Pu(i)}};function fa(t){kt.useDeprecatedSynchronousErrorHandling?fy(t):ha(t)}function zI(t){throw t}function Ou(t,e){let{onStoppedNotification:n}=kt;n&&li.setTimeout(()=>n(t,e))}var WI={closed:!0,next:ys,error:zI,complete:ys};var di=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ht(t){return t}function Fu(...t){return ku(t)}function ku(t){return t.length===0?ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=qI(n)?n:new ui(n,r,i);return ci(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=py(r),new r((i,s)=>{let o=new ui({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[di](){return this}pipe(...n){return ku(n)(this)}toPromise(n){return n=py(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function py(t){var e;return(e=t??kt.Promise)!==null&&e!==void 0?e:Promise}function GI(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function qI(t){return t&&t instanceof dr||GI(t)&&da(t)}function Lu(t){return P(t?.lift)}function Q(t){return e=>{if(Lu(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function W(t,e,n,r,i){return new ju(t,e,n,r,i)}var ju=class extends dr{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function hi(){return Q((t,e)=>{let n=null;t._refCount++;let r=W(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var fi=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lu(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let n=this.getSubject();e.add(this.source.subscribe(W(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return hi()(this)}};var my=ai(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new pa(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new my}next(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ci(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?xu:(this.currentObservers=null,s.push(n),new Se(()=>{this.currentObservers=null,gs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new pa(e,n),t})(),pa=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xu}};var Le=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var It=new ee(t=>t.complete());function gy(t){return t&&P(t.schedule)}function yy(t){return t[t.length-1]}function ma(t){return P(yy(t))?t.pop():void 0}function Ln(t){return gy(yy(t))?t.pop():void 0}function _y(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function vy(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hr(t){return this instanceof hr?(this.v=t,this):new hr(t)}function wy(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{l(r[h](f))}catch(p){d(s[0][3],p)}}function l(h){h.value instanceof hr?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Ey(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof vy=="function"?vy(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}var ga=t=>t&&typeof t.length=="number"&&typeof t!="function";function ya(t){return P(t?.then)}function va(t){return P(t[di])}function _a(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function wa(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function KI(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ea=KI();function Da(t){return P(t?.[Ea])}function Ca(t){return wy(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield hr(n.read());if(i)return yield hr(void 0);yield yield hr(r)}}finally{n.releaseLock()}})}function ba(t){return P(t?.getReader)}function De(t){if(t instanceof ee)return t;if(t!=null){if(va(t))return QI(t);if(ga(t))return YI(t);if(ya(t))return ZI(t);if(_a(t))return Dy(t);if(Da(t))return XI(t);if(ba(t))return JI(t)}throw wa(t)}function QI(t){return new ee(e=>{let n=t[di]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function YI(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function ZI(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ha)})}function XI(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Dy(t){return new ee(e=>{eS(t,e).catch(n=>e.error(n))})}function JI(t){return Dy(Ca(t))}function eS(t,e){var n,r,i,s;return _y(this,void 0,void 0,function*(){try{for(n=Ey(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function rt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ia(t,e=0){return Q((n,r)=>{n.subscribe(W(r,i=>rt(r,t,()=>r.next(i),e),()=>rt(r,t,()=>r.complete(),e),i=>rt(r,t,()=>r.error(i),e)))})}function Sa(t,e=0){return Q((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Cy(t,e){return De(t).pipe(Sa(e),Ia(e))}function by(t,e){return De(t).pipe(Sa(e),Ia(e))}function Iy(t,e){return new ee(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Sy(t,e){return new ee(n=>{let r;return rt(n,e,()=>{r=t[Ea](),rt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function Ta(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{rt(n,e,()=>{let r=t[Symbol.asyncIterator]();rt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Ty(t,e){return Ta(Ca(t),e)}function My(t,e){if(t!=null){if(va(t))return Cy(t,e);if(ga(t))return Iy(t,e);if(ya(t))return by(t,e);if(_a(t))return Ta(t,e);if(Da(t))return Sy(t,e);if(ba(t))return Ty(t,e)}throw wa(t)}function me(t,e){return e?My(t,e):De(t)}function N(...t){let e=Ln(t);return me(t,e)}function pi(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new ee(e?i=>e.schedule(r,0,i):r)}function Vu(t){return!!t&&(t instanceof ee||P(t.lift)&&P(t.subscribe))}var mn=ai(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:tS}=Array;function nS(t,e){return tS(e)?t(...e):t(e)}function Ma(t){return z(e=>nS(t,e))}var{isArray:rS}=Array,{getPrototypeOf:iS,prototype:sS,keys:oS}=Object;function Aa(t){if(t.length===1){let e=t[0];if(rS(e))return{args:e,keys:null};if(aS(e)){let n=oS(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function aS(t){return t&&typeof t=="object"&&iS(t)===sS}function xa(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Na(...t){let e=Ln(t),n=ma(t),{args:r,keys:i}=Aa(t);if(r.length===0)return me([],e);let s=new ee(lS(r,e,i?o=>xa(i,o):ht));return n?s.pipe(Ma(n)):s}function lS(t,e,n=ht){return r=>{Ay(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)Ay(e,()=>{let c=me(t[l],e),u=!1;c.subscribe(W(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Ay(t,e,n){t?rt(n,t,e):e()}function xy(t,e,n,r,i,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<r?p(m):l.push(m),p=m=>{s&&e.next(m),c++;let D=!1;De(n(m,u++)).subscribe(W(e,C=>{i?.(C),s?f(C):e.next(C)},()=>{D=!0},void 0,()=>{if(D)try{for(c--;l.length&&c<r;){let C=l.shift();o?rt(e,o,()=>p(C)):p(C)}h()}catch(C){e.error(C)}}))};return t.subscribe(W(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Te(t,e,n=1/0){return P(e)?Te((r,i)=>z((s,o)=>e(r,s,i,o))(De(t(r,i))),n):(typeof e=="number"&&(n=e),Q((r,i)=>xy(r,i,t,n)))}function mi(t=1/0){return Te(ht,t)}function Ny(){return mi(1)}function gi(...t){return Ny()(me(t,Ln(t)))}function Ra(t){return new ee(e=>{De(t()).subscribe(e)})}function Bu(...t){let e=ma(t),{args:n,keys:r}=Aa(t),i=new ee(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;De(n[u]).subscribe(W(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?xa(r,a):a),s.complete())}))}});return e?i.pipe(Ma(e)):i}function Qe(t,e){return Q((n,r)=>{let i=0;n.subscribe(W(r,s=>t.call(e,s,i++)&&r.next(s)))})}function jn(t){return Q((e,n)=>{let r=null,i=!1,s;r=e.subscribe(W(n,void 0,void 0,o=>{s=De(t(o,jn(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Ry(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(W(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function fr(t,e){return P(e)?Te(t,e,1):Te(t,1)}function Vn(t){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function gn(t){return t<=0?()=>It:Q((e,n)=>{let r=0;e.subscribe(W(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Uu(t){return z(()=>t)}function Oa(t=cS){return Q((e,n)=>{let r=!1;e.subscribe(W(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cS(){return new mn}function yi(t){return Q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Lt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ht,gn(1),n?Vn(e):Oa(()=>new mn))}function vi(t){return t<=0?()=>It:Q((e,n)=>{let r=[];e.subscribe(W(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $u(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qe((i,s)=>t(i,s,r)):ht,vi(1),n?Vn(e):Oa(()=>new mn))}function Hu(t,e){return Q(Ry(t,e,arguments.length>=2,!0))}function zu(...t){let e=Ln(t);return Q((n,r)=>{(e?gi(t,n,e):gi(t,n)).subscribe(r)})}function St(t,e){return Q((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(W(r,l=>{i?.unsubscribe();let c=0,u=s++;De(t(l,u)).subscribe(i=W(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Wu(t){return Q((e,n)=>{De(t).subscribe(W(n,()=>n.complete(),ys)),!n.closed&&e.subscribe(n)})}function Ce(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?Q((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(W(s,l=>{var c;(c=r.next)===null||c===void 0||c.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var c;a=!1,(c=r.error)===null||c===void 0||c.call(r,l),s.error(l)},()=>{var l,c;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):ht}var gv="https://g.co/ng/security#xss",y=class extends Error{constructor(e,n){super(pl(e,n)),this.code=e}};function pl(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var ud=class extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Gu(s),i&&(i=Gu(i)),o&&(o=Gu(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Se&&e.add(a),a}};function Gu(t){return e=>{setTimeout(t,void 0,e)}}var be=ud;var B=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(B||{});function st(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(st).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Oy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yv=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yv||{}),Jt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Jt||{});function ml(t){return{toString:t}.toString()}var pr=globalThis;var Ci={},ft=[];function ae(t){for(let e in t)if(t[e]===ae)return e;throw Error("Could not find renamed property on target object.")}function uS(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var dS=ae({\u0275cmp:ae}),hS=ae({\u0275dir:ae}),fS=ae({\u0275pipe:ae}),pS=ae({\u0275mod:ae}),Ga=ae({\u0275fac:ae}),vs=ae({__NG_ELEMENT_ID__:ae}),Py=ae({__NG_ENV_ID__:ae}),Ve=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ve||{});function vv(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function dd(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];mS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function _v(t){return t===3||t===4||t===6}function mS(t){return t.charCodeAt(0)===64}function Es(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Fy(t,n,i,null,e[++r]):Fy(t,n,i,null,null))}}return t}function Fy(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var wv="ng-template";function gS(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if(typeof s=="string"&&i){let o=t[r++];if(n&&s==="class"&&vv(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;r<t.length&&typeof(s=t[r++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(i=!1)}return!1}function Ev(t){return t.type===4&&t.value!==wv}function yS(t,e,n){let r=t.type===4&&!n?wv:t.value;return e===r}function vS(t,e,n){let r=4,i=t.attrs||[],s=ES(i),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!jt(r)&&!jt(l))return!1;if(o&&jt(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!yS(t,l,n)||l===""&&e.length===1){if(jt(r))return!1;o=!0}}else{let c=r&8?l:e[++a];if(r&8&&t.attrs!==null){if(!gS(t.attrs,c,n)){if(jt(r))return!1;o=!0}continue}let u=r&8?"class":l,d=_S(u,i,Ev(t),n);if(d===-1){if(jt(r))return!1;o=!0;continue}if(c!==""){let h;d>s?h="":h=i[d+1].toLowerCase();let f=r&8?h:null;if(f&&vv(f,c,0)!==-1||r&2&&c!==h){if(jt(r))return!1;o=!0}}}}return jt(r)||o}function jt(t){return(t&1)===0}function _S(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DS(e,t)}function Dv(t,e,n=!1){for(let r=0;r<e.length;r++)if(vS(t,e[r],n))return!0;return!1}function wS(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function ES(t){for(let e=0;e<t.length;e++){let n=t[e];if(_v(n))return e}return t.length}function DS(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function CS(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function ky(t,e){return t?":not("+e.trim()+")":e}function bS(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!jt(o)&&(e+=ky(s,i),i=""),r=o,s=s||!jt(r);n++}return i!==""&&(e+=ky(s,i)),e}function IS(t){return t.map(bS).join(",")}function SS(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!jt(i))break;i=s}r++}return{attrs:e,classes:n}}function te(t){return ml(()=>{let e=Tv(t),n=X(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yv.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Jt.Emulated,styles:t.styles||ft,_:null,schemas:t.schemas||null,tView:null,id:""});Mv(n);let r=t.dependencies;return n.directiveDefs=jy(r,!1),n.pipeDefs=jy(r,!0),n.id=AS(n),n})}function TS(t){return gr(t)||Cv(t)}function MS(t){return t!==null}function Hn(t){return ml(()=>({type:t.type,bootstrap:t.bootstrap||ft,declarations:t.declarations||ft,imports:t.imports||ft,exports:t.exports||ft,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ly(t,e){if(t==null)return Ci;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ve.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ve.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ge(t){return ml(()=>{let e=Tv(t);return Mv(e),e})}function rh(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function gr(t){return t[dS]||null}function Cv(t){return t[hS]||null}function bv(t){return t[fS]||null}function Iv(t){let e=gr(t)||Cv(t)||bv(t);return e!==null?e.standalone:!1}function Sv(t,e){let n=t[pS]||null;if(!n&&e===!0)throw new Error(`Type ${st(t)} does not have '\u0275mod' property.`);return n}function Tv(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ci,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ft,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ly(t.inputs,e),outputs:Ly(t.outputs),debugInfo:null}}function Mv(t){t.features?.forEach(e=>e(t))}function jy(t,e){if(!t)return null;let n=e?bv:TS;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(MS)}function AS(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var pt=0,R=1,x=2,Oe=3,Vt=4,mt=5,Bt=6,Ds=7,We=8,bi=9,vn=10,ye=11,Cs=12,Vy=13,Mi=14,ot=15,Ls=16,_i=17,_n=18,gl=19,Av=20,_s=21,qu=22,yr=23,Me=25,xv=1,bs=6,wn=7,qa=8,Ii=9,je=10,ih=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ih||{});function yn(t){return Array.isArray(t)&&typeof t[xv]=="object"}function en(t){return Array.isArray(t)&&t[xv]===!0}function Nv(t){return(t.flags&4)!==0}function js(t){return t.componentOffset>-1}function sh(t){return(t.flags&1)===1}function Un(t){return!!t.template}function Rv(t){return(t[x]&512)!==0}var xS="svg",NS="math",RS=!1;function OS(){return RS}function Ut(t){for(;Array.isArray(t);)t=t[pt];return t}function Ov(t,e){return Ut(e[t])}function gt(t,e){return Ut(e[t.index])}function oh(t,e){return t.data[e]}function PS(t,e){return t[e]}function zn(t,e){let n=e[t];return yn(n)?n:n[pt]}function FS(t){return(t[x]&4)===4}function ah(t){return(t[x]&128)===128}function kS(t){return en(t[Oe])}function Ka(t,e){return e==null?null:t[e]}function Pv(t){t[_i]=0}function LS(t){t[x]&1024||(t[x]|=1024,ah(t)&&Is(t))}function jS(t,e){for(;t>0;)e=e[Mi],t--;return e}function lh(t){return!!(t[x]&9216||t[yr]?.dirty)}function hd(t){lh(t)?Is(t):t[x]&64&&(OS()?(t[x]|=1024,Is(t)):t[vn].changeDetectionScheduler?.notify())}function Is(t){t[vn].changeDetectionScheduler?.notify();let e=Ss(t);for(;e!==null&&!(e[x]&8192||(e[x]|=8192,!ah(e)));)e=Ss(e)}function VS(t,e){if((t[x]&256)===256)throw new y(911,!1);t[_s]===null&&(t[_s]=[]),t[_s].push(e)}function Ss(t){let e=t[Oe];return en(e)?e[Oe]:e}var V={lFrame:$v(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function BS(){return V.lFrame.elementDepthCount}function US(){V.lFrame.elementDepthCount++}function $S(){V.lFrame.elementDepthCount--}function Fv(){return V.bindingsEnabled}function Ai(){return V.skipHydrationRootTNode!==null}function HS(t){return V.skipHydrationRootTNode===t}function zS(t){V.skipHydrationRootTNode=t}function WS(){V.skipHydrationRootTNode=null}function q(){return V.lFrame.lView}function Ze(){return V.lFrame.tView}function tn(t){return V.lFrame.contextLView=t,t[We]}function nn(t){return V.lFrame.contextLView=null,t}function at(){let t=kv();for(;t!==null&&t.type===64;)t=t.parent;return t}function kv(){return V.lFrame.currentTNode}function GS(){let t=V.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Vs(t,e){let n=V.lFrame;n.currentTNode=t,n.isParent=e}function Lv(){return V.lFrame.isParent}function jv(){V.lFrame.isParent=!1}function yl(){let t=V.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function qS(t){return V.lFrame.bindingIndex=t}function Bs(){return V.lFrame.bindingIndex++}function KS(t){let e=V.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QS(){return V.lFrame.inI18n}function YS(t,e){let n=V.lFrame;n.bindingIndex=n.bindingRootIndex=t,fd(e)}function ZS(){return V.lFrame.currentDirectiveIndex}function fd(t){V.lFrame.currentDirectiveIndex=t}function XS(t){let e=V.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Vv(){return V.lFrame.currentQueryIndex}function ch(t){V.lFrame.currentQueryIndex=t}function JS(t){let e=t[R];return e.type===2?e.declTNode:e.type===1?t[mt]:null}function Bv(t,e,n){if(n&B.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&B.Host);)if(i=JS(s),i===null||(s=s[Mi],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=V.lFrame=Uv();return r.currentTNode=e,r.lView=t,!0}function uh(t){let e=Uv(),n=t[R];V.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Uv(){let t=V.lFrame,e=t===null?null:t.child;return e===null?$v(t):e}function $v(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Hv(){let t=V.lFrame;return V.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var zv=Hv;function dh(){let t=Hv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function eT(t){return(V.lFrame.contextLView=jS(t,V.lFrame.contextLView))[We]}function Tr(){return V.lFrame.selectedIndex}function vr(t){V.lFrame.selectedIndex=t}function Wv(){let t=V.lFrame;return oh(t.tView,t.selectedIndex)}function Gv(){return V.lFrame.currentNamespace}var qv=!0;function hh(){return qv}function Wn(t){qv=t}function tT(){return xi(at(),q())}function xi(t,e){return new lt(gt(t,e))}var lt=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tT;let t=e;return t})();function nT(t){return t instanceof lt?t.nativeElement:t}function rT(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function iT(t){return t.flat(Number.POSITIVE_INFINITY)}function fh(t,e){t.forEach(n=>Array.isArray(n)?fh(n,e):e(n))}function Kv(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qa(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sT(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function oT(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function aT(t,e,n){let r=Us(t,e);return r>=0?t[r|1]=n:(r=~r,oT(t,r,e,n)),r}function Ku(t,e){let n=Us(t,e);if(n>=0)return t[n|1]}function Us(t,e){return lT(t,e,1)}function lT(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}function cT(){return this._results[Symbol.iterator]()}var pd=class t{get changes(){return this._changes??=new be}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=cT)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=iT(e);(this._changesDetected=!rT(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}},uT="ngSkipHydration",dT="ngskiphydration";function Qv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===dT)return!0}return!1}function Yv(t){return t.hasAttribute(uT)}function Ya(t){return(t.flags&128)===128}function hT(t){if(Ya(t))return!0;let e=t.parent;for(;e;){if(Ya(t)||Qv(e))return!0;e=e.parent}return!1}var md;function Zv(t){md=t}function vl(){if(md!==void 0)return md;if(typeof document<"u")return document;throw new y(210,!1)}function I(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Gn(t){return{providers:t.providers||[],imports:t.imports||[]}}function _l(t){return By(t,Jv)||By(t,e_)}function Xv(t){return _l(t)!==null}function By(t,e){return t.hasOwnProperty(e)?t[e]:null}function fT(t){let e=t&&(t[Jv]||t[e_]);return e||null}function Uy(t){return t&&(t.hasOwnProperty($y)||t.hasOwnProperty(pT))?t[$y]:null}var Jv=ae({\u0275prov:ae}),$y=ae({\u0275inj:ae}),e_=ae({ngInjectableDef:ae}),pT=ae({ngInjectorDef:ae}),O=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=I({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},wl=new O("",{providedIn:"root",factory:()=>mT}),mT="ng",ph=new O(""),bn=new O("",{providedIn:"platform",factory:()=>"unknown"});var mh=new O(""),gh=new O("",{providedIn:"root",factory:()=>vl().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gT=ae({__forward_ref__:ae});function Mr(t){return t.__forward_ref__=Mr,t.toString=function(){return st(this())},t}function Ye(t){return t_(t)?t():t}function t_(t){return typeof t=="function"&&t.hasOwnProperty(gT)&&t.__forward_ref__===Mr}function n_(t){return t&&!!t.\u0275providers}function El(t){return typeof t=="string"?t:t==null?"":String(t)}function yT(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():El(t)}function vT(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new y(-200,t)}function yh(t,e){throw new y(-201,!1)}var gd;function _T(){return gd}function it(t){let e=gd;return gd=t,e}function r_(t,e,n){let r=_l(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&B.Optional)return null;if(e!==void 0)return e;yh(t,"Injector")}var wT={},Ts=wT,ET="__NG_DI_FLAG__",Za="ngTempTokenPath",DT="ngTokenPath",CT=/\n/gm,bT="\u0275",Hy="__source",ws;function Bn(t){let e=ws;return ws=t,e}function IT(t,e=B.Default){if(ws===void 0)throw new y(-203,!1);return ws===null?r_(t,void 0,e):ws.get(t,e&B.Optional?null:void 0,e)}function U(t,e=B.Default){return(_T()||IT)(Ye(t),e)}function g(t,e=B.Default){return U(t,Dl(e))}function Dl(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yd(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new y(900,!1);let i,s=B.Default;for(let o=0;o<r.length;o++){let a=r[o],l=ST(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(U(i,s))}else e.push(U(r))}return e}function ST(t){return t[ET]}function TT(t,e,n,r){let i=t[Za];throw e[Hy]&&i.unshift(e[Hy]),t.message=MT(`
`+t.message,i,n,r),t[DT]=i,t[Za]=null,t}function MT(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==bT?t.slice(2):t;let i=st(e);if(Array.isArray(e))i=e.map(st).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):st(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(CT,`
  `)}`}function AT(){let t=new Ar;return g(bn)==="browser"&&(t.store=xT(vl(),g(wl))),t}var Ar=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=I({token:e,providedIn:"root",factory:AT});let t=e;return t})();function xT(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var i_="h",s_="b",vd=function(t){return t.FirstChild="f",t.NextSibling="n",t}(vd||{}),NT="e",RT="t",vh="c",o_="x",Xa="r",OT="i",PT="n",FT="d",kT="__nghData__",a_=kT,Qu="ngh",LT="nghm",l_=()=>null;function jT(t,e,n=!1){let r=t.getAttribute(Qu);if(r==null)return null;let[i,s]=r.split("|");if(r=n?s:i,!r)return null;let o=s?`|${s}`:"",a=n?i:o,l={};if(r!==""){let u=e.get(Ar,null,{optional:!0});u!==null&&(l=u.get(a_,[])[Number(r)])}let c={data:l,firstChild:t.firstChild??null};return n&&(c.firstChild=t,Cl(c,0,t.nextSibling)),a?t.setAttribute(Qu,a):t.removeAttribute(Qu),c}function VT(){l_=jT}function _h(t,e,n=!1){return l_(t,e,n)}function BT(t){let e=t._lView;return e[R].type===2?null:(Rv(e)&&(e=e[Me]),e)}function UT(t){return t.textContent?.replace(/\s/gm,"")}function $T(t){let e=vl(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(s){let o=UT(s);return o==="ngetn"||o==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let s of i)s.textContent==="ngetn"?s.replaceWith(e.createTextNode("")):s.remove()}function Cl(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function _d(t,e){return t.segmentHeads?.[e]??null}function HT(t,e){let n=t.data,r=n[NT]?.[e]??null;return r===null&&n[vh]?.[e]&&(r=wh(t,e)),r}function c_(t,e){return t.data[vh]?.[e]??null}function wh(t,e){let n=c_(t,e)??[],r=0;for(let i of n)r+=i[Xa]*(i[o_]??1);return r}function bl(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[FT];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}function _r(t,e){let n=t.hasOwnProperty(Ga);return n?t[Ga]:null}var wr=new O(""),u_=new O("",-1),d_=new O(""),Ja=class{get(e,n=Ts){if(n===Ts){let r=new Error(`NullInjectorError: No provider for ${st(e)}!`);throw r.name="NullInjectorError",r}return n}};function xr(t){return{\u0275providers:t}}function zT(...t){return{\u0275providers:h_(!0,t),\u0275fromNgModule:!0}}function h_(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return fh(e,o=>{let a=o;wd(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&f_(i,s),n}function f_(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Eh(i,s=>{e(s,r)})}}function wd(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,s=Uy(t),o=!s&&gr(t);if(!s&&!o){let l=t.ngModule;if(s=Uy(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)wd(c,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let c;try{fh(s.imports,u=>{wd(u,e,n,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&f_(c,e)}if(!a){let c=_r(i)||(()=>new i);e({provide:i,useFactory:c,deps:ft},i),e({provide:d_,useValue:i,multi:!0},i),e({provide:wr,useValue:()=>U(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let c=t;Eh(l,u=>{e(u,c)})}}else return!1;return i!==t&&t.providers!==void 0}function Eh(t,e){for(let n of t)n_(n)&&(n=n.\u0275providers),Array.isArray(n)?Eh(n,e):e(n)}var WT=ae({provide:String,useValue:ae});function p_(t){return t!==null&&typeof t=="object"&&WT in t}function GT(t){return!!(t&&t.useExisting)}function qT(t){return!!(t&&t.useFactory)}function Si(t){return typeof t=="function"}function KT(t){return!!t.useClass}var Il=new O(""),Ba={},QT={},Yu;function Dh(){return Yu===void 0&&(Yu=new Ja),Yu}var Tt=class{},Ms=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dd(e,o=>this.processProvider(o)),this.records.set(u_,wi(void 0,this)),i.has("environment")&&this.records.set(Tt,wi(void 0,this));let s=this.records.get(Il);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(d_,ft,B.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(let n of this._ngOnDestroyHooks)n.ngOnDestroy();let e=this._onDestroyHooks;this._onDestroyHooks=[];for(let n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Bn(this),r=it(void 0),i;try{return e()}finally{Bn(n),it(r)}}get(e,n=Ts,r=B.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Py))return e[Py](this);r=Dl(r);let i,s=Bn(this),o=it(void 0);try{if(!(r&B.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=eM(e)&&_l(e);c&&this.injectableDefInScope(c)?l=wi(Ed(e),Ba):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&B.Self?Dh():this.parent;return n=r&B.Optional&&n===Ts?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Za]=a[Za]||[]).unshift(st(e)),s)throw a;return TT(a,e,"R3InjectorError",this.source)}else throw a}finally{it(o),Bn(s)}}resolveInjectorInitializers(){let e=Bn(this),n=it(void 0),r;try{let i=this.get(wr,ft,B.Self);for(let s of i)s()}finally{Bn(e),it(n)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(st(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new y(205,!1)}processProvider(e){e=Ye(e);let n=Si(e)?e:Ye(e&&e.provide),r=ZT(e);if(!Si(e)&&e.multi===!0){let i=this.records.get(n);i||(i=wi(void 0,Ba,!0),i.factory=()=>yd(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ba&&(n.value=QT,n.value=n.factory()),typeof n.value=="object"&&n.value&&JT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ed(t){let e=_l(t),n=e!==null?e.factory:_r(t);if(n!==null)return n;if(t instanceof O)throw new y(204,!1);if(t instanceof Function)return YT(t);throw new y(204,!1)}function YT(t){if(t.length>0)throw new y(204,!1);let n=fT(t);return n!==null?()=>n.factory(t):()=>new t}function ZT(t){if(p_(t))return wi(void 0,t.useValue);{let e=m_(t);return wi(e,Ba)}}function m_(t,e,n){let r;if(Si(t)){let i=Ye(t);return _r(i)||Ed(i)}else if(p_(t))r=()=>Ye(t.useValue);else if(qT(t))r=()=>t.useFactory(...yd(t.deps||[]));else if(GT(t))r=()=>U(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(XT(t))r=()=>new i(...yd(t.deps));else return _r(i)||Ed(i)}return r}function wi(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function XT(t){return!!t.deps}function JT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function eM(t){return typeof t=="function"||typeof t=="object"&&t instanceof O}function Dd(t,e){for(let n of t)Array.isArray(n)?Dd(n,e):n&&n_(n)?Dd(n.\u0275providers,e):e(n)}function qn(t,e){t instanceof Ms&&t.assertNotDestroyed();let n,r=Bn(t),i=it(void 0);try{return e()}finally{Bn(r),it(i)}}function tM(t){return typeof t=="function"}var Cd=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function g_(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function In(){return y_}function y_(t){return t.type.prototype.ngOnChanges&&(t.setInput=rM),nM}In.ngInherit=!0;function nM(){let t=__(this),e=t?.current;if(e){let n=t.previous;if(n===Ci)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function rM(t,e,n,r,i){let s=this.declaredInputs[r],o=__(t)||iM(t,{previous:Ci,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new Cd(c&&c.currentValue,n,l===Ci),g_(t,e,i,n)}var v_="__ngSimpleChanges__";function __(t){return t[v_]||null}function iM(t,e){return t[v_]=e}var zy=null;var Zt=function(t,e,n){zy?.(t,e,n)};function sM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=y_(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ch(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Ua(t,e,n){w_(t,e,3,n)}function $a(t,e,n,r){(t[x]&3)===n&&w_(t,e,n,r)}function Zu(t,e){let n=t[x];(n&3)===e&&(n&=16383,n+=1,t[x]=n)}function w_(t,e,n,r){let i=r!==void 0?t[_i]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[_i]+=65536),(a<s||s==-1)&&(oM(t,n,e,l),t[_i]=(t[_i]&4294901760)+l+2),l++}function Wy(t,e){Zt(4,t,e);let n=ke(null);try{e.call(t)}finally{ke(n),Zt(5,t,e)}}function oM(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[x]>>14<t[_i]>>16&&(t[x]&3)===e&&(t[x]+=16384,Wy(a,s)):Wy(a,s)}var Di=-1,Er=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function aM(t){return t instanceof Er}function lM(t){return(t.flags&8)!==0}function cM(t){return(t.flags&16)!==0}function E_(t){return t!==Di}function el(t){return t&32767}function uM(t){return t>>16}function tl(t,e){let n=uM(t),r=e;for(;n>0;)r=r[Mi],n--;return r}var bd=!0;function nl(t){let e=bd;return bd=t,e}var dM=256,D_=dM-1,C_=5,hM=0,Xt={};function fM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vs)&&(r=n[vs]),r==null&&(r=n[vs]=hM++);let i=r&D_,s=1<<i;e.data[t+(i>>C_)]|=s}function rl(t,e){let n=b_(t,e);if(n!==-1)return n;let r=e[R];r.firstCreatePass&&(t.injectorIndex=e.length,Xu(r.data,t),Xu(e,null),Xu(r.blueprint,null));let i=bh(t,e),s=t.injectorIndex;if(E_(i)){let o=el(i),a=tl(i,e),l=a[R].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function Xu(t,e){t.push(0,0,0,0,0,0,0,0,e)}function b_(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function bh(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=A_(i),r===null)return Di;if(n++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Di}function Id(t,e,n){fM(t,e,n)}function pM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(_v(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function I_(t,e,n){if(n&B.Optional||t!==void 0)return t;yh(e,"NodeInjector")}function S_(t,e,n,r){if(n&B.Optional&&r===void 0&&(r=null),!(n&(B.Self|B.Host))){let i=t[bi],s=it(void 0);try{return i?i.get(e,r,n&B.Optional):r_(e,r,n&B.Optional)}finally{it(s)}}return I_(r,e,n)}function T_(t,e,n,r=B.Default,i){if(t!==null){if(e[x]&2048&&!(r&B.Self)){let o=vM(t,e,n,r,Xt);if(o!==Xt)return o}let s=M_(t,e,n,r,Xt);if(s!==Xt)return s}return S_(e,n,r,i)}function M_(t,e,n,r,i){let s=gM(n);if(typeof s=="function"){if(!Bv(e,t,r))return r&B.Host?I_(i,n,r):S_(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&B.Optional))yh(n);else return o}finally{zv()}}else if(typeof s=="number"){let o=null,a=b_(t,e),l=Di,c=r&B.Host?e[ot][mt]:null;for((a===-1||r&B.SkipSelf)&&(l=a===-1?bh(t,e):e[a+8],l===Di||!qy(r,!1)?a=-1:(o=e[R],a=el(l),e=tl(l,e)));a!==-1;){let u=e[R];if(Gy(s,a,u.data)){let d=mM(a,e,n,o,r,c);if(d!==Xt)return d}l=e[a+8],l!==Di&&qy(r,e[R].data[a+8]===c)&&Gy(s,a,e)?(o=u,a=el(l),e=tl(l,e)):a=-1}}return i}function mM(t,e,n,r,i,s){let o=e[R],a=o.data[t+8],l=r==null?js(a)&&bd:r!=o&&(a.type&3)!==0,c=i&B.Host&&s===a,u=Ha(a,o,n,l,c);return u!==null?Dr(e,o,u,a):Xt}function Ha(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=r?a:a+u,h=i?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(i){let f=o[l];if(f&&Un(f)&&f.type===n)return l}return null}function Dr(t,e,n,r){let i=t[n],s=e.data;if(aM(i)){let o=i;o.resolving&&vT(yT(s[n]));let a=nl(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?it(o.injectImpl):null,u=Bv(t,r,B.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&sM(n,s[n],e)}finally{c!==null&&it(c),nl(a),o.resolving=!1,zv()}}return i}function gM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(vs)?t[vs]:void 0;return typeof e=="number"?e>=0?e&D_:yM:e}function Gy(t,e,n){let r=1<<t;return!!(n[e+(t>>C_)]&r)}function qy(t,e){return!(t&B.Self)&&!(t&B.Host&&e)}var mr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return T_(this._tNode,this._lView,e,Dl(r),n)}};function yM(){return new mr(at(),q())}function $s(t){return ml(()=>{let e=t.prototype.constructor,n=e[Ga]||Sd(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ga]||Sd(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Sd(t){return t_(t)?()=>{let e=Sd(Ye(t));return e&&e()}:_r(t)}function vM(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[x]&2048&&!(o[x]&512);){let a=M_(s,o,n,r|B.Self,Xt);if(a!==Xt)return a;let l=s.parent;if(!l){let c=o[Av];if(c){let u=c.get(n,Xt,r);if(u!==Xt)return u}l=A_(o),o=o[Mi]}s=l}return i}function A_(t){let e=t[R],n=e.type;return n===2?e.declTNode:n===1?t[mt]:null}function Ih(t){return pM(at(),t)}function Ky(t,e=null,n=null,r){let i=x_(t,e,n,r);return i.resolveInjectorInitializers(),i}function x_(t,e=null,n=null,r,i=new Set){let s=[n||ft,zT(t)];return r=r||(typeof t=="object"?void 0:st(t)),new Ms(s,e||Dh(),r||null,i)}var Sn=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Ky({name:""},i,r,"");{let s=r.name??"";return Ky({name:s},r.parent,r.providers,s)}}};e.THROW_IF_NOT_FOUND=Ts,e.NULL=new Ja,e.\u0275prov=I({token:e,providedIn:"any",factory:()=>U(u_)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),_M="ngOriginalError";function Ju(t){return t[_M]}var En=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ju(e);for(;n&&Ju(n);)n=Ju(n);return n||null}},N_=new O("",{providedIn:"root",factory:()=>g(En).handleError.bind(void 0)}),Pa=new O(""),R_=!1,O_=new O("",{providedIn:"root",factory:()=>R_});var Fa;function wM(){if(Fa===void 0&&(Fa=null,pr.trustedTypes))try{Fa=pr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Fa}function Qy(t){return wM()?.createScriptURL(t)||t}var il=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${gv})`}};function Hs(t){return t instanceof il?t.changingThisBreaksApplicationSecurity:t}function Sh(t,e){let n=EM(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${gv})`)}return n===e}function EM(t){return t instanceof il&&t.getTypeName()||null}var DM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function P_(t){return t=String(t),t.match(DM)?t:"unsafe:"+t}var Sl=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Sl||{});function rn(t){let e=k_();return e?e.sanitize(Sl.URL,t)||"":Sh(t,"URL")?Hs(t):P_(El(t))}function CM(t){let e=k_();if(e)return Qy(e.sanitize(Sl.RESOURCE_URL,t)||"");if(Sh(t,"ResourceURL"))return Qy(Hs(t));throw new y(904,!1)}function bM(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?CM:rn}function F_(t,e,n){return bM(e,n)(t)}function k_(){let t=q();return t&&t[vn].sanitizer}var IM=/^>|^->|<!--|-->|--!>|<!-$/g,SM=/(<|>)/g,TM="\u200B$1\u200B";function MM(t){return t.replace(IM,e=>e.replace(SM,TM))}var L_=new Map,AM=0;function xM(){return AM++}function NM(t){L_.set(t[gl],t)}function RM(t){L_.delete(t[gl])}var Yy="__ngContext__";function Cr(t,e){yn(e)?(t[Yy]=e[gl],NM(e)):t[Yy]=e}function OM(t){return t.ownerDocument.body}function j_(t){return t instanceof Function?t():t}function ka(t){return(t??g(Sn)).get(bn)==="browser"}var Dn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Dn||{}),PM;function Th(t,e){return PM(t,e)}function Ei(t,e,n,r,i){if(r!=null){let s,o=!1;en(r)?s=r:yn(r)&&(o=!0,r=r[pt]);let a=Ut(r);t===0&&n!==null?i==null?z_(e,n,a):sl(e,n,a,i||null,!0):t===1&&n!==null?sl(e,n,a,i||null,!0):t===2?q_(e,a,o):t===3&&e.destroyNode(a),s!=null&&QM(e,t,s,n,i)}}function V_(t,e){return t.createText(e)}function FM(t,e,n){t.setValue(e,n)}function B_(t,e){return t.createComment(MM(e))}function Mh(t,e,n){return t.createElement(e,n)}function kM(t,e){U_(t,e),e[pt]=null,e[mt]=null}function LM(t,e,n,r,i,s){r[pt]=i,r[mt]=e,Ml(t,r,n,1,i,s)}function U_(t,e){Ml(t,e,e[ye],2,null,null)}function jM(t){let e=t[Cs];if(!e)return ed(t[R],t);for(;e;){let n=null;if(yn(e))n=e[Cs];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[Vt]&&e!==t;)yn(e)&&ed(e[R],e),e=e[Oe];e===null&&(e=t),yn(e)&&ed(e[R],e),n=e&&e[Vt]}e=n}}function VM(t,e,n,r){let i=je+r,s=n.length;r>0&&(n[i-1][Vt]=e),r<s-je?(e[Vt]=n[i],Kv(n,je+r,e)):(n.push(e),e[Vt]=null),e[Oe]=n;let o=e[Ls];o!==null&&n!==o&&BM(o,e);let a=e[_n];a!==null&&a.insertView(t),hd(e),e[x]|=128}function BM(t,e){let n=t[Ii],i=e[Oe][Oe][ot];e[ot]!==i&&(t[x]|=ih.HasTransplantedViews),n===null?t[Ii]=[e]:n.push(e)}function $_(t,e){let n=t[Ii],r=n.indexOf(e);n.splice(r,1)}function As(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[Ls];i!==null&&i!==t&&$_(i,r),e>0&&(t[n-1][Vt]=r[Vt]);let s=Qa(t,je+e);kM(r[R],r);let o=s[_n];o!==null&&o.detachView(s[R]),r[Oe]=null,r[Vt]=null,r[x]&=-129}return r}function Tl(t,e){if(!(e[x]&256)){let n=e[ye];n.destroyNode&&Ml(t,e,n,3,null,null),jM(e)}}function ed(t,e){if(!(e[x]&256)){e[x]&=-129,e[x]|=256,e[yr]&&Jg(e[yr]),$M(t,e),UM(t,e),e[R].type===1&&e[ye].destroy();let n=e[Ls];if(n!==null&&en(e[Oe])){n!==e[Oe]&&$_(n,e);let r=e[_n];r!==null&&r.detachView(t)}RM(e)}}function UM(t,e){let n=t.cleanup,r=e[Ds];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Ds]=null);let i=e[_s];if(i!==null){e[_s]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function $M(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Er)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];Zt(4,a,l);try{l.call(a)}finally{Zt(5,a,l)}}else{Zt(4,i,s);try{s.call(i)}finally{Zt(5,i,s)}}}}}function H_(t,e,n){return HM(t,e.parent,n)}function HM(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[pt];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Jt.None||s===Jt.Emulated)return null}return gt(r,n)}}function sl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function z_(t,e,n){t.appendChild(e,n)}function Zy(t,e,n,r,i){r!==null?sl(t,e,n,r,i):z_(t,e,n)}function zM(t,e,n,r){t.removeChild(e,n,r)}function Ah(t,e){return t.parentNode(e)}function WM(t,e){return t.nextSibling(e)}function W_(t,e,n){return qM(t,e,n)}function GM(t,e,n){return t.type&40?gt(t,n):null}var qM=GM,Xy;function xh(t,e,n,r){let i=H_(t,r,e),s=e[ye],o=r.parent||e[mt],a=W_(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)Zy(s,i,n[l],a,!1);else Zy(s,i,n,a,!1);Xy!==void 0&&Xy(s,r,e,n,i)}function za(t,e){if(e!==null){let n=e.type;if(n&3)return gt(e,t);if(n&4)return Td(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return za(t,r);{let i=t[e.index];return en(i)?Td(-1,i):Ut(i)}}else{if(n&32)return Th(e,t)()||Ut(t[e.index]);{let r=G_(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ss(t[ot]);return za(i,r)}else return za(t,e.next)}}}return null}function G_(t,e){if(e!==null){let r=t[ot][mt],i=e.projection;return r.projection[i]}return null}function Td(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[R].firstChild;if(i!==null)return za(r,i)}return e[wn]}function q_(t,e,n){let r=Ah(t,e);r&&zM(t,r,e,n)}function K_(t){t.textContent=""}function Nh(t,e,n,r,i,s,o){for(;n!=null;){let a=r[n.index],l=n.type;if(o&&e===0&&(a&&Cr(Ut(a),r),n.flags|=2),(n.flags&32)!==32)if(l&8)Nh(t,e,n.child,r,i,s,!1),Ei(e,t,i,a,s);else if(l&32){let c=Th(n,r),u;for(;u=c();)Ei(e,t,i,u,s);Ei(e,t,i,a,s)}else l&16?Q_(t,e,r,n,i,s):Ei(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Ml(t,e,n,r,i,s){Nh(n,r,t.firstChild,e,i,s,!1)}function KM(t,e,n){let r=e[ye],i=H_(t,n,e),s=n.parent||e[mt],o=W_(s,n,e);Q_(r,0,e,n,i,o)}function Q_(t,e,n,r,i,s){let o=n[ot],l=o[mt].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Ei(e,t,i,u,s)}else{let c=l,u=o[Oe];Ya(r)&&(c.flags|=128),Nh(t,e,c,u,i,s,!0)}}function QM(t,e,n,r,i){let s=n[wn],o=Ut(n);s!==o&&Ei(e,t,r,s,i);for(let a=je;a<n.length;a++){let l=n[a];Ml(l[R],l,t,e,r,s)}}function YM(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Dn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Dn.Important),t.setStyle(n,r,i,s))}}function ZM(t,e,n){t.setAttribute(e,"style",n)}function Y_(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Z_(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&dd(t,e,r),i!==null&&Y_(t,e,i),s!==null&&ZM(t,e,s)}var Kn={};function F(t=1){X_(Ze(),q(),Tr()+t,!1)}function X_(t,e,n,r){if(!r)if((e[x]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ua(e,s,n)}else{let s=t.preOrderHooks;s!==null&&$a(e,s,0,n)}vr(n)}function $(t,e=B.Default){let n=q();if(n===null)return U(t,e);let r=at();return T_(r,n,Ye(t),e)}function J_(t,e,n,r,i,s){let o=ke(null);try{let a=null;i&Ve.SignalBased&&(a=e[r][kn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ve.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):g_(e,a,r,s)}finally{ke(o)}}function XM(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)vr(~i);else{let s=i,o=n[++r],a=n[++r];YS(o,s);let l=e[s];a(2,l)}}}finally{vr(-1)}}function Al(t,e,n,r,i,s,o,a,l,c,u){let d=e.blueprint.slice();return d[pt]=i,d[x]=r|4|128|8|64,(c!==null||t&&t[x]&2048)&&(d[x]|=2048),Pv(d),d[Oe]=d[Mi]=t,d[We]=n,d[vn]=o||t&&t[vn],d[ye]=a||t&&t[ye],d[bi]=l||t&&t[bi]||null,d[mt]=s,d[gl]=xM(),d[Bt]=u,d[Av]=c,d[ot]=e.type==2?t[ot]:d,d}function zs(t,e,n,r,i){let s=t.data[e];if(s===null)s=JM(t,e,n,r,i),QS()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=GS();s.injectorIndex=o===null?-1:o.injectorIndex}return Vs(s,!0),s}function JM(t,e,n,r,i){let s=kv(),o=Lv(),a=o?s:s&&s.parent,l=t.data[e]=oA(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function ew(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function tw(t,e,n,r,i){let s=Tr(),o=r&2;try{vr(-1),o&&e.length>Me&&X_(t,e,Me,!1),Zt(o?2:0,i),n(r,i)}finally{vr(s),Zt(o?3:1,i)}}function nw(t,e,n){if(Nv(e)){let r=ke(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{ke(r)}}}function rw(t,e,n){Fv()&&(fA(t,e,n,gt(n,e)),(n.flags&64)===64&&cw(t,e,n))}function iw(t,e,n=gt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function sw(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Rh(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Rh(t,e,n,r,i,s,o,a,l,c,u){let d=Me+r,h=d+i,f=eA(d,h),p=typeof c=="function"?c():c;return f[R]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function eA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Kn);return n}function tA(t,e,n,r){let s=r.get(O_,R_)||n===Jt.ShadowDom,o=t.selectRootElement(e,s);return nA(o),o}function nA(t){ow(t)}var ow=()=>null;function rA(t){Yv(t)?K_(t):$T(t)}function iA(){ow=rA}function sA(t,e,n,r){let i=hw(e);i.push(n),t.firstCreatePass&&fw(t).push(r,i.length-1)}function oA(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Ai()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Jy(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Ve.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}t===0?ev(r,n,c,a,l):ev(r,n,c,a)}return r}function ev(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function aA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=r;u<i;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=Jy(0,d.inputs,u,l,f),c=Jy(1,d.outputs,u,c,p);let m=l!==null&&o!==null&&!Ev(e)?bA(l,u,o):null;a.push(m)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function lA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cA(t,e,n,r,i,s,o,a){let l=gt(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[r])?(Oh(t,n,u,r,i),js(e)&&uA(n,e.index)):e.type&3?(r=lA(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function uA(t,e){let n=zn(e,t);n[x]&16||(n[x]|=64)}function aw(t,e,n,r){if(Fv()){let i=r===null?null:{"":-1},s=mA(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&lw(t,e,n,o,i,a),i&&gA(n,r,i)}n.mergedAttrs=Es(n.mergedAttrs,n.attrs)}function lw(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Id(rl(n,e),t,r[c].type);vA(n,t.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=ew(t,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];n.mergedAttrs=Es(n.mergedAttrs,u.hostAttrs),_A(t,n,e,l,u),yA(l,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}aA(t,n,s)}function dA(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;hA(o)!=a&&o.push(a),o.push(n,r,s)}}function hA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function fA(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;js(n)&&wA(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||rl(n,e),Cr(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let l=t.data[a],c=Dr(e,t,a,n);if(Cr(c,e),o!==null&&CA(e,a-i,c,l,n,o),Un(l)){let u=zn(n.index,e);u[We]=Dr(e,t,a,n)}}}function cw(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ZS();try{vr(s);for(let a=r;a<i;a++){let l=t.data[a],c=e[a];fd(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&pA(l,c)}}finally{vr(-1),fd(o)}}function pA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mA(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(Dv(e,o.selectors,!1))if(r||(r=[]),Un(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let l=a.length;Md(t,e,l)}else r.unshift(o),Md(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Md(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function gA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new y(-301,!1);r.push(e[i],s)}}}function yA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Un(e)&&(n[""]=t)}}function vA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function _A(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=_r(i.type,!0)),o=new Er(s,Un(i),$);t.blueprint[r]=o,n[r]=o,dA(t,e,r,ew(t,n,i.hostVars,Kn),i)}function wA(t,e,n){let r=gt(e,t),i=sw(n),s=t[vn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=xl(t,Al(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function EA(t,e,n,r,i,s){let o=gt(t,e);DA(e[ye],o,s,t.value,n,r,i)}function DA(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?El(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function CA(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];J_(r,n,l,c,u,d)}}function bA(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function uw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dw(t,e){let n=t.contentQueries;if(n!==null){let r=ke(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];ch(s),a.contentQueries(2,e[o],o)}}}finally{ke(r)}}}function xl(t,e){return t[Cs]?t[Vy][Vt]=e:t[Cs]=e,t[Vy]=e,e}function Ad(t,e,n){ch(0);let r=ke(null);try{e(t,n)}finally{ke(r)}}function hw(t){return t[Ds]||(t[Ds]=[])}function fw(t){return t.cleanup||(t.cleanup=[])}function pw(t,e){let n=t[bi],r=n?n.get(En,null):null;r&&r.handleError(e)}function Oh(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];J_(u,c,r,a,l,i)}}function IA(t,e,n){let r=Ov(e,t);FM(t[ye],r,n)}function SA(t,e){let n=zn(e,t),r=n[R];TA(r,n);let i=n[pt];i!==null&&n[Bt]===null&&(n[Bt]=_h(i,n[bi])),Ph(r,n,n[We])}function TA(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ph(t,e,n){uh(e);try{let r=t.viewQuery;r!==null&&Ad(1,r,n);let i=t.template;i!==null&&tw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[_n]?.finishViewCreation(t),t.staticContentQueries&&dw(t,e),t.staticViewQueries&&Ad(2,t.viewQuery,n);let s=t.components;s!==null&&MA(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[x]&=-5,dh()}}function MA(t,e){for(let n=0;n<e.length;n++)SA(t,e[n])}function Nl(t,e,n,r){let i=e.tView,o=t[x]&4096?4096:16,a=Al(t,i,n,o,null,e,null,null,null,r?.injector??null,r?.dehydratedView??null),l=t[e.index];a[Ls]=l;let c=t[_n];return c!==null&&(a[_n]=c.createEmbeddedView(i)),Ph(i,a,n),a}function mw(t,e){let n=je+e;if(n<t.length)return t[n]}function xs(t,e){return!e||e.firstChild===null||Ya(t)}function Rl(t,e,n,r=!0){let i=e[R];if(VM(i,e,t,n),r){let o=Td(n,t),a=e[ye],l=Ah(a,t[wn]);l!==null&&LM(i,t[mt],a,e,l,o)}let s=e[Bt];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function gw(t,e){let n=As(t,e);return n!==void 0&&Tl(n[R],n),n}function ol(t,e,n,r,i=!1){for(;n!==null;){let s=e[n.index];s!==null&&r.push(Ut(s)),en(s)&&AA(s,r);let o=n.type;if(o&8)ol(t,e,n.child,r);else if(o&32){let a=Th(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=G_(e,n);if(Array.isArray(a))r.push(...a);else{let l=Ss(e[ot]);ol(l[R],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function AA(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[R].firstChild;i!==null&&ol(r[R],r,i,e)}t[wn]!==t[pt]&&e.push(t[wn])}var yw=[];function xA(t){return t[yr]??NA(t)}function NA(t){let e=yw.pop()??Object.create(OA);return e.lView=t,e}function RA(t){t.lView[yr]!==t&&(t.lView=null,yw.push(t))}var OA=X(E({},la),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Is(t.lView)},consumerOnSignalRead(){this.lView[yr]=this}});function vw(t){return ww(t[Cs])}function _w(t){return ww(t[Vt])}function ww(t){for(;t!==null&&!en(t);)t=t[Vt];return t}var Ew=100;function Dw(t,e=!0,n=0){let r=t[vn],i=r.rendererFactory,s=!1;s||i.begin?.();try{PA(t,n)}catch(o){throw e&&pw(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function PA(t,e){xd(t,e);let n=0;for(;lh(t);){if(n===Ew)throw new y(103,!1);n++,xd(t,1)}}function FA(t,e,n,r){let i=e[x];if((i&256)===256)return;let s=!1;!s&&e[vn].inlineEffectRunner?.flush(),uh(e);let o=null,a=null;!s&&kA(t)&&(a=xA(e),o=Su(a));try{Pv(e),qS(t.bindingStartIndex),n!==null&&tw(t,e,n,2,r);let l=(i&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&Ua(e,d,null)}else{let d=t.preOrderHooks;d!==null&&$a(e,d,0,null),Zu(e,0)}if(LA(e),Cw(e,0),t.contentQueries!==null&&dw(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&Ua(e,d)}else{let d=t.contentHooks;d!==null&&$a(e,d,1),Zu(e,1)}XM(t,e);let c=t.components;c!==null&&Iw(e,c,0);let u=t.viewQuery;if(u!==null&&Ad(2,u,r),!s)if(l){let d=t.viewCheckHooks;d!==null&&Ua(e,d)}else{let d=t.viewHooks;d!==null&&$a(e,d,2),Zu(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[qu]){for(let d of e[qu])d();e[qu]=null}s||(e[x]&=-73)}catch(l){throw Is(e),l}finally{a!==null&&(Tu(a,o),RA(a)),dh()}}function kA(t){return t.type!==2}function Cw(t,e){for(let n=vw(t);n!==null;n=_w(n))for(let r=je;r<n.length;r++){let i=n[r];bw(i,e)}}function LA(t){for(let e=vw(t);e!==null;e=_w(e)){if(!(e[x]&ih.HasTransplantedViews))continue;let n=e[Ii];for(let r=0;r<n.length;r++){let i=n[r],s=i[Oe];LS(i)}}}function jA(t,e,n){let r=zn(e,t);bw(r,n)}function bw(t,e){ah(t)&&xd(t,e)}function xd(t,e){let r=t[R],i=t[x],s=t[yr],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Mu(s)),s&&(s.dirty=!1),t[x]&=-9217,o)FA(r,t,r.template,t[We]);else if(i&8192){Cw(t,1);let a=r.components;a!==null&&Iw(t,a,1)}}function Iw(t,e,n){for(let r=0;r<e.length;r++)jA(t,e[r],n)}function Fh(t){for(t[vn].changeDetectionScheduler?.notify();t;){t[x]|=64;let e=Ss(t);if(Rv(t)&&!e)return t;t=e}return null}var br=class{get rootNodes(){let e=this._lView,n=e[R];return ol(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[We]}set context(e){this._lView[We]=e}get destroyed(){return(this._lView[x]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Oe];if(en(e)){let n=e[qa],r=n?n.indexOf(this):-1;r>-1&&(As(e,r),Qa(n,r))}this._attachedToViewContainer=!1}Tl(this._lView[R],this._lView)}onDestroy(e){VS(this._lView,e)}markForCheck(){Fh(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){hd(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,Dw(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new y(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,U_(this._lView[R],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new y(902,!1);this._appRef=e,hd(this._lView)}},Ns=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=UA;let t=e;return t})(),VA=Ns,BA=class extends VA{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Nl(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:r});return new br(i)}};function UA(){return kh(at(),q())}function kh(t,e){return t.type&4?new BA(e,t,xi(t,e)):null}function Sw(t){let e=t[bs]??[],r=t[Oe][ye];for(let i of e)$A(i,r);t[bs]=ft}function $A(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Xa];for(;n<i;){let s=r.nextSibling;q_(e,r,!1),r=s,n++}}}function Tw(t){Sw(t);for(let e=je;e<t.length;e++)al(t[e])}function al(t){let e=t[R];for(let n=Me;n<e.bindingStartIndex;n++)if(en(t[n])){let r=t[n];Tw(r)}else yn(t[n])&&al(t[n])}function HA(t){let e=t._views;for(let n of e){let r=BT(n);if(r!==null&&r[pt]!==null)if(yn(r))al(r);else{let i=r[pt];al(i),Tw(r)}}}var zA=new RegExp(`^(\\d+)*(${s_}|${i_})*(.*)`);function WA(t){let e=t.match(zA),[n,r,i,s]=e,o=r?parseInt(r,10):i,a=[];for(let[l,c,u]of s.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(c,d)}return[o,...a]}function GA(t){return!t.prev&&t.parent?.type===8}function td(t){return t.index-Me}function Ol(t,e,n,r){let i=null,s=td(r),o=t.data[PT];if(o?.[s])i=KA(o[s],n);else if(e.firstChild===r)i=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(GA(r)){let c=td(r.parent);i=_d(t,c)}else{let c=gt(l,n);if(a)i=c.firstChild;else{let u=td(l),d=_d(t,u);if(l.type===2&&d){let f=wh(t,u)+1;i=Pl(f,d)}else i=c.nextSibling}}}return i}function Pl(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function qA(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];for(let o=0;o<s;o++)switch(i){case vd.FirstChild:n=n.firstChild;break;case vd.NextSibling:n=n.nextSibling;break}}return n}function KA(t,e){let[n,...r]=WA(t),i;if(n===i_)i=e[ot][pt];else if(n===s_)i=OM(e[ot][pt]);else{let s=Number(n);i=Ut(e[s+Me])}return qA(i,r)}function QA(t,e){let n=[];for(let r of e)for(let i=0;i<(r[o_]??1);i++){let s={data:r,firstChild:null};r[Xa]>0&&(s.firstChild=t,t=Pl(r[Xa],t)),n.push(s)}return[t,n]}var Mw=()=>null;function YA(t,e){let n=t[bs];return!e||n===null||n.length===0?null:n[0].data[OT]===e?n.shift():(Sw(t),null)}function ZA(){Mw=YA}function Rs(t,e){return Mw(t,e)}var Os=class{},Nd=class{},ll=class{};function XA(t){let e=Error(`No component factory found for ${st(t)}.`);return e[JA]=t,e}var JA="ngComponent";var Rd=class{resolveComponentFactory(e){throw XA(e)}},Fl=(()=>{let e=class e{};e.NULL=new Rd;let t=e;return t})(),Ir=class{},Mt=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>ex();let t=e;return t})();function ex(){let t=q(),e=at(),n=zn(e.index,t);return(yn(n)?n:t)[ye]}var tx=(()=>{let e=class e{};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),nd={};function Aw(t,e){let n=ny(t);return e?.equal&&(n[kn].equal=e.equal),n}function Tn(t,e){let n=oy(t),r=n[kn];return e?.equal&&(r.equal=e.equal),n.set=i=>Au(r,i),n.update=i=>ay(r,i),n.asReadonly=nx.bind(n),n}function nx(){let t=this[kn];if(t.readonlyFn===void 0){let e=()=>this();e[kn]=t,t.readonlyFn=e}return t.readonlyFn}var Ni=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=rx;let t=e;return t})();function rx(t){return ix(at(),q(),(t&16)===16)}function ix(t,e,n){if(js(t)&&!n){let r=zn(t.index,e);return new br(r,r)}else if(t.type&47){let r=e[ot];return new br(r,e)}return null}var tv=new Set;function Nr(t){tv.has(t)||(tv.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nv(...t){}function sx(){let t=typeof pr.requestAnimationFrame=="function",e=pr[t?"requestAnimationFrame":"setTimeout"],n=pr[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var he=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new be(!1),this.onMicrotaskEmpty=new be(!1),this.onStable=new be(!1),this.onError=new be(!1),typeof Zone>"u")throw new y(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=sx().nativeRequestAnimationFrame,lx(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new y(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new y(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,ox,nv,nv);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ox={};function Lh(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ax(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(pr,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Od(t),t.isCheckStableRunning=!0,Lh(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Od(t))}function lx(t){let e=()=>{ax(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(cx(a))return n.invokeTask(i,s,o,a);try{return rv(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),iv(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return rv(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),iv(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Od(t),Lh(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Od(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function rv(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function iv(t){t._nesting--,Lh(t)}function cx(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}var xw=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i();this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=I({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Pd(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Oy(i,a);else if(s==2){let l=a,c=e[++o];r=Oy(r,l+": "+c+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var cl=class extends Fl{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gr(e);return new Ps(n,this.ngModule)}};function sv(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function ux(t){let e=t.toLowerCase();return e==="svg"?xS:e==="math"?NS:null}var Fd=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Dl(r);let i=this.injector.get(e,nd,r);return i!==nd||n===nd?i:this.parentInjector.get(e,n,r)}},Ps=class extends ll{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=sv(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return sv(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){i=i||this.ngModule;let s=i instanceof Tt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let o=s?new Fd(e,s):e,a=o.get(Ir,null);if(a===null)throw new y(407,!1);let l=o.get(tx,null),c=o.get(xw,null),u=o.get(Os,null),d={rendererFactory:a,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:c,changeDetectionScheduler:u},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?tA(h,r,this.componentDef.encapsulation,o):Mh(h,f,ux(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let D=null;p!==null&&(D=_h(p,o,!0));let C=Rh(0,null,null,1,0,null,null,null,null,null,null),j=Al(null,C,null,m,null,null,d,h,o,null,D);uh(j);let ie,J;try{let xe=this.componentDef,_e,we=null;xe.findHostDirectiveDefs?(_e=[],we=new Map,xe.findHostDirectiveDefs(xe,_e,we),_e.push(xe)):_e=[xe];let He=dx(j,p),pn=hx(He,p,xe,_e,j,d,h);J=oh(C,Me),p&&mx(h,xe,p,r),n!==void 0&&gx(J,this.ngContentSelectors,n),ie=px(pn,xe,_e,we,j,[yx]),Ph(C,j,null)}finally{dh()}return new kd(this.componentType,ie,xi(J,j),j,J)}},kd=class extends Nd{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new br(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;Oh(s[R],s,i,e,n),this.previousInputValues.set(e,n);let o=zn(this._tNode.index,s);Fh(o)}}get injector(){return new mr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function dx(t,e){let n=t[R],r=Me;return t[r]=e,zs(n,r,2,"#host",null)}function hx(t,e,n,r,i,s,o){let a=i[R];fx(r,t,e,o);let l=null;e!==null&&(l=_h(e,i[bi]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Al(i,sw(n),null,u,i[t.index],t,s,c,null,null,l);return a.firstCreatePass&&Md(a,t,r.length-1),xl(i,d),i[t.index]=d}function fx(t,e,n,r){for(let i of t)e.mergedAttrs=Es(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pd(e,e.mergedAttrs,!0),n!==null&&Z_(r,n,e))}function px(t,e,n,r,i,s){let o=at(),a=i[R],l=gt(o,i);lw(a,i,o,n,null,r);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=Dr(i,a,d,o);Cr(h,i)}cw(a,i,o),l&&Cr(l,i);let c=Dr(i,a,o.directiveStart+o.componentOffset,o);if(t[We]=i[We]=c,s!==null)for(let u of s)u(c,e);return nw(a,o,t),c}function mx(t,e,n,r){if(r)dd(t,n,["ng-version","17.2.1"]);else{let{attrs:i,classes:s}=SS(e.selectors[0]);i&&dd(t,n,i),s&&s.length>0&&Y_(t,n,s.join(" "))}}function gx(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function yx(){let t=at();Ch(q()[R],t)}var Ri=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=vx;let t=e;return t})();function vx(){let t=at();return Rw(t,q())}var _x=Ri,Nw=class extends _x{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return xi(this._hostTNode,this._hostLView)}get injector(){return new mr(this._hostTNode,this._hostLView)}get parentInjector(){let e=bh(this._hostTNode,this._hostLView);if(E_(e)){let n=tl(e,this._hostLView),r=el(e),i=n[R].data[r+8];return new mr(i,n)}else return new mr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=ov(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Rs(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,xs(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!tM(e),a;if(o)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new Ps(gr(e)),c=r||this.parentInjector;if(!s&&l.ngModule==null){let m=(o?c:this.parentInjector).get(Tt,null);m&&(s=m)}let u=gr(l.componentType??{}),d=Rs(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,i,h,s);return this.insertImpl(f.hostView,a,xs(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(kS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Oe],c=new Nw(l,l[mt],l[Oe]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Rl(o,i,s,r),e.attachToViewContainerRef(),Kv(rd(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=ov(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=As(this._lContainer,n);r&&(Qa(rd(this._lContainer),n),Tl(r[R],r))}detach(e){let n=this._adjustIndex(e,-1),r=As(this._lContainer,n);return r&&Qa(rd(this._lContainer),n)!=null?new br(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function ov(t){return t[qa]}function rd(t){return t[qa]||(t[qa]=[])}function Rw(t,e){let n,r=e[t.index];return en(r)?n=r:(n=uw(r,e,null,t),e[t.index]=n,xl(e,n)),Ow(n,e,t,r),new Nw(n,t,e)}function wx(t,e){let n=t[ye],r=n.createComment(""),i=gt(e,t),s=Ah(n,i);return sl(n,s,r,WM(n,i),!1),r}var Ow=Pw,jh=()=>!1;function Ex(t,e,n){return jh(t,e,n)}function Pw(t,e,n,r){if(t[wn])return;let i;n.type&8?i=Ut(r):i=wx(e,n),t[wn]=i}function Dx(t,e,n){if(t[wn]&&t[bs])return!0;let r=n[Bt],i=e.index-Me;if(!r||hT(e)||bl(r,i))return!1;let o=_d(r,i),a=r.data[vh]?.[i],[l,c]=QA(o,a);return t[wn]=l,t[bs]=c,!0}function Cx(t,e,n,r){jh(t,n,e)||Pw(t,e,n,r)}function bx(){Ow=Cx,jh=Dx}var Ld=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},jd=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Vh(e,n).matches!==null&&this.queries[n].setDirty()}},Vd=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=Rx(e):this.predicate=e}},Bd=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Ud=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,Ix(n,s)),this.matchTNodeWithReadOption(e,n,Ha(n,e,s,!1,!1))}else r===Ns?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ha(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===lt||i===Ri||i===Ns&&n.type&4)this.addMatch(n.index,-2);else{let s=Ha(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Ix(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function Sx(t,e){return t.type&11?xi(t,e):t.type&4?kh(t,e):null}function Tx(t,e,n,r){return n===-1?Sx(e,t):n===-2?Mx(t,e,r):Dr(t,t[R],n,e)}function Mx(t,e,n){if(n===lt)return xi(e,t);if(n===Ns)return kh(e,t);if(n===Ri)return Rw(e,t)}function Fw(t,e,n,r){let i=e[_n].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let c=o[l];if(c<0)a.push(null);else{let u=s[c];a.push(Tx(e,u,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function $d(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=Fw(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let c=s[a+1],u=e[-l];for(let d=je;d<u.length;d++){let h=u[d];h[Ls]===h[Oe]&&$d(h[R],h,c,r)}if(u[Ii]!==null){let d=u[Ii];for(let h=0;h<d.length;h++){let f=d[h];$d(f[R],f,c,r)}}}}}return r}function Ax(t,e){return t[_n].queries[e].queryList}function xx(t,e,n){let r=new pd((n&4)===4);return sA(t,e,r,r.destroy),(e[_n]??=new jd).queries.push(new Ld(r))-1}function Nx(t,e,n,r){let i=Ze();if(i.firstCreatePass){let s=at();Ox(i,new Vd(e,n,r),s.index),Px(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return xx(i,q(),n)}function Rx(t){return t.split(",").map(e=>e.trim())}function Ox(t,e,n){t.queries===null&&(t.queries=new Bd),t.queries.track(new Ud(e,n))}function Px(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function Vh(t,e){return t.queries.getByIndex(e)}function Fx(t,e){let n=t[R],r=Vh(n,e);return r.crossesNgTemplate?$d(n,t,e,[]):Fw(n,t,r,e)}function kx(t){return Object.getPrototypeOf(t.prototype).constructor}function Mn(t){let e=kx(t.type),n=!0,r=[t];for(;e;){let i;if(Un(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new y(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=La(t.inputs),o.inputTransforms=La(t.inputTransforms),o.declaredInputs=La(t.declaredInputs),o.outputs=La(t.outputs);let a=i.hostBindings;a&&Ux(t,a);let l=i.viewQuery,c=i.contentQueries;if(l&&Vx(t,l),c&&Bx(t,c),Lx(t,i),uS(t.outputs,i.outputs),Un(i)&&i.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Mn&&(n=!1)}}e=Object.getPrototypeOf(e)}jx(r)}function Lx(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function jx(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Es(i.hostAttrs,n=Es(n,i.hostAttrs))}}function La(t){return t===Ci?{}:t===ft?[]:t}function Vx(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function Bx(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Ux(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Bh(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var $n=class{},Fs=class{};var Hd=class extends $n{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cl(this);let i=Sv(e);this._bootstrapComponents=j_(i.bootstrap),this._r3Injector=x_(e,n,[{provide:$n,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver},...r],st(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zd=class extends Fs{constructor(e){super(),this.moduleType=e}create(e){return new Hd(this.moduleType,e,[])}};var ul=class extends $n{constructor(e){super(),this.componentFactoryResolver=new cl(this),this.instance=null;let n=new Ms([...e.providers,{provide:$n,useValue:this},{provide:Fl,useValue:this.componentFactoryResolver}],e.parent||Dh(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Uh(t,e,n=null){return new ul({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Ws=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Le(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function $h(t,e,n){return t[e]=n}function $x(t,e){return t[e]}function Cn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Hx(t,e,n,r){let i=Cn(t,e,n);return Cn(t,e+1,r)||i}function zx(t,e,n,r,i,s,o,a,l){let c=e.consts,u=zs(e,t,4,o||null,Ka(c,a));aw(e,n,u,Ka(c,l)),Ch(e,u);let d=u.tView=Rh(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Ae(t,e,n,r,i,s,o,a){let l=q(),c=Ze(),u=t+Me,d=c.firstCreatePass?zx(u,c,l,e,n,r,i,s,o):c.data[u];Vs(d,!1);let h=kw(c,l,d,t);hh()&&xh(c,l,h,d),Cr(h,l);let f=uw(h,l,h,d);return l[u]=f,xl(l,f),Ex(f,d,l),sh(d)&&rw(c,l,d),o!=null&&iw(l,d,a),Ae}var kw=Lw;function Lw(t,e,n,r){return Wn(!0),e[ye].createComment("")}function Wx(t,e,n,r){let i=e[Bt],s=!i||Ai()||bl(i,r);if(Wn(s),s)return Lw(t,e,n,r);let o=i.data[RT]?.[r]??null;o!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=o);let a=Ol(i,t,e,n);Cl(i,r,a);let l=wh(i,r);return Pl(l,a)}function Gx(){kw=Wx}function Oi(t,e,n,r){let i=q(),s=Bs();if(Cn(i,s,e)){let o=Ze(),a=Wv();EA(a,i,t,e,n,r)}return Oi}function qx(t,e,n,r){return Cn(t,Bs(),n)?e+El(n)+r:Kn}function ja(t,e){return t<<17|e<<2}function Sr(t){return t>>17&32767}function Kx(t){return(t&2)==2}function Qx(t,e){return t&131071|e<<17}function Wd(t){return t|2}function Ti(t){return(t&131068)>>2}function id(t,e){return t&-131069|e<<2}function Yx(t){return(t&1)===1}function Gd(t){return t|1}function Zx(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Sr(o),l=Ti(o);t[r]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Us(d,u)>0)&&(c=!0)}else u=n;if(i)if(l!==0){let h=Sr(t[a+1]);t[r+1]=ja(h,a),h!==0&&(t[h+1]=id(t[h+1],r)),t[a+1]=Qx(t[a+1],r)}else t[r+1]=ja(a,0),a!==0&&(t[a+1]=id(t[a+1],r)),a=r;else t[r+1]=ja(l,0),a===0?a=r:t[l+1]=id(t[l+1],r),l=r;c&&(t[r+1]=Wd(t[r+1])),av(t,u,r,!0),av(t,u,r,!1),Xx(e,u,t,r,s),o=ja(a,l),s?e.classBindings=o:e.styleBindings=o}function Xx(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Us(s,e)>=0&&(n[r+1]=Gd(n[r+1]))}function av(t,e,n,r){let i=t[n+1],s=e===null,o=r?Sr(i):Ti(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];Jx(l,e)&&(a=!0,t[o+1]=r?Gd(c):Wd(c)),o=r?Sr(c):Ti(c)}a&&(t[n+1]=r?Wd(i):Gd(i))}function Jx(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Us(t,e)>=0:!1}function ue(t,e,n){let r=q(),i=Bs();if(Cn(r,i,e)){let s=Ze(),o=Wv();cA(s,o,r,t,e,r[ye],n,!1)}return ue}function lv(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";Oh(t,n,s[o],o,r)}function kl(t,e){return eN(t,e,null,!0),kl}function eN(t,e,n,r){let i=q(),s=Ze(),o=KS(2);if(s.firstUpdatePass&&nN(s,t,o,r),e!==Kn&&Cn(i,o,e)){let a=s.data[Tr()];aN(s,a,i,i[ye],t,i[o+1]=lN(e,n),r,o)}}function tN(t,e){return e>=t.expandoStartIndex}function nN(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Tr()],o=tN(t,n);cN(s,r)&&e===null&&!o&&(e=!1),e=rN(i,s,e,r),Zx(i,s,e,n,o,r)}}function rN(t,e,n,r){let i=XS(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sd(null,t,e,n,r),n=ks(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=sd(i,t,e,n,r),s===null){let l=iN(t,e,r);l!==void 0&&Array.isArray(l)&&(l=sd(null,t,e,l[1],r),l=ks(l,e.attrs,r),sN(t,e,r,l))}else s=oN(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function iN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ti(r)!==0)return t[Sr(r)]}function sN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Sr(i)]=r}function oN(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=ks(r,o,n)}return ks(r,e.attrs,n)}function sd(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=ks(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ks(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),aT(t,o,n?!0:e[++s]))}return t===void 0?null:t}function aN(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=Yx(c)?cv(l,e,n,i,Ti(c),o):void 0;if(!dl(u)){dl(s)||Kx(c)&&(s=cv(l,null,n,i,a,o));let d=Ov(Tr(),n);YM(r,o,d,i,s)}}function cv(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[i+1];h===Kn&&(h=d?ft:void 0);let f=d?Ku(h,r):u===r?h:void 0;if(c&&!dl(f)&&(f=Ku(l,r)),dl(f)&&(a=f,o))return a;let p=t[i+1];i=o?Sr(p):Ti(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Ku(l,r))}return a}function dl(t){return t!==void 0}function lN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=st(Hs(t)))),t}function cN(t,e){return(t.flags&(e?8:16))!==0}var qd=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function od(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function uN(t,e,n){let r,i,s=0,o=t.length-1;if(Array.isArray(e)){let a=e.length-1;for(;s<=o&&s<=a;){let l=t.at(s),c=e[s],u=od(s,l,s,c,n);if(u!==0){u<0&&t.updateValue(s,c),s++;continue}let d=t.at(o),h=e[a],f=od(o,d,a,h,n);if(f!==0){f<0&&t.updateValue(o,h),o--,a--;continue}let p=n(s,l),m=n(o,d),D=n(s,c);if(Object.is(D,m)){let C=n(a,h);Object.is(C,p)?(t.swap(s,o),t.updateValue(o,h),a--,o--):t.move(o,s),t.updateValue(s,c),s++;continue}if(r??=new hl,i??=dv(t,s,o,n),Kd(t,r,s,D))t.updateValue(s,c),s++,o++;else if(i.has(D))r.set(p,t.detach(s)),o--;else{let C=t.create(s,e[s]);t.attach(s,C),s++,o++}}for(;s<=a;)uv(t,r,n,s,e[s]),s++}else if(e!=null){let a=e[Symbol.iterator](),l=a.next();for(;!l.done&&s<=o;){let c=t.at(s),u=l.value,d=od(s,c,s,u,n);if(d!==0)d<0&&t.updateValue(s,u),s++,l=a.next();else{r??=new hl,i??=dv(t,s,o,n);let h=n(s,u);if(Kd(t,r,s,h))t.updateValue(s,u),s++,o++,l=a.next();else if(!i.has(h))t.attach(s,t.create(s,u)),s++,o++,l=a.next();else{let f=n(s,c);r.set(f,t.detach(s)),o--}}}for(;!l.done;)uv(t,r,n,t.length,l.value),l=a.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(a=>{t.destroy(a)})}function Kd(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function uv(t,e,n,r,i){if(Kd(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function dv(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var hl=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function Be(t,e,n){Nr("NgControlFlow");let r=q(),i=Bs(),s=Xd(r,Me+t),o=0;if(Cn(r,i,e)){let a=ke(null);try{if(gw(s,o),e!==-1){let l=Jd(r[R],Me+e),c=Rs(s,l.tView.ssrId),u=Nl(r,l,n,{dehydratedView:c});Rl(s,u,o,xs(l,c))}}finally{ke(a)}}else{let a=mw(s,o);a!==void 0&&(a[We]=n)}}var Qd=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-je}};function Hh(t){return t}function Pi(t,e){return e}var Yd=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function yt(t,e,n,r,i,s,o,a,l,c,u,d,h){Nr("NgControlFlow");let f=l!==void 0,p=q(),m=a?o.bind(p[ot][We]):o,D=new Yd(f,m);p[Me+t]=D,Ae(t+1,e,n,r,i,s),f&&Ae(t+2,l,c,u,d,h)}var Zd=class extends qd{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-je}at(e){return this.getLView(e)[We].$implicit}attach(e,n){let r=n[Bt];this.needsIndexUpdate||=e!==this.length,Rl(this.lContainer,n,e,xs(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,dN(this.lContainer,e)}create(e,n){let r=Rs(this.lContainer,this.templateTNode.tView.ssrId);return Nl(this.hostLView,this.templateTNode,new Qd(this.lContainer,n,e),{dehydratedView:r})}destroy(e){Tl(e[R],e)}updateValue(e,n){this.getLView(e)[We].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[We].$index=e}getLView(e){return hN(this.lContainer,e)}};function vt(t){let e=ke(null),n=Tr();try{let r=q(),i=r[R],s=r[n];if(s.liveCollection===void 0){let a=n+1,l=Xd(r,a),c=Jd(i,a);s.liveCollection=new Zd(l,r,c)}else s.liveCollection.reset();let o=s.liveCollection;if(uN(o,t,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let a=Bs(),l=o.length===0;if(Cn(r,a,l)){let c=n+2,u=Xd(r,c);if(l){let d=Jd(i,c),h=Rs(u,d.tView.ssrId),f=Nl(r,d,void 0,{dehydratedView:h});Rl(u,f,0,xs(d,h))}else gw(u,0)}}}finally{ke(e)}}function Xd(t,e){return t[e]}function dN(t,e){return As(t,e)}function hN(t,e){return mw(t,e)}function Jd(t,e){return oh(t,e)}function fN(t,e,n,r,i,s){let o=e.consts,a=Ka(o,i),l=zs(e,t,2,r,a);return aw(e,n,l,Ka(o,s)),l.attrs!==null&&Pd(l,l.attrs,!1),l.mergedAttrs!==null&&Pd(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function v(t,e,n,r){let i=q(),s=Ze(),o=Me+t,a=i[ye],l=s.firstCreatePass?fN(o,s,i,e,n,r):s.data[o],c=jw(s,i,l,a,e,t);i[o]=c;let u=sh(l);return Vs(l,!0),Z_(a,c,l),(l.flags&32)!==32&&hh()&&xh(s,i,c,l),BS()===0&&Cr(c,i),US(),u&&(rw(s,i,l),nw(s,l,i)),r!==null&&iw(i,l),v}function w(){let t=at();Lv()?jv():(t=t.parent,Vs(t,!1));let e=t;HS(e)&&WS(),$S();let n=Ze();return n.firstCreatePass&&(Ch(n,t),Nv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&lM(e)&&lv(n,e,q(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&cM(e)&&lv(n,e,q(),e.stylesWithoutHost,!1),w}function k(t,e,n,r){return v(t,e,n,r),w(),k}var jw=(t,e,n,r,i,s)=>(Wn(!0),Mh(r,i,Gv()));function pN(t,e,n,r,i,s){let o=e[Bt],a=!o||Ai()||bl(o,s);if(Wn(a),a)return Mh(r,i,Gv());let l=Ol(o,t,e,n);return c_(o,s)&&Cl(o,s,l.nextSibling),o&&(Qv(n)||Yv(l))&&js(n)&&(zS(n),K_(l)),l}function mN(){jw=pN}var gN=(t,e,n,r)=>(Wn(!0),B_(e[ye],""));function yN(t,e,n,r){let i,s=e[Bt],o=!s||Ai();if(Wn(o),o)return B_(e[ye],"");let a=Ol(s,t,e,n),l=HT(s,r);return Cl(s,r,a),i=Pl(l,a),i}function vN(){gN=yN}function sn(){return q()}var fl="en-US";var _N=fl;function wN(t){typeof t=="string"&&(_N=t.toLowerCase().replace(/_/g,"-"))}function Ie(t,e,n,r){let i=q(),s=Ze(),o=at();return DN(s,i,i[ye],o,t,e,r),Ie}function EN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Ds],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function DN(t,e,n,r,i,s,o){let a=sh(r),c=t.firstCreatePass&&fw(t),u=e[We],d=hw(e),h=!0;if(r.type&3||o){let m=gt(r,e),D=o?o(m):m,C=d.length,j=o?J=>o(Ut(J[r.index])):r.index,ie=null;if(!o&&a&&(ie=EN(t,e,i,r.index)),ie!==null){let J=ie.__ngLastListenerFn__||ie;J.__ngNextListenerFn__=s,ie.__ngLastListenerFn__=s,h=!1}else{s=fv(r,e,u,s,!1);let J=n.listen(D,i,s);d.push(s,J),c&&c.push(i,j,C,C+1)}}else s=fv(r,e,u,s,!1);let f=r.outputs,p;if(h&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let D=0;D<m;D+=2){let C=p[D],j=p[D+1],xe=e[C][j].subscribe(s),_e=d.length;if(d.push(s,xe),c){let we=typeof xe=="function"?_e+1:-(_e+1);c.push(i,r.index,_e,we)}}}}function hv(t,e,n,r){try{return Zt(6,e,n),n(r)!==!1}catch(i){return pw(t,i),!1}finally{Zt(7,e,n)}}function fv(t,e,n,r,i){return function s(o){if(o===Function)return r;let a=t.componentOffset>-1?zn(t.index,e):e;Fh(a);let l=hv(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=hv(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&l===!1&&o.preventDefault(),l}}function Ee(t=1){return eT(t)}function CN(t,e){let n=null,r=wS(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?Dv(t,s,!0):CS(r,s))return i}return n}function Ll(t){let e=q()[ot][mt];if(!e.projection){let n=t?t.length:1,r=e.projection=sT(n,null),i=r.slice(),s=e.child;for(;s!==null;){let o=t?CN(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function jl(t,e=0,n){let r=q(),i=Ze(),s=zs(i,Me+t,16,null,n||null);s.projection===null&&(s.projection=e),jv(),(!r[Bt]||Ai())&&(s.flags&32)!==32&&KM(i,r,s)}function Vw(t,e,n,r){Nx(t,e,n,r)}function Bw(t){let e=q(),n=Ze(),r=Vv();ch(r+1);let i=Vh(n,r);if(t.dirty&&FS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=Fx(e,r);t.reset(s,nT),t.notifyOnChanges()}return!0}return!1}function Uw(){return Ax(q(),Vv())}function bN(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function S(t,e=""){let n=q(),r=Ze(),i=t+Me,s=r.firstCreatePass?zs(r,i,1,e,null):r.data[i],o=$w(r,n,s,e,t);n[i]=o,hh()&&xh(r,n,o,s),Vs(s,!1)}var $w=(t,e,n,r,i)=>(Wn(!0),V_(e[ye],r));function IN(t,e,n,r,i){let s=e[Bt],o=!s||Ai()||bl(s,i);return Wn(o),o?V_(e[ye],r):Ol(s,t,e,n)}function SN(){$w=IN}function _t(t){return Rr("",t,""),_t}function Rr(t,e,n){let r=q(),i=qx(r,t,e,n);return i!==Kn&&IA(r,Tr(),i),Rr}function TN(t,e,n){let r=Ze();if(r.firstCreatePass){let i=Un(t);eh(n,r.data,r.blueprint,i,!0),eh(e,r.data,r.blueprint,i,!1)}}function eh(t,e,n,r,i){if(t=Ye(t),Array.isArray(t))for(let s=0;s<t.length;s++)eh(t[s],e,n,r,i);else{let s=Ze(),o=q(),a=at(),l=Si(t)?t:Ye(t.provide),c=m_(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Si(t)||!t.multi){let f=new Er(c,i,$),p=ld(l,e,i?u:u+h,d);p===-1?(Id(rl(a,o),s,l),ad(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=ld(l,e,u+h,d),p=ld(l,e,u,u+h),m=f>=0&&n[f],D=p>=0&&n[p];if(i&&!D||!i&&!m){Id(rl(a,o),s,l);let C=xN(i?AN:MN,n.length,i,r,c);!i&&D&&(n[p].providerFactory=C),ad(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),o.push(C)}else{let C=Hw(n[i?p:f],c,!i&&r);ad(s,t,f>-1?f:p,C)}!i&&r&&D&&n[p].componentProviders++}}}function ad(t,e,n,r){let i=Si(e),s=KT(e);if(i||s){let l=(s?Ye(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function Hw(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ld(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function MN(t,e,n,r){return th(this.multi,[])}function AN(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Dr(n,n[R],this.providerFactory.index,r);s=a.slice(0,o),th(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],th(i,s);return s}function th(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function xN(t,e,n,r,i){let s=new Er(t,n,$);return s.multi=[],s.index=e,s.componentProviders=0,Hw(s,i,r&&!n),s}function Gs(t,e=[]){return n=>{n.providersResolver=(r,i)=>TN(r,i?i(t):t,e)}}var NN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=h_(!1,r.type),s=i.length>0?Uh([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=I({token:e,providedIn:"environment",factory:()=>new e(U(Tt))});let t=e;return t})();function ne(t){Nr("NgStandalone"),t.getStandaloneInjector=e=>e.get(NN).getOrCreateStandaloneInjector(t)}function Vl(t,e,n){let r=yl()+t,i=q();return i[r]===Kn?$h(i,r,n?e.call(n):e()):$x(i,r)}function zw(t,e,n,r){return Gw(q(),yl(),t,e,n,r)}function zh(t,e,n,r,i){return RN(q(),yl(),t,e,n,r,i)}function Ww(t,e){let n=t[e];return n===Kn?void 0:n}function Gw(t,e,n,r,i,s){let o=e+n;return Cn(t,o,i)?$h(t,o+1,s?r.call(s,i):r(i)):Ww(t,o+1)}function RN(t,e,n,r,i,s,o){let a=e+n;return Hx(t,a,i,s)?$h(t,a+2,o?r.call(o,i,s):r(i,s)):Ww(t,a+2)}function qw(t,e){let n=Ze(),r,i=t+Me;n.firstCreatePass?(r=ON(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=_r(r.type,!0)),o,a=it($);try{let l=nl(!1),c=s();return nl(l),bN(n,q(),i,c),c}finally{it(a)}}function ON(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Kw(t,e,n){let r=t+Me,i=q(),s=PS(i,r);return PN(i,r)?Gw(i,yl(),e,s.transform,n,s):s.transform(n)}function PN(t,e){return t[R].data[e].pure}var Bl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Qw=new O("");function Or(t){return!!t&&typeof t.then=="function"}function Yw(t){return!!t&&typeof t.subscribe=="function"}var Zw=new O(""),Xw=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g(Zw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let s of this.appInits){let o=s();if(Or(o))r.push(o);else if(Yw(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fi=new O("");function FN(){sy(()=>{throw new y(600,!1)})}function kN(t){return t.isBoundToModule}function LN(t,e,n){try{let r=n();return Or(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Qn=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(N_),this.afterRenderEffectManager=g(xw),this.componentTypes=[],this.components=[],this.isStable=g(Ws).hasPendingTasks.pipe(z(r=>!r)),this._injector=g(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let s=r instanceof ll;if(!this._injector.get(Xw).done){let f=!s&&Iv(r),p=!1;throw new y(405,p)}let a;s?a=r:a=this._injector.get(Fl).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let l=kN(a)?void 0:this._injector.get($n),c=i||a.selector,u=a.create(Sn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Qw,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),cd(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new y(101,!1);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}detectChangesInAttachedViews(){let r=0;do{if(r===Ew)throw new y(103,!1);let i=r===0;for(let{_lView:s,notifyErrorHandler:o}of this._views)!i&&!pv(s)||this.detectChangesInView(s,o,i);this.afterRenderEffectManager.execute(),r++}while(this._views.some(({_lView:i})=>pv(i)))}detectChangesInView(r,i,s){let o;s?(o=0,r[x]|=1024):r[x]&64?o=0:o=1,Dw(r,i,o)}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;cd(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Fi,[]);[...this._bootstrapListeners,...i].forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>cd(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new y(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Va;function Wh(t){Va??=new WeakMap;let e=Va.get(t);if(e)return e;let n=t.isStable.pipe(Lt(r=>r)).toPromise().then(()=>{});return Va.set(t,n),t.onDestroy(()=>Va?.delete(t)),n}function pv(t){return lh(t)}var nh=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Gh=(()=>{let e=class e{compileModuleSync(r){return new zd(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),s=Sv(r),o=j_(s.declarations).reduce((a,l)=>{let c=gr(l);return c&&a.push(new Ps(c)),a},[]);return new nh(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var jN=(()=>{let e=class e{constructor(){this.zone=g(he),this.applicationRef=g(Qn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VN(t){return[{provide:he,useFactory:t},{provide:wr,multi:!0,useFactory:()=>{let e=g(jN,{optional:!0});return()=>e.initialize()}},{provide:wr,multi:!0,useFactory:()=>{let e=g(HN);return()=>{e.initialize()}}},{provide:N_,useFactory:BN}]}function BN(){let t=g(he),e=g(En);return n=>t.runOutsideAngular(()=>e.handleError(n))}function UN(t){let e=VN(()=>new he($N(t)));return xr([[],e])}function $N(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var HN=(()=>{let e=class e{constructor(){this.subscription=new Se,this.initialized=!1,this.zone=g(he),this.pendingTasks=g(Ws)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function zN(){return typeof $localize<"u"&&$localize.locale||fl}var qs=new O("",{providedIn:"root",factory:()=>g(qs,B.Optional|B.SkipSelf)||zN()});var Jw=new O("");var Wa=null;function WN(t=[],e){return Sn.create({name:e,providers:[{provide:Il,useValue:"platform"},{provide:Jw,useValue:new Set([()=>Wa=null])},...t]})}function GN(t=[]){if(Wa)return Wa;let e=WN(t);return Wa=e,FN(),qN(e),e}function qN(t){t.get(ph,null)?.forEach(n=>n())}function eE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=GN(r),s=[UN(),...n||[]],a=new ul({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,l=a.get(he);return l.run(()=>{a.resolveInjectorInitializers();let c=a.get(En,null),u;l.runOutsideAngular(()=>{u=l.onError.subscribe({next:f=>{c.handleError(f)}})});let d=()=>a.destroy(),h=i.get(Jw);return h.add(d),a.onDestroy(()=>{u.unsubscribe(),h.delete(d)}),LN(c,l,()=>{let f=a.get(Xw);return f.runInitializers(),f.donePromise.then(()=>{let p=a.get(qs,fl);wN(p||fl);let m=a.get(Qn);return e!==void 0&&m.bootstrap(e),m})})})}catch(e){return Promise.reject(e)}}var mv=!1;function KN(){mv||(mv=!0,VT(),mN(),SN(),vN(),Gx(),bx(),ZA(),iA())}function QN(t,e){return Wh(t)}function tE(){return xr([{provide:Pa,useFactory:()=>{let t=!0;return ka()&&(t=!!g(Ar,{optional:!0})?.get(a_,null)),t&&Nr("NgHydration"),t}},{provide:wr,useValue:()=>{ka()&&g(Pa)&&(YN(),KN())},multi:!0},{provide:O_,useFactory:()=>ka()&&g(Pa)},{provide:Fi,useFactory:()=>{if(ka()&&g(Pa)){let t=g(Qn),e=g(Sn);return()=>{QN(t,e).then(()=>{he.assertInAngularZone(),HA(t)})}}return()=>{}},multi:!0}])}function YN(){let t=vl(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===LT){e=n;break}if(!e)throw new y(-507,!1)}function ki(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}var sE=null;function An(){return sE}function oE(t){sE??=t}var Ul=class{};var qe=new O(""),aE=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(ZN),providedIn:"platform"});let t=e;return t})();var ZN=(()=>{let e=class e extends aE{constructor(){super(),this._doc=g(qe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return An().getBaseHref(this._doc)}onPopState(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=An().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function lE(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function nE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Pr(t){return t&&t[0]!=="?"?"?"+t:t}var Li=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(cE),providedIn:"root"});let t=e;return t})(),XN=new O(""),cE=(()=>{let e=class e extends Li{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(qe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return lE(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Pr(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Pr(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(U(aE),U(XN,8))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ks=(()=>{let e=class e{constructor(r){this._subject=new be,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=tR(nE(rE(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Pr(i))}normalize(r){return e.stripTrailingSlash(eR(this._basePath,rE(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Pr(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}};e.normalizeQueryParams=Pr,e.joinWithSlash=lE,e.stripTrailingSlash=nE,e.\u0275fac=function(i){return new(i||e)(U(Li))},e.\u0275prov=I({token:e,factory:()=>JN(),providedIn:"root"});let t=e;return t})();function JN(){return new Ks(U(Li))}function eR(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function rE(t){return t.replace(/\/index.html$/,"")}function tR(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function uE(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var qh=/\s+/,iE=[],Hl=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=iE,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(qh):iE}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(qh):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let s=this.stateMap.get(r);s!==void 0?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(qh).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}};e.\u0275fac=function(i){return new(i||e)($(lt),$(Mt))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:[Ve.None,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var le=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=Gn({});let t=e;return t})(),dE="browser",nR="server";function Qh(t){return t===nR}var $l=class{};var Wl=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var vE=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(vE||{}),Zh=class{constructor(e,n=_E.Ok,r="OK"){this.headers=e.headers||new Wl,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Gl=class t extends Zh{constructor(e={}){super(e),this.type=vE.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var _E=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(_E||{});var iR=new O("");var hE="b",fE="h",pE="s",mE="st",gE="u",yE="rt",zl=new O(""),sR=["GET","HEAD"];function oR(t,e){let u=g(zl),{isCacheActive:n}=u,r=ia(u,["isCacheActive"]),{transferCache:i,method:s}=t;if(!n||s==="POST"&&!r.includePostRequests&&!i||s!=="POST"&&!sR.includes(s)||i===!1||r.filter?.(t)===!1)return e(t);let o=g(Ar),a=lR(t),l=o.get(a,null),c=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(c=i.includeHeaders),l){let{[hE]:d,[yE]:h,[fE]:f,[pE]:p,[mE]:m,[gE]:D}=l,C=d;switch(h){case"arraybuffer":C=new TextEncoder().encode(d).buffer;break;case"blob":C=new Blob([d]);break}let j=new Wl(f);return N(new Gl({body:C,headers:j,status:p,statusText:m,url:D}))}return e(t).pipe(Ce(d=>{d instanceof Gl&&o.set(a,{[hE]:d.body,[fE]:aR(d.headers,c),[pE]:d.status,[mE]:d.statusText,[gE]:d.url||"",[yE]:t.responseType})}))}function aR(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function lR(t){let{params:e,method:n,responseType:r,url:i,body:s}=t,o=e.keys().sort().map(u=>`${u}=${e.getAll(u)}`).join("&"),l=[n,r,i,typeof s=="string"?s:"",o].join("|"),c=cR(l);return c}function cR(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function wE(t){return[{provide:zl,useFactory:()=>(Nr("NgHttpTransferCache"),E({isCacheActive:!0},t))},{provide:iR,useValue:oR,multi:!0,deps:[Ar,zl]},{provide:Fi,multi:!0,useFactory:()=>{let e=g(Qn),n=g(zl);return()=>{Wh(e).then(()=>{n.isCacheActive=!1})}}}]}var ef=class extends Ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},tf=class t extends ef{static makeCurrent(){oE(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=dR();return n==null?null:hR(n)}resetBaseElement(){Qs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return uE(document.cookie,e)}},Qs=null;function dR(){return Qs=Qs||document.querySelector("base"),Qs?Qs.getAttribute("href"):null}function hR(t){return new URL(t,document.baseURI).pathname}var fR=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),nf=new O(""),CE=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new y(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(U(nf),U(he))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),ql=class{constructor(e){this._doc=e}},Xh="ng-app-id",bE=(()=>{let e=class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qh(o),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Xh}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(s=>{s.textContent!=null&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){let s=this.styleRef;if(s.has(r)){let o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(Xh),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Xh,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let s=this.getStyleElement(r,i),o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(U(qe),U(wl),U(gh,8),U(bn))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},of=/%COMP%/g,IE="%COMP%",pR=`_nghost-${IE}`,mR=`_ngcontent-${IE}`,gR=!0,yR=new O("",{providedIn:"root",factory:()=>gR});function vR(t){return mR.replace(of,t)}function _R(t){return pR.replace(of,t)}function SE(t,e){return e.map(n=>n.replace(of,t))}var Kl=(()=>{let e=class e{constructor(r,i,s,o,a,l,c,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Qh(l),this.defaultRenderer=new Ys(r,a,c,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Jt.ShadowDom&&(i=X(E({},i),{encapsulation:Jt.Emulated}));let s=this.getOrCreateRenderer(r,i);return s instanceof Ql?s.applyToHost(r):s instanceof Zs&&s.applyStyles(),s}getOrCreateRenderer(r,i){let s=this.rendererByCompId,o=s.get(i.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(i.encapsulation){case Jt.Emulated:o=new Ql(c,u,i,this.appId,d,a,l,h);break;case Jt.ShadowDom:return new rf(c,u,r,i,a,l,this.nonce,h);default:o=new Zs(c,u,i,d,a,l,h);break}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(U(CE),U(bE),U(wl),U(yR),U(qe),U(bn),U(he),U(gh))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),Ys=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jh[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(EE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(EE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new y(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Jh[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Jh[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Dn.DashCase|Dn.Important)?e.style.setProperty(n,r,i&Dn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Dn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=An().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function EE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var rf=class extends Ys{constructor(e,n,r,i,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=SE(i.id,i.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zs=class extends Ys{constructor(e,n,r,i,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=l?SE(l,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ql=class extends Zs{constructor(e,n,r,i,s,o,a,l){let c=i+"-"+r.id;super(e,n,r,s,o,a,l,c),this.contentAttr=vR(c),this.hostAttr=_R(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},wR=(()=>{let e=class e extends ql{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}};e.\u0275fac=function(i){return new(i||e)(U(qe))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),DE=["alt","control","meta","shift"],ER={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DR={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},CR=(()=>{let e=class e extends ql{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,s){let o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>An().onAndCancel(r,o.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),s=i.shift();if(i.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),DE.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,i.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(r,i){let s=ER[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),DE.forEach(a=>{if(a!==s){let l=DR[a];l(r)&&(o+=a+".")}}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(U(qe))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function TE(t,e){return eE(E({rootComponent:t},bR(e)))}function bR(t){return{appProviders:[...AR,...t?.providers??[]],platformProviders:MR}}function IR(){tf.makeCurrent()}function SR(){return new En}function TR(){return Zv(document),document}var MR=[{provide:bn,useValue:dE},{provide:ph,useValue:IR,multi:!0},{provide:qe,useFactory:TR,deps:[]}];var AR=[{provide:Il,useValue:"root"},{provide:En,useFactory:SR,deps:[]},{provide:nf,useClass:wR,multi:!0,deps:[qe,he,bn]},{provide:nf,useClass:CR,multi:!0,deps:[qe]},Kl,bE,CE,{provide:Ir,useExisting:Kl},{provide:$l,useClass:fR,deps:[]},[]];var ME=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(U(qe))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(sf||{});function AE(...t){let e=[],n=new Set,r=n.has(sf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:s}of t)n.add(s),i.length&&e.push(i);return xr([[],tE(),n.has(sf.NoHttpTransferCache)||r?[]:wE({}),e])}var L="primary",fo=Symbol("RouteTitle"),df=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $i(t){return new df(t)}function NR(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function RR(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!on(t[n],e[n]))return!1;return!0}function on(t,e){let n=t?hf(t):void 0,r=e?hf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!FE(t[i],e[i]))return!1;return!0}function hf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function FE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function kE(t){return t.length>0?t[t.length-1]:null}function Xn(t){return Vu(t)?t:Or(t)?me(Promise.resolve(t)):N(t)}var OR={exact:jE,subset:VE},LE={exact:PR,subset:FR,ignored:()=>!0};function xE(t,e,n){return OR[n.paths](t.root,e.root,n.matrixParams)&&LE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function PR(t,e){return on(t,e)}function jE(t,e,n){if(!kr(t.segments,e.segments)||!Xl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!jE(t.children[r],e.children[r],n))return!1;return!0}function FR(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>FE(t[n],e[n]))}function VE(t,e,n){return BE(t,e,e.segments,n)}function BE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!kr(i,n)||e.hasChildren()||!Xl(i,n,r))}else if(t.segments.length===n.length){if(!kr(t.segments,n)||!Xl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!VE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!kr(t.segments,i)||!Xl(t.segments,i,r)||!t.children[L]?!1:BE(t.children[L],e,s,r)}}function Xl(t,e,n){return e.every((r,i)=>LE[n](t[i].parameters,r.parameters))}var Yn=class{constructor(e=new re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){return jR.serialize(this)}},re=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}},Fr=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=$i(this.parameters),this._parameterMap}toString(){return $E(this)}};function kR(t,e){return kr(t,e)&&t.every((n,r)=>on(n.parameters,e[r].parameters))}function kr(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function LR(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===L&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==L&&(n=n.concat(e(i,r)))}),n}var jf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>new tc,providedIn:"root"});let t=e;return t})(),tc=class{parse(e){let n=new pf(e);return new Yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xs(e.root,!0)}`,r=UR(e.queryParams),i=typeof e.fragment=="string"?`#${VR(e.fragment)}`:"";return`${n}${r}${i}`}},jR=new tc;function Jl(t){return t.segments.map(e=>$E(e)).join("/")}function Xs(t,e){if(!t.hasChildren())return Jl(t);if(e){let n=t.children[L]?Xs(t.children[L],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==L&&r.push(`${i}:${Xs(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=LR(t,(r,i)=>i===L?[Xs(t.children[L],!1)]:[`${i}:${Xs(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[L]!=null?`${Jl(t)}/${n[0]}`:`${Jl(t)}/(${n.join("//")})`}}function UE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yl(t){return UE(t).replace(/%3B/gi,";")}function VR(t){return encodeURI(t)}function ff(t){return UE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(t){return decodeURIComponent(t)}function NE(t){return ec(t.replace(/\+/g,"%20"))}function $E(t){return`${ff(t.path)}${BR(t.parameters)}`}function BR(t){return Object.entries(t).map(([e,n])=>`;${ff(e)}=${ff(n)}`).join("")}function UR(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Yl(n)}=${Yl(i)}`).join("&"):`${Yl(n)}=${Yl(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var $R=/^[^\/()?;#]+/;function af(t){let e=t.match($R);return e?e[0]:""}var HR=/^[^\/()?;=#]+/;function zR(t){let e=t.match(HR);return e?e[0]:""}var WR=/^[^=?&#]+/;function GR(t){let e=t.match(WR);return e?e[0]:""}var qR=/^[^&#]+/;function KR(t){let e=t.match(qR);return e?e[0]:""}var pf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new re([],{}):new re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[L]=new re(e,n)),r}parseSegment(){let e=af(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new y(4009,!1);return this.capture(e),new Fr(ec(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=zR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=af(this.remaining);i&&(r=i,this.capture(r))}e[ec(n)]=ec(r)}parseQueryParam(e){let n=GR(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=KR(this.remaining);o&&(r=o,this.capture(r))}let i=NE(n),s=NE(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=af(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new y(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=L);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[L]:new re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new y(4011,!1)}};function HE(t){return t.segments.length>0?new re([],{[L]:t}):t}function zE(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=zE(i);if(r===L&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new re(t.segments,e);return QR(n)}function QR(t){if(t.numberOfChildren===1&&t.children[L]){let e=t.children[L];return new re(t.segments.concat(e.segments),e.children)}return t}function Hi(t){return t instanceof Yn}function YR(t,e,n=null,r=null){let i=WE(t);return GE(i,e,n,r)}function WE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=HE(r);return e??i}function GE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return lf(i,i,i,n,r);let s=ZR(e);if(s.toRoot())return lf(i,i,new re([],{}),n,r);let o=XR(s,i,t),a=o.processChildren?to(o.segmentGroup,o.index,s.commands):KE(o.segmentGroup,o.index,s.commands);return lf(i,o.segmentGroup,a,n,r)}function nc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function io(t){return typeof t=="object"&&t!=null&&t.outlets}function lf(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=qE(t,e,n);let a=HE(zE(o));return new Yn(a,s,i)}function qE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=qE(s,e,n)}),new re(t.segments,r)}var rc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nc(r[0]))throw new y(4003,!1);let i=r.find(io);if(i&&i!==kE(r))throw new y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function ZR(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rc(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new rc(n,e,r)}var Bi=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function XR(t,e,n){if(t.isAbsolute)return new Bi(e,!0,0);if(!n)return new Bi(e,!1,NaN);if(n.parent===null)return new Bi(n,!0,0);let r=nc(t.commands[0])?0:1,i=n.segments.length-1+r;return JR(n,i,t.numberOfDoubleDots)}function JR(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new y(4005,!1);i=r.segments.length}return new Bi(r,!1,i-s)}function eO(t){return io(t[0])?t[0].outlets:{[L]:t}}function KE(t,e,n){if(t??=new re([],{}),t.segments.length===0&&t.hasChildren())return to(t,e,n);let r=tO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new re(t.segments.slice(0,r.pathIndex),{});return s.children[L]=new re(t.segments.slice(r.pathIndex),t.children),to(s,0,i)}else return r.match&&i.length===0?new re(t.segments,{}):r.match&&!t.hasChildren()?mf(t,e,n):r.match?to(t,0,i):mf(t,e,n)}function to(t,e,n){if(n.length===0)return new re(t.segments,{});{let r=eO(n),i={};if(Object.keys(r).some(s=>s!==L)&&t.children[L]&&t.numberOfChildren===1&&t.children[L].segments.length===0){let s=to(t.children[L],e,n);return new re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=KE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new re(t.segments,i)}}function tO(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(io(a))break;let l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!OE(l,c,o))return s;r+=2}else{if(!OE(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(io(s)){let l=nO(s.outlets);return new re(r,l)}if(i===0&&nc(n[0])){let l=t.segments[e];r.push(new Fr(l.path,RE(n[0]))),i++;continue}let o=io(s)?s.outlets[L]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&nc(a)?(r.push(new Fr(o,RE(a))),i+=2):(r.push(new Fr(o,{})),i++)}return new re(r,{})}function nO(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=mf(new re([],{}),0,r))}),e}function RE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function OE(t,e,n){return t==n.path&&on(e,n.parameters)}var no="imperative",Ue=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ue||{}),xt=class{constructor(e,n){this.id=e,this.url=n}},so=class extends xt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ue.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends xt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ue.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},At=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(At||{}),gf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(gf||{}),Zn=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Lr=class extends xt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ue.NavigationSkipped}},oo=class extends xt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ue.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ic=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends xt{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Ue.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_f=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wf=class extends xt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ue.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ef=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Df=class{constructor(e){this.route=e,this.type=Ue.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cf=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{constructor(e){this.snapshot=e,this.type=Ue.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},If=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sf=class{constructor(e){this.snapshot=e,this.type=Ue.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ao=class{},lo=class{constructor(e){this.url=e}};var Tf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new dc,this.attachRef=null}},dc=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Tf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Mf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Mf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Af(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Af(e,this._root).map(n=>n.value)}};function Mf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Mf(t,n);if(r)return r}return null}function Af(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Af(t,n);if(r.length)return r.unshift(e),r}return[]}var wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vi(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var oc=class extends sc{constructor(e,n){super(e),this.snapshot=n,Bf(this,e)}toString(){return this.snapshot.toString()}};function QE(t){let e=rO(t),n=new Le([new Fr("",{})]),r=new Le({}),i=new Le({}),s=new Le({}),o=new Le(""),a=new jr(n,r,s,o,i,L,t,e.root);return a.snapshot=e.root,new oc(new wt(a,[]),e)}function rO(t){let e={},n={},r={},i="",s=new co([],e,r,i,n,L,t,null,{});return new ac("",new wt(s,[]))}var jr=class{constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(z(c=>c[fo]))??N(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>$i(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>$i(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Vf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&ZE(i)&&(r.resolve[fo]=i.title),r}var co=class{get title(){return this.data?.[fo]}constructor(e,n,r,i,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$i(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$i(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},ac=class extends sc{constructor(e,n){super(n),this.url=e,Bf(this,n)}toString(){return YE(this._root)}};function Bf(t,e){e.value._routerState=t,e.children.forEach(n=>Bf(t,n))}function YE(t){let e=t.children.length>0?` { ${t.children.map(YE).join(", ")} } `:"";return`${t.value}${e}`}function cf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,on(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),on(e.params,n.params)||t.paramsSubject.next(n.params),RR(e.url,n.url)||t.urlSubject.next(n.url),on(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function xf(t,e){let n=on(t.params,e.params)&&kR(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||xf(t.parent,e.parent))}function ZE(t){return typeof t.title=="string"||t.title===null}var Uf=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=L,this.activateEvents=new be,this.deactivateEvents=new be,this.attachEvents=new be,this.detachEvents=new be,this.parentContexts=g(dc),this.location=g(Ri),this.changeDetector=g(Ni),this.environmentInjector=g(Tt),this.inputBinder=g($f,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new y(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Nf(r,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[In]});let t=e;return t})(),Nf=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===jr?this.route:e===dc?this.childContexts:this.parent.get(e,n)}},$f=new O("");function iO(t,e,n){let r=uo(t,e._root,n?n._root:void 0);return new oc(r,e)}function uo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=sO(t,e,n);return new wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>uo(t,a)),o}}let r=oO(e.value),i=e.children.map(s=>uo(t,s));return new wt(r,i)}}function sO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uo(t,r,i);return uo(t,r)})}function oO(t){return new jr(new Le(t.url),new Le(t.params),new Le(t.queryParams),new Le(t.fragment),new Le(t.data),t.outlet,t.component,t)}var XE="ngNavigationCancelingError";function JE(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eD(!1,At.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function eD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[XE]=!0,n.cancellationCode=e,n}function aO(t){return tD(t)&&Hi(t.url)}function tD(t){return!!t&&t[XE]}var lO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["ng-component"]],standalone:!0,features:[ne],decls:1,vars:0,template:function(i,s){i&1&&k(0,"router-outlet")},dependencies:[Uf],encapsulation:2});let t=e;return t})();function cO(t,e){return t.providers&&!t._injector&&(t._injector=Uh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Hf(t){let e=t.children&&t.children.map(Hf),n=e?X(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=lO),n}function an(t){return t.outlet||L}function uO(t,e){let n=t.filter(r=>an(r)===e);return n.push(...t.filter(r=>an(r)!==e)),n}function po(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dO=(t,e,n,r)=>z(i=>(new Rf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Rf=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vi(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Vi(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vi(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Sf(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(cf(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),cf(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=po(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},lc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ui=class{constructor(e,n){this.component=e,this.route=n}};function hO(t,e,n){let r=t._root,i=e?e._root:null;return Js(r,i,n,[r.value])}function fO(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Wi(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Xv(t)?t:e.get(t):r}function Js(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Vi(e);return t.children.forEach(o=>{pO(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ro(a,n.getContext(o),i)),i}function pO(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=mO(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new lc(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Js(t,e,a?a.children:null,r,i):Js(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ui(a.outlet.component,o))}else o&&ro(e,a,i),i.canActivateChecks.push(new lc(r)),s.component?Js(t,null,a?a.children:null,r,i):Js(t,null,n,r,i);return i}function mO(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!kr(t.url,e.url);case"pathParamsOrQueryParamsChange":return!kr(t.url,e.url)||!on(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xf(t,e)||!on(t.queryParams,e.queryParams);case"paramsChange":default:return!xf(t,e)}}function ro(t,e,n){let r=Vi(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ro(o,e.children.getContext(s),n):ro(o,null,n):ro(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ui(e.outlet.component,i)):n.canDeactivateChecks.push(new Ui(null,i)):n.canDeactivateChecks.push(new Ui(null,i))}function mo(t){return typeof t=="function"}function gO(t){return typeof t=="boolean"}function yO(t){return t&&mo(t.canLoad)}function vO(t){return t&&mo(t.canActivate)}function _O(t){return t&&mo(t.canActivateChild)}function wO(t){return t&&mo(t.canDeactivate)}function EO(t){return t&&mo(t.canMatch)}function nD(t){return t instanceof mn||t?.name==="EmptyError"}var Zl=Symbol("INITIAL_VALUE");function zi(){return St(t=>Na(t.map(e=>e.pipe(gn(1),zu(Zl)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===Zl)return Zl;if(n===!1||n instanceof Yn)return n}return!0}),Qe(e=>e!==Zl),gn(1)))}function DO(t,e){return Te(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?N(X(E({},n),{guardsResult:!0})):CO(o,r,i,t).pipe(Te(a=>a&&gO(a)?bO(r,s,t,e):N(a)),z(a=>X(E({},n),{guardsResult:a})))})}function CO(t,e,n,r){return me(t).pipe(Te(i=>AO(i.component,i.route,n,e,r)),Lt(i=>i!==!0,!0))}function bO(t,e,n,r){return me(e).pipe(fr(i=>gi(SO(i.route.parent,r),IO(i.route,r),MO(t,i.path,n),TO(t,i.route,n))),Lt(i=>i!==!0,!0))}function IO(t,e){return t!==null&&e&&e(new If(t)),N(!0)}function SO(t,e){return t!==null&&e&&e(new Cf(t)),N(!0)}function TO(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return N(!0);let i=r.map(s=>Ra(()=>{let o=po(e)??n,a=Wi(s,o),l=vO(a)?a.canActivate(e,t):qn(o,()=>a(e,t));return Xn(l).pipe(Lt())}));return N(i).pipe(zi())}function MO(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>fO(o)).filter(o=>o!==null).map(o=>Ra(()=>{let a=o.guards.map(l=>{let c=po(o.node)??n,u=Wi(l,c),d=_O(u)?u.canActivateChild(r,t):qn(c,()=>u(r,t));return Xn(d).pipe(Lt())});return N(a).pipe(zi())}));return N(s).pipe(zi())}function AO(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return N(!0);let o=s.map(a=>{let l=po(e)??i,c=Wi(a,l),u=wO(c)?c.canDeactivate(t,e,n,r):qn(l,()=>c(t,e,n,r));return Xn(u).pipe(Lt())});return N(o).pipe(zi())}function xO(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return N(!0);let s=i.map(o=>{let a=Wi(o,t),l=yO(a)?a.canLoad(e,n):qn(t,()=>a(e,n));return Xn(l)});return N(s).pipe(zi(),rD(r))}function rD(t){return Fu(Ce(e=>{if(Hi(e))throw JE(t,e)}),z(e=>e===!0))}function NO(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return N(!0);let s=i.map(o=>{let a=Wi(o,t),l=EO(a)?a.canMatch(e,n):qn(t,()=>a(e,n));return Xn(l)});return N(s).pipe(zi(),rD(r))}var ho=class{constructor(e){this.segmentGroup=e||null}},cc=class extends Error{constructor(e){super(),this.urlTree=e}};function ji(t){return pi(new ho(t))}function RO(t){return pi(new y(4e3,!1))}function OO(t){return pi(eD(!1,At.GuardRejected))}var Of=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return N(r);if(i.numberOfChildren>1||!i.children[L])return RO(e.redirectTo);i=i.children[L]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new cc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Yn(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new y(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Pf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function PO(t,e,n,r,i){let s=zf(t,e,n);return s.matched?(r=cO(e,r),NO(r,e,n,i).pipe(z(o=>o===!0?s:E({},Pf)))):N(s)}function zf(t,e,n){if(e.path==="**")return FO(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Pf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||NR)(n,t,e);if(!i)return E({},Pf);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?E(E({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function FO(t){return{matched:!0,parameters:t.length>0?kE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function PE(t,e,n,r){return n.length>0&&jO(t,n,r)?{segmentGroup:new re(e,LO(r,new re(n,t.children))),slicedSegments:[]}:n.length===0&&VO(t,n,r)?{segmentGroup:new re(t.segments,kO(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new re(t.segments,t.children),slicedSegments:n}}function kO(t,e,n,r){let i={};for(let s of n)if(hc(t,e,s)&&!r[an(s)]){let o=new re([],{});i[an(s)]=o}return E(E({},r),i)}function LO(t,e){let n={};n[L]=e;for(let r of t)if(r.path===""&&an(r)!==L){let i=new re([],{});n[an(r)]=i}return n}function jO(t,e,n){return n.some(r=>hc(t,e,r)&&an(r)!==L)}function VO(t,e,n){return n.some(r=>hc(t,e,r))}function hc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function BO(t,e,n,r){return an(t)!==r&&(r===L||!hc(e,n,t))?!1:zf(e,t,n).matched}function UO(t,e,n){return e.length===0&&!t.children[n]}var Ff=class{};function $O(t,e,n,r,i,s,o="emptyOnly"){return new kf(t,e,n,r,i,o,s).recognize()}var HO=31,kf=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Of(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new y(4002,`'${e.segmentGroup}'`)}recognize(){let e=PE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new co([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},L,this.rootComponentType,null,{}),i=new wt(r,n),s=new ac("",i),o=YR(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,L).pipe(jn(r=>{if(r instanceof cc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ho?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Vf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(s=>s instanceof wt?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return me(i).pipe(fr(s=>{let o=r.children[s],a=uO(n,s);return this.processSegmentGroup(e,a,o,s)}),Hu((s,o)=>(s.push(...o),s)),Vn(null),$u(),Te(s=>{if(s===null)return ji(r);let o=iD(s);return zO(o),N(o)}))}processSegment(e,n,r,i,s,o){return me(n).pipe(fr(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(jn(l=>{if(l instanceof ho)return N(null);throw l}))),Lt(a=>!!a),jn(a=>{if(nD(a))return UO(r,i,s)?N(new Ff):ji(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return BO(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):ji(i):ji(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=zf(n,i,s);if(!a)return ji(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>HO&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,i.redirectTo,c);return this.applyRedirects.lineralizeSegments(i,d).pipe(Te(h=>this.processSegment(e,r,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=PO(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(St(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(St(({routes:l})=>{let c=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new co(u,h,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,GO(r),an(r),r.component??r._loadedComponent??null,r,qO(r)),{segmentGroup:p,slicedSegments:m}=PE(n,u,d,l);if(m.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(z(C=>C===null?null:new wt(f,C)));if(l.length===0&&m.length===0)return N(new wt(f,[]));let D=an(r)===s;return this.processSegment(c,l,p,m,D?L:s,!0).pipe(z(C=>new wt(f,C instanceof wt?[C]:[])))}))):ji(n)))}getChildConfig(e,n,r){return n.children?N({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?N({routes:n._loadedRoutes,injector:n._loadedInjector}):xO(e,n,r,this.urlSerializer).pipe(Te(i=>i?this.configLoader.loadChildren(e,n).pipe(Ce(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):OO(n))):N({routes:[],injector:e})}};function zO(t){t.sort((e,n)=>e.value.outlet===L?-1:n.value.outlet===L?1:e.value.outlet.localeCompare(n.value.outlet))}function WO(t){let e=t.value.routeConfig;return e&&e.path===""}function iD(t){let e=[],n=new Set;for(let r of t){if(!WO(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iD(r.children);e.push(new wt(r.value,i))}return e.filter(r=>!n.has(r))}function GO(t){return t.data||{}}function qO(t){return t.resolve||{}}function KO(t,e,n,r,i,s){return Te(o=>$O(t,e,n,r,o.extractedUrl,i,s).pipe(z(({state:a,tree:l})=>X(E({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function QO(t,e){return Te(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return N(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of sD(l))o.add(c);let a=0;return me(o).pipe(fr(l=>s.has(l)?YO(l,r,t,e):(l.data=Vf(l,l.parent,t).resolve,N(void 0))),Ce(()=>a++),vi(1),Te(l=>a===o.size?N(n):It))})}function sD(t){let e=t.children.map(n=>sD(n)).flat();return[t,...e]}function YO(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!ZE(i)&&(s[fo]=i.title),ZO(s,t,e,r).pipe(z(o=>(t._resolvedData=o,t.data=Vf(t,t.parent,n).resolve,null)))}function ZO(t,e,n,r){let i=hf(t);if(i.length===0)return N({});let s={};return me(i).pipe(Te(o=>XO(t[o],e,n,r).pipe(Lt(),Ce(a=>{s[o]=a}))),vi(1),Uu(s),jn(o=>nD(o)?It:pi(o)))}function XO(t,e,n,r){let i=po(e)??r,s=Wi(t,i),o=s.resolve?s.resolve(e,n):qn(i,()=>s(e,n));return Xn(o)}function uf(t){return St(e=>{let n=t(e);return n?me(n).pipe(z(()=>e)):N(e)})}var oD=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===L);return i}getResolvedTitleForRoute(r){return r.data[fo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(JO),providedIn:"root"});let t=e;return t})(),JO=(()=>{let e=class e extends oD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(U(ME))},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wf=new O("",{providedIn:"root",factory:()=>({})}),Gf=new O(""),eP=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Gh)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return N(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Xn(r.loadComponent()).pipe(z(aD),Ce(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),yi(()=>{this.componentLoaders.delete(r)})),s=new fi(i,()=>new nt).pipe(hi());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return N({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=tP(i,this.compiler,r,this.onLoadEndListener).pipe(yi(()=>{this.childrenLoaders.delete(i)})),a=new fi(o,()=>new nt).pipe(hi());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function tP(t,e,n,r){return Xn(t.loadChildren()).pipe(z(aD),Te(i=>i instanceof Fs||Array.isArray(i)?N(i):me(e.compileModuleAsync(i))),z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Gf,[],{optional:!0,self:!0}).flat()),{routes:o.map(Hf),injector:s}}))}function nP(t){return t&&typeof t=="object"&&"default"in t}function aD(t){return nP(t)?t.default:t}var qf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(rP),providedIn:"root"});let t=e;return t})(),rP=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iP=new O("");var sP=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=g(eP),this.environmentInjector=g(Tt),this.urlSerializer=g(jf),this.rootContexts=g(dc),this.location=g(Ks),this.inputBindingEnabled=g($f,{optional:!0})!==null,this.titleStrategy=g(oD),this.options=g(Wf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(qf),this.createViewTransition=g(iP,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>N(void 0),this.rootComponentType=null;let r=s=>this.events.next(new Ef(s)),i=s=>this.events.next(new Df(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(X(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new Le({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qe(o=>o.id!==0),z(o=>X(E({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),St(o=>{this.currentTransition=o;let a=!1,l=!1;return N(o).pipe(Ce(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?X(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),St(c=>{let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.rawUrl),h,gf.IgnoredSameUrlNavigation)),c.resolve(null),It}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return N(c).pipe(St(h=>{let f=this.transitions?.getValue();return this.events.next(new so(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?It:Promise.resolve(h)}),KO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ce(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=X(E({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new ic(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:m,extras:D}=c,C=new so(h,this.urlSerializer.serialize(f),p,m);this.events.next(C);let j=QE(this.rootComponentType).snapshot;return this.currentTransition=o=X(E({},c),{targetSnapshot:j,urlAfterRedirects:f,extras:X(E({},D),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,N(o)}else{let h="";return this.events.next(new Lr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,gf.IgnoredByUrlHandlingStrategy)),c.resolve(null),It}}),Ce(c=>{let u=new yf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),z(c=>(this.currentTransition=o=X(E({},c),{guards:hO(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),DO(this.environmentInjector,c=>this.events.next(c)),Ce(c=>{if(o.guardsResult=c.guardsResult,Hi(c.guardsResult))throw JE(this.urlSerializer,c.guardsResult);let u=new vf(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Qe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",At.GuardRejected),!1)),uf(c=>{if(c.guards.canActivateChecks.length)return N(c).pipe(Ce(u=>{let d=new _f(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),St(u=>{let d=!1;return N(u).pipe(QO(this.paramsInheritanceStrategy,this.environmentInjector),Ce({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",At.NoDataFromResolver)}}))}),Ce(u=>{let d=new wf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),uf(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ce(f=>{d.component=f}),z(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Na(u(c.targetSnapshot.root)).pipe(Vn(null),gn(1))}),uf(()=>this.afterPreactivation()),St(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?me(d).pipe(z(()=>o)):N(o)}),z(c=>{let u=iO(r.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=X(E({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),Ce(()=>{this.events.next(new ao)}),dO(this.rootContexts,r.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),gn(1),Ce({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Wu(this.transitionAbortSubject.pipe(Ce(c=>{throw c}))),yi(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",At.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),jn(c=>{if(l=!0,tD(c))this.events.next(new Zn(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),aO(c)?this.events.next(new lo(c.url)):o.resolve(!1);else{this.events.next(new oo(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return It}))}))}cancelNavigationTransition(r,i,s){let o=new Zn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function oP(t){return t!==no}var aP=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(lP),providedIn:"root"});let t=e;return t})(),Lf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},lP=(()=>{let e=class e extends Lf{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=$s(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:()=>g(cP),providedIn:"root"});let t=e;return t})(),cP=(()=>{let e=class e extends lD{constructor(){super(...arguments),this.location=g(Ks),this.urlSerializer=g(jf),this.options=g(Wf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(qf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=QE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof so)this.stateMemento=this.createStateMemento();else if(r instanceof Lr)this.rawUrlTree=i.initialUrl;else if(r instanceof ic){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ao?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof Zn&&(r.code===At.GuardRejected||r.code===At.NoDataFromResolver)?this.restoreHistory(i):r instanceof oo?this.restoreHistory(i,!0):r instanceof $t&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=$s(e)))(s||e)}})(),e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(eo||{});function uP(t,e){t.events.pipe(Qe(n=>n instanceof $t||n instanceof Zn||n instanceof oo||n instanceof Lr),z(n=>n instanceof $t||n instanceof Lr?eo.COMPLETE:(n instanceof Zn?n.code===At.Redirect||n.code===At.SupersededByNewNavigation:!1)?eo.REDIRECTING:eo.FAILED),Qe(n=>n!==eo.REDIRECTING),gn(1)).subscribe(()=>{e()})}function dP(t){throw t}var hP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Bl),this.stateManager=g(lD),this.options=g(Wf,{optional:!0})||{},this.pendingTasks=g(Ws),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(sP),this.urlSerializer=g(jf),this.location=g(Ks),this.urlHandlingStrategy=g(qf),this._events=new nt,this.errorHandler=this.options.errorHandler||dP,this.navigated=!1,this.routeReuseStrategy=g(aP),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Gf,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g($f,{optional:!0}),this.eventsSubscription=new Se,this.isNgZoneEnabled=g(he)instanceof he&&he.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Zn&&i.code!==At.Redirect&&i.code!==At.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof $t)this.navigated=!0;else if(i instanceof lo){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||oP(s.source)};this.scheduleNavigation(a,no,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mP(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=E({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(r);this.scheduleNavigation(l,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Hf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=i,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=E(E({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=WE(f)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),h=this.currentUrlTree.root}return GE(h,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=Hi(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,no,null,i)}navigate(r,i={skipLocationChange:!1}){return pP(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=E({},hP):i===!1?s=E({},fP):s=i,Hi(r))return xE(this.currentUrlTree,r,s);let o=this.parseUrl(r);return xE(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return uP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new y(4008,!1)}function mP(t){return!(t instanceof ao)&&!(t instanceof lo)}var uc=(()=>{let e=class e{constructor(r,i,s,o,a,l){this.router=r,this.route=i,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new nt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=r.events.subscribe(u=>{u instanceof $t&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r!=null?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(r!==0||i||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:F_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let s=this.renderer,o=this.el.nativeElement;i!==null?s.setAttribute(o,r,i):s.removeAttribute(o,r)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)($(Gi),$(jr),Ih("tabindex"),$(Mt),$(lt),$(Li))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,s){i&1&&Ie("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Oi("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[Ve.HasDecoratorInputTransform,"preserveFragment","preserveFragment",ki],skipLocationChange:[Ve.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",ki],replaceUrl:[Ve.HasDecoratorInputTransform,"replaceUrl","replaceUrl",ki],routerLink:"routerLink"},standalone:!0,features:[Bh,In]});let t=e;return t})(),cD=(()=>{let e=class e{get isActive(){return this._isActive}constructor(r,i,s,o,a){this.router=r,this.element=i,this.renderer=s,this.cdr=o,this.link=a,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new be,this.routerEventsSubscription=r.events.subscribe(l=>{l instanceof $t&&this.update()})}ngAfterContentInit(){N(this.links.changes,N(null)).pipe(mi()).subscribe(r=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let r=[...this.links.toArray(),this.link].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=me(r).pipe(mi()).subscribe(i=>{this._isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(r){let i=Array.isArray(r)?r:r.split(" ");this.classes=i.filter(s=>!!s)}ngOnChanges(r){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let r=this.hasActiveLinks();this._isActive!==r&&(this._isActive=r,this.cdr.markForCheck(),this.classes.forEach(i=>{r?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),r&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(r))})}isLinkActive(r){let i=gP(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>{let o=s.urlTree;return o?r.isActive(o,i):!1}}hasActiveLinks(){let r=this.isLinkActive(this.router);return this.link&&r(this.link)||this.links.some(r)}};e.\u0275fac=function(i){return new(i||e)($(Gi),$(lt),$(Mt),$(Ni),$(uc,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(i,s,o){if(i&1&&Vw(o,uc,5),i&2){let a;Bw(a=Uw())&&(s.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[In]});let t=e;return t})();function gP(t){return!!t.paths}var yP=new O("");function uD(t,...e){return xr([{provide:Gf,multi:!0,useValue:t},[],{provide:jr,useFactory:vP,deps:[Gi]},{provide:Fi,multi:!0,useFactory:_P},e.map(n=>n.\u0275providers)])}function vP(t){return t.routerState.root}function _P(){let t=g(Sn);return e=>{let n=t.get(Qn);if(e!==n.components[0])return;let r=t.get(Gi),i=t.get(wP);t.get(EP)===1&&r.initialNavigation(),t.get(DP,null,B.Optional)?.setUpPreloading(),t.get(yP,null,B.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wP=new O("",{factory:()=>new nt}),EP=new O("",{providedIn:"root",factory:()=>1});var DP=new O("");var H=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(H||{}),ln="*";function dD(t,e=null){return{type:H.Sequence,steps:t,options:e}}function Kf(t){return{type:H.Style,styles:t,offset:null}}var Jn=class{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},go=class{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0,s=this.players.length;s==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++n==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){let n=e*this.totalTime;this.players.forEach(r=>{let i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){let e=this.players.reduce((n,r)=>n===null||r.totalTime>n.totalTime?r:n,null);return e!=null?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){let n=e=="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},fc="!";function hD(t){return new y(3e3,!1)}function CP(){return new y(3100,!1)}function bP(){return new y(3101,!1)}function IP(t){return new y(3001,!1)}function SP(t){return new y(3003,!1)}function TP(t){return new y(3004,!1)}function MP(t,e){return new y(3005,!1)}function AP(){return new y(3006,!1)}function xP(){return new y(3007,!1)}function NP(t,e){return new y(3008,!1)}function RP(t){return new y(3002,!1)}function OP(t,e,n,r,i){return new y(3010,!1)}function PP(){return new y(3011,!1)}function FP(){return new y(3012,!1)}function kP(){return new y(3200,!1)}function LP(){return new y(3202,!1)}function jP(){return new y(3013,!1)}function VP(t){return new y(3014,!1)}function BP(t){return new y(3015,!1)}function UP(t){return new y(3016,!1)}function $P(t,e){return new y(3404,!1)}function HP(t){return new y(3502,!1)}function zP(t){return new y(3503,!1)}function WP(){return new y(3300,!1)}function GP(t){return new y(3504,!1)}function qP(t){return new y(3301,!1)}function KP(t,e){return new y(3302,!1)}function QP(t){return new y(3303,!1)}function YP(t,e){return new y(3400,!1)}function ZP(t){return new y(3401,!1)}function XP(t){return new y(3402,!1)}function JP(t,e){return new y(3505,!1)}function er(t){switch(t.length){case 0:return new Jn;case 1:return t[0];default:return new go(t)}}function SD(t,e,n=new Map,r=new Map){let i=[],s=[],o=-1,a=null;if(e.forEach(l=>{let c=l.get("offset"),u=c==o,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if(f!=="offset")switch(p=t.normalizePropertyName(p,i),m){case fc:m=n.get(f);break;case ln:m=r.get(f);break;default:m=t.normalizeStyleValue(f,p,m,i);break}d.set(p,m)}),u||s.push(d),a=d,o=c}),i.length)throw HP(i);return s}function yp(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Qf(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Qf(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Qf(n,"destroy",t)));break}}function Qf(t,e,n){let r=n.totalTime,i=!!n.disabled,s=vp(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,r??t.totalTime,i),o=t._data;return o!=null&&(s._data=o),s}function vp(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Dt(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function fD(t){let e=t.indexOf(":"),n=t.substring(1,e),r=t.slice(e+1);return[n,r]}var e1=typeof document>"u"?null:document.documentElement;function _p(t){let e=t.parentNode||t.host||null;return e===e1?null:e}function t1(t){return t.substring(1,6)=="ebkit"}var Vr=null,pD=!1;function n1(t){Vr||(Vr=r1()||{},pD=Vr.style?"WebkitAppearance"in Vr.style:!1);let e=!0;return Vr.style&&!t1(t)&&(e=t in Vr.style,!e&&pD&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in Vr.style)),e}function r1(){return typeof document<"u"?document.body:null}function TD(t,e){for(;e;){if(e===t)return!0;e=_p(e)}return!1}function MD(t,e,n){if(n)return Array.from(t.querySelectorAll(e));let r=t.querySelector(e);return r?[r]:[]}var wp=(()=>{let e=class e{validateStyleProperty(r){return n1(r)}matchesElement(r,i){return!1}containsElement(r,i){return TD(r,i)}getParentElement(r){return _p(r)}query(r,i,s){return MD(r,i,s)}computeStyle(r,i,s){return s||""}animate(r,i,s,o,a,l=[],c){return new Jn(s,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})(),bp=class bp{};bp.NOOP=new wp;var $r=bp,Hr=class{};var i1=1e3,AD="{{",s1="}}",xD="ng-enter",tp="ng-leave",pc="ng-trigger",_c=".ng-trigger",mD="ng-animating",np=".ng-animating";function xn(t){if(typeof t=="number")return t;let e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:rp(parseFloat(e[1]),e[2])}function rp(t,e){switch(e){case"s":return t*i1;default:return t}}function wc(t,e,n){return t.hasOwnProperty("duration")?t:o1(t,e,n)}function o1(t,e,n){let r=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,s=0,o="";if(typeof t=="string"){let a=t.match(r);if(a===null)return e.push(hD(t)),{duration:0,delay:0,easing:""};i=rp(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(s=rp(parseFloat(l),a[4]));let c=a[5];c&&(o=c)}else i=t;if(!n){let a=!1,l=e.length;i<0&&(e.push(CP()),a=!0),s<0&&(e.push(bP()),a=!0),a&&e.splice(l,0,hD(t))}return{duration:i,delay:s,easing:o}}function a1(t){return t.length?t[0]instanceof Map?t:t.map(e=>new Map(Object.entries(e))):[]}function cn(t,e,n){e.forEach((r,i)=>{let s=Ep(i);n&&!n.has(i)&&n.set(i,t.style[s]),t.style[s]=r})}function Ur(t,e){e.forEach((n,r)=>{let i=Ep(r);t.style[i]=""})}function yo(t){return Array.isArray(t)?t.length==1?t[0]:dD(t):t}function l1(t,e,n){let r=e.params||{},i=ND(t);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||n.push(IP(s))})}var ip=new RegExp(`${AD}\\s*(.+?)\\s*${s1}`,"g");function ND(t){let e=[];if(typeof t=="string"){let n;for(;n=ip.exec(t);)e.push(n[1]);ip.lastIndex=0}return e}function _o(t,e,n){let r=`${t}`,i=r.replace(ip,(s,o)=>{let a=e[o];return a==null&&(n.push(SP(o)),a=""),a.toString()});return i==r?t:i}var c1=/-+([a-z0-9])/g;function Ep(t){return t.replace(c1,(...e)=>e[1].toUpperCase())}function u1(t,e){return t===0||e===0}function d1(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Dp(t,a)))}}return e}function Et(t,e,n){switch(e.type){case H.Trigger:return t.visitTrigger(e,n);case H.State:return t.visitState(e,n);case H.Transition:return t.visitTransition(e,n);case H.Sequence:return t.visitSequence(e,n);case H.Group:return t.visitGroup(e,n);case H.Animate:return t.visitAnimate(e,n);case H.Keyframes:return t.visitKeyframes(e,n);case H.Style:return t.visitStyle(e,n);case H.Reference:return t.visitReference(e,n);case H.AnimateChild:return t.visitAnimateChild(e,n);case H.AnimateRef:return t.visitAnimateRef(e,n);case H.Query:return t.visitQuery(e,n);case H.Stagger:return t.visitStagger(e,n);default:throw TP(e.type)}}function Dp(t,e){return window.getComputedStyle(t)[e]}var h1=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Ec=class extends Hr{normalizePropertyName(e,n){return Ep(e)}normalizeStyleValue(e,n,r,i){let s="",o=r.toString().trim();if(h1.has(n)&&r!==0&&r!=="0")if(typeof r=="number")s="px";else{let a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(MP(e,r))}return o+s}};var Dc="*";function f1(t,e){let n=[];return typeof t=="string"?t.split(/\s*,\s*/).forEach(r=>p1(r,n,e)):n.push(t),n}function p1(t,e,n){if(t[0]==":"){let l=m1(t,n);if(typeof l=="function"){e.push(l);return}t=l}let r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(r==null||r.length<4)return n.push(BP(t)),e;let i=r[1],s=r[2],o=r[3];e.push(gD(i,o));let a=i==Dc&&o==Dc;s[0]=="<"&&!a&&e.push(gD(o,i))}function m1(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(UP(t)),"* => *"}}var mc=new Set(["true","1"]),gc=new Set(["false","0"]);function gD(t,e){let n=mc.has(t)||gc.has(t),r=mc.has(e)||gc.has(e);return(i,s)=>{let o=t==Dc||t==i,a=e==Dc||e==s;return!o&&n&&typeof i=="boolean"&&(o=i?mc.has(t):gc.has(t)),!a&&r&&typeof s=="boolean"&&(a=s?mc.has(e):gc.has(e)),o&&a}}var RD=":self",g1=new RegExp(`s*${RD}s*,?`,"g");function OD(t,e,n,r){return new sp(t).build(e,n,r)}var yD="",sp=class{constructor(e){this._driver=e}build(e,n,r){let i=new op(n);return this._resetContextStyleTimingState(i),Et(this,yo(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=yD,e.collectedStyles=new Map,e.collectedStyles.set(yD,new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0,s=[],o=[];return e.name.charAt(0)=="@"&&n.errors.push(AP()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(n),a.type==H.State){let l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,n))}),l.name=c}else if(a.type==H.Transition){let l=this.visitTransition(a,n);r+=l.queryCount,i+=l.depCount,o.push(l)}else n.errors.push(xP())}),{type:H.Trigger,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,n){let r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){let s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{ND(l).forEach(c=>{o.hasOwnProperty(c)||s.add(c)})})}),s.size&&n.errors.push(NP(e.name,[...s.values()]))}return{type:H.State,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;let r=Et(this,yo(e.animation),n),i=f1(e.expr,n.errors);return{type:H.Transition,matchers:i,animation:r,queryCount:n.queryCount,depCount:n.depCount,options:Br(e.options)}}visitSequence(e,n){return{type:H.Sequence,steps:e.steps.map(r=>Et(this,r,n)),options:Br(e.options)}}visitGroup(e,n){let r=n.currentTime,i=0,s=e.steps.map(o=>{n.currentTime=r;let a=Et(this,o,n);return i=Math.max(i,n.currentTime),a});return n.currentTime=i,{type:H.Group,steps:s,options:Br(e.options)}}visitAnimate(e,n){let r=w1(e.timings,n.errors);n.currentAnimateTimings=r;let i,s=e.styles?e.styles:Kf({});if(s.type==H.Keyframes)i=this.visitKeyframes(s,n);else{let o=e.styles,a=!1;if(!o){a=!0;let c={};r.easing&&(c.easing=r.easing),o=Kf(c)}n.currentTime+=r.duration+r.delay;let l=this.visitStyle(o,n);l.isEmptyStep=a,i=l}return n.currentAnimateTimings=null,{type:H.Animate,timings:r,style:i,options:null}}visitStyle(e,n){let r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){let r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ln?r.push(a):n.errors.push(RP(a)):r.push(new Map(Object.entries(a)));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s)){for(let l of a.values())if(l.toString().indexOf(AD)>=0){s=!0;break}}}),{type:H.Style,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){let r=n.currentAnimateTimings,i=n.currentTime,s=n.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{typeof o!="string"&&o.forEach((a,l)=>{let c=n.collectedStyles.get(n.currentQuerySelector),u=c.get(l),d=!0;u&&(s!=i&&s>=u.startTime&&i<=u.endTime&&(n.errors.push(OP(l,u.startTime,u.endTime,s,i)),d=!1),s=u.startTime),d&&c.set(l,{startTime:s,endTime:i}),n.options&&l1(a,n.options,n.errors)})})}visitKeyframes(e,n){let r={type:H.Keyframes,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(PP()),r;let i=1,s=0,o=[],a=!1,l=!1,c=0,u=e.steps.map(C=>{let j=this._makeStyleAst(C,n),ie=j.offset!=null?j.offset:_1(j.styles),J=0;return ie!=null&&(s++,J=j.offset=ie),l=l||J<0||J>1,a=a||J<c,c=J,o.push(J),j});l&&n.errors.push(FP()),a&&n.errors.push(kP());let d=e.steps.length,h=0;s>0&&s<d?n.errors.push(LP()):s==0&&(h=i/(d-1));let f=d-1,p=n.currentTime,m=n.currentAnimateTimings,D=m.duration;return u.forEach((C,j)=>{let ie=h>0?j==f?1:h*j:o[j],J=ie*D;n.currentTime=p+m.delay+J,m.duration=J,this._validateStyleAst(C,n),C.offset=ie,r.styles.push(C)}),r}visitReference(e,n){return{type:H.Reference,animation:Et(this,yo(e.animation),n),options:Br(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:H.AnimateChild,options:Br(e.options)}}visitAnimateRef(e,n){return{type:H.AnimateRef,animation:this.visitReference(e.animation,n),options:Br(e.options)}}visitQuery(e,n){let r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;let[s,o]=y1(e.selector);n.currentQuerySelector=r.length?r+" "+s:s,Dt(n.collectedStyles,n.currentQuerySelector,new Map);let a=Et(this,yo(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:H.Query,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Br(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(jP());let r=e.timings==="full"?{duration:0,delay:0,easing:"full"}:wc(e.timings,n.errors,!0);return{type:H.Stagger,animation:Et(this,yo(e.animation),n),timings:r,options:null}}};function y1(t){let e=!!t.split(/\s*,\s*/).find(n=>n==RD);return e&&(t=t.replace(g1,"")),t=t.replace(/@\*/g,_c).replace(/@\w+/g,n=>_c+"-"+n.slice(1)).replace(/:animating/g,np),[t,e]}function v1(t){return t?E({},t):null}var op=class{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}};function _1(t){if(typeof t=="string")return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){let r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}function w1(t,e){if(t.hasOwnProperty("duration"))return t;if(typeof t=="number"){let s=wc(t,e).duration;return Yf(s,0,"")}let n=t;if(n.split(/\s+/).some(s=>s.charAt(0)=="{"&&s.charAt(1)=="{")){let s=Yf(0,0,"");return s.dynamic=!0,s.strValue=n,s}let i=wc(n,e);return Yf(i.duration,i.delay,i.easing)}function Br(t){return t?(t=E({},t),t.params&&(t.params=v1(t.params))):t={},t}function Yf(t,e,n){return{duration:t,delay:e,easing:n}}function Cp(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}var wo=class{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}},E1=1,D1=":enter",C1=new RegExp(D1,"g"),b1=":leave",I1=new RegExp(b1,"g");function PD(t,e,n,r,i,s=new Map,o=new Map,a,l,c=[]){return new ap().buildKeyframes(t,e,n,r,i,s,o,a,l,c)}var ap=class{buildKeyframes(e,n,r,i,s,o,a,l,c,u=[]){c=c||new wo;let d=new lp(e,n,c,i,s,u,[]);d.options=l;let h=l.delay?xn(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([o],null,d.errors,l),Et(this,r,d);let f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){let D=f[m];if(D.element===n){p=D;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[Cp(n,[],[],[],0,h,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){let r=n.subInstructions.get(n.element);if(r){let i=n.createSubContext(e.options),s=n.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&n.transformIntoNewTimeline(o)}n.previousNode=e}visitAnimateRef(e,n){let r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(let i of e){let s=i?.delay;if(s){let o=typeof s=="number"?s:xn(_o(s,i?.params??{},n.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,n,r){let s=n.currentTimeline.currentTime,o=r.duration!=null?xn(r.duration):null,a=r.delay!=null?xn(r.delay):null;return o!==0&&e.forEach(l=>{let c=n.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Et(this,e.animation,n),n.previousNode=e}visitSequence(e,n){let r=n.subContextCount,i=n,s=e.options;if(s&&(s.params||s.delay)&&(i=n.createSubContext(s),i.transformIntoNewTimeline(),s.delay!=null)){i.previousNode.type==H.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Cc);let o=xn(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Et(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){let r=[],i=n.currentTimeline.currentTime,s=e.options&&e.options.delay?xn(e.options.delay):0;e.steps.forEach(o=>{let a=n.createSubContext(e.options);s&&a.delayNextStep(s),Et(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>n.currentTimeline.mergeTimelineCollectedStyles(o)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){let r=e.strValue,i=n.params?_o(r,n.params,n.errors):r;return wc(i,n.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){let r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());let s=e.style;s.type==H.Keyframes?this.visitKeyframes(s,n):(n.incrementTime(r.duration),this.visitStyle(s,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){let r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();let s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){let r=n.currentAnimateTimings,i=n.currentTimeline.duration,s=r.duration,a=n.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(l=>{let c=l.offset||0;a.forwardTime(c*s),a.setStyles(l.styles,l.easing,n.errors,n.options),a.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(a),n.transformIntoNewTimeline(i+s),n.previousNode=e}visitQuery(e,n){let r=n.currentTimeline.currentTime,i=e.options||{},s=i.delay?xn(i.delay):0;s&&(n.previousNode.type===H.Style||r==0&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=Cc);let o=r,a=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{n.currentQueryIndex=u;let d=n.createSubContext(e.options,c);s&&d.delayNextStep(s),c===n.element&&(l=d.currentTimeline),Et(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe();let h=d.currentTimeline.currentTime;o=Math.max(o,h)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(o),l&&(n.currentTimeline.mergeTimelineCollectedStyles(l),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){let r=n.parentContext,i=n.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(n.currentQueryTotal-1),l=o*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=r.currentStaggerTime;break}let u=n.currentTimeline;l&&u.delayNextStep(l);let d=u.currentTime;Et(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-d+(i.startTime-r.currentTimeline.startTime)}},Cc={},lp=class t{constructor(e,n,r,i,s,o,a,l){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Cc,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new bc(this._driver,n,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;let r=e,i=this.options;r.duration!=null&&(i.duration=xn(r.duration)),r.delay!=null&&(i.delay=xn(r.delay));let s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!n||!o.hasOwnProperty(a))&&(o[a]=_o(s[a],o,this.errors))})}}_copyOptions(){let e={};if(this.options){let n=this.options.params;if(n){let r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){let i=n||this.element,s=new t(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Cc,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){let i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new cp(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(C1,"."+this._enterClassName),e=e.replace(I1,"."+this._leaveClassName);let l=r!=1,c=this._driver.query(this.element,e,l);r!==0&&(c=r<0?c.slice(c.length+r,c.length):c.slice(0,r)),a.push(...c)}return!s&&a.length==0&&o.push(VP(n)),a}},bc=class t{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let n=this._keyframes.size===1&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=E1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||ln),this._currentKeyframe.set(n,ln);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);let s=i&&i.params||{},o=S1(e,this._globalTimelineStyles);for(let[a,l]of o){let c=_o(l,s,r);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ln),this._updateStyle(a,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{let i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,n=new Set,r=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let c=new Map([...this._backFill,...a]);c.forEach((u,d)=>{u===fc?e.add(d):u===ln&&n.add(d)}),r||c.set("offset",l/this.duration),i.push(c)});let s=[...e.values()],o=[...n.values()];if(r){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Cp(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}},cp=class extends bc{constructor(e,n,r,i,s,o,a=!1){super(e,n,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){let s=[],o=r+n,a=n/o,l=new Map(e[0]);l.set("offset",0),s.push(l);let c=new Map(e[0]);c.set("offset",vD(a)),s.push(c);let u=e.length-1;for(let d=1;d<=u;d++){let h=new Map(e[d]),f=h.get("offset"),p=n+f*r;h.set("offset",vD(p/o)),s.push(h)}r=o,n=0,i="",e=s}return Cp(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}};function vD(t,e=3){let n=Math.pow(10,e-1);return Math.round(t*n)/n}function S1(t,e){let n=new Map,r;return t.forEach(i=>{if(i==="*"){r??=e.keys();for(let s of r)n.set(s,ln)}else for(let[s,o]of i)n.set(s,o)}),n}function _D(t,e,n,r,i,s,o,a,l,c,u,d,h){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}var Zf={},Ic=class{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return T1(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,s,o,a,l,c,u){let d=[],h=this.ast.options&&this.ast.options.params||Zf,f=a&&a.params||Zf,p=this.buildStyles(r,f,d),m=l&&l.params||Zf,D=this.buildStyles(i,m,d),C=new Set,j=new Map,ie=new Map,J=i==="void",xe={params:FD(m,h),delay:this.ast.options?.delay},_e=u?[]:PD(e,n,this.ast.animation,s,o,p,D,xe,c,d),we=0;return _e.forEach(He=>{we=Math.max(He.duration+He.delay,we)}),d.length?_D(n,this._triggerName,r,i,J,p,D,[],[],j,ie,we,d):(_e.forEach(He=>{let pn=He.element,si=Dt(j,pn,new Set);He.preStyleProps.forEach(lr=>si.add(lr));let Wg=Dt(ie,pn,new Set);He.postStyleProps.forEach(lr=>Wg.add(lr)),pn!==n&&C.add(pn)}),_D(n,this._triggerName,r,i,J,p,D,_e,[...C.values()],j,ie,we))}};function T1(t,e,n,r,i){return t.some(s=>s(e,n,r,i))}function FD(t,e){let n=E({},e);return Object.entries(t).forEach(([r,i])=>{i!=null&&(n[r]=i)}),n}var up=class{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){let r=new Map,i=FD(e,this.defaultParams);return this.styles.styles.forEach(s=>{typeof s!="string"&&s.forEach((o,a)=>{o&&(o=_o(o,i,n));let l=this.normalizer.normalizePropertyName(a,n);o=this.normalizer.normalizeStyleValue(a,l,o,n),r.set(a,o)})}),r}};function M1(t,e,n){return new dp(t,e,n)}var dp=class{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{let s=i.options&&i.options.params||{};this.states.set(i.name,new up(i.style,s,r))}),wD(this.states,"true","1"),wD(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new Ic(e,i,this.states))}),this.fallbackTransition=A1(e,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(o=>o.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}};function A1(t,e,n){let r=[(o,a)=>!0],i={type:H.Sequence,steps:[],options:null},s={type:H.Transition,animation:i,matchers:r,options:null,queryCount:0,depCount:0};return new Ic(t,s,e)}function wD(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}var x1=new wo,hp=class{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){let r=[],i=[],s=OD(this._driver,n,r,i);if(r.length)throw zP(r);i.length&&void 0,this._animations.set(e,s)}_buildPlayer(e,n,r){let i=e.element,s=SD(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){let i=[],s=this._animations.get(e),o,a=new Map;if(s?(o=PD(this._driver,n,s,xD,tp,new Map,new Map,r,x1,i),o.forEach(u=>{let d=Dt(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(i.push(WP()),o=[]),i.length)throw GP(i);a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,ln))})});let l=o.map(u=>{let d=a.get(u.element);return this._buildPlayer(u,new Map,d)}),c=er(l);return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){let n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);let r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){let n=this._playersById.get(e);if(!n)throw qP(e);return n}listen(e,n,r,i){let s=vp(n,"","","");return yp(this._getPlayer(e),r,s,i),()=>{}}command(e,n,r,i){if(r=="register"){this.register(e,i[0]);return}if(r=="create"){let o=i[0]||{};this.create(e,n,o);return}let s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},ED="ng-animate-queued",N1=".ng-animate-queued",Xf="ng-animate-disabled",R1=".ng-animate-disabled",O1="ng-star-inserted",P1=".ng-star-inserted",F1=[],kD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},k1={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ht="__ng_removed",Eo=class{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;let r=e&&e.hasOwnProperty("value"),i=r?e.value:e;if(this.value=j1(i),r){let s=e,{value:o}=s,a=ia(s,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let n=e.params;if(n){let r=this.options.params;Object.keys(n).forEach(i=>{r[i]==null&&(r[i]=n[i])})}}},vo="void",Jf=new Eo(vo),fp=class{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Nt(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw KP(r,n);if(r==null||r.length==0)throw QP(n);if(!V1(r))throw YP(r,n);let s=Dt(this._elementListeners,e,[]),o={name:n,phase:r,callback:i};s.push(o);let a=Dt(this._engine.statesByElement,e,new Map);return a.has(n)||(Nt(e,pc),Nt(e,pc+"-"+n),a.set(n,Jf)),()=>{this._engine.afterFlush(()=>{let l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers.has(n)||a.delete(n)})}}register(e,n){return this._triggers.has(e)?!1:(this._triggers.set(e,n),!0)}_getTrigger(e){let n=this._triggers.get(e);if(!n)throw ZP(e);return n}trigger(e,n,r,i=!0){let s=this._getTrigger(n),o=new Do(this.id,n,e),a=this._engine.statesByElement.get(e);a||(Nt(e,pc),Nt(e,pc+"-"+n),this._engine.statesByElement.set(e,a=new Map));let l=a.get(n),c=new Eo(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(n,c),l||(l=Jf),!(c.value===vo)&&l.value===c.value){if(!$1(l.params,c.params)){let m=[],D=s.matchStyles(l.value,l.params,m),C=s.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Ur(e,D),cn(e,C)})}return}let h=Dt(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==n&&m.queued&&m.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!i)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(Nt(e,ED),o.onStart(()=>{qi(e,ED)})),o.onDone(()=>{let m=this.players.indexOf(o);m>=0&&this.players.splice(m,1);let D=this._engine.playersByElement.get(e);if(D){let C=D.indexOf(o);C>=0&&D.splice(C,1)}}),this.players.push(o),h.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){let r=this._engine.driver.query(e,_c,!0);r.forEach(i=>{if(i[Ht])return;let s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){let s=this._engine.statesByElement.get(e),o=new Map;if(s){let a=[];if(s.forEach((l,c)=>{if(o.set(c,l.value),this._triggers.has(c)){let u=this.trigger(e,c,vo,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,o),r&&er(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){let i=new Set;n.forEach(s=>{let o=s.name;if(i.has(o))return;i.add(o);let l=this._triggers.get(o).fallbackTransition,c=r.get(o)||Jf,u=new Eo(vo),d=new Do(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,n){let r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){let s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{let s=e[Ht];(!s||s===kD)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){Nt(e,this._hostClassName)}drainQueuedTransitions(e){let n=[];return this._queue.forEach(r=>{let i=r.player;if(i.destroyed)return;let s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){let l=vp(s,r.triggerName,r.fromState.value,r.toState.value);l._data=e,yp(r.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{let s=r.transition.ast.depCount,o=i.transition.ast.depCount;return s==0||o==0?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},pp=class{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r,i){this.bodyNode=e,this.driver=n,this._normalizer=r,this.scheduler=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,o)=>{}}get queuedPlayers(){let e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){let r=new fp(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){let r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(n);for(;a;){let l=i.get(a);if(l){let c=r.indexOf(l);r.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);let i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let n=new Set,r=this.statesByElement.get(e);if(r){for(let i of r.values())if(i.namespaceId){let s=this._fetchNamespace(i.namespaceId);s&&n.add(s)}}return n}trigger(e,n,r,i){if(yc(n)){let s=this._fetchNamespace(e);if(s)return s.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!yc(n))return;let s=n[Ht];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;let o=this.collectedLeaveElements.indexOf(n);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){let o=this._fetchNamespace(e);o&&o.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Nt(e,Xf)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qi(e,Xf))}removeNode(e,n,r){if(yc(n)){this.scheduler?.notify();let i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);let s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,s){this.collectedLeaveElements.push(n),n[Ht]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,r,i,s){return yc(n)?this._fetchNamespace(e).listen(n,r,i,s):()=>{}}_buildInstruction(e,n,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,_c,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),this.playersByQueriedElement.size!=0&&(n=this.driver.query(e,np,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){let n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){let n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return er(this.players).onDone(()=>e());e()})}processLeaveNode(e){let n=e[Ht];if(n&&n.setForRemoval){if(e[Ht]=kD,n.namespaceId){this.destroyInnerAnimations(e);let r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(Xf)&&this.markElementAsDisabled(e,!1),this.driver.query(e,R1,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++){let i=this.collectedEnterElements[r];Nt(i,O1)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++){let i=this.collectedLeaveElements[r];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){let r=this._whenQuietFns;this._whenQuietFns=[],n.length?er(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw XP(e)}_flushAnimations(e,n){let r=new wo,i=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(b=>{u.add(b);let T=this.driver.query(b,N1,!0);for(let M=0;M<T.length;M++)u.add(T[M])});let d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=bD(h,this.collectedEnterElements),p=new Map,m=0;f.forEach((b,T)=>{let M=xD+m++;p.set(T,M),b.forEach(Z=>Nt(Z,M))});let D=[],C=new Set,j=new Set;for(let b=0;b<this.collectedLeaveElements.length;b++){let T=this.collectedLeaveElements[b],M=T[Ht];M&&M.setForRemoval&&(D.push(T),C.add(T),M.hasAnimation?this.driver.query(T,P1,!0).forEach(Z=>C.add(Z)):j.add(T))}let ie=new Map,J=bD(h,Array.from(C));J.forEach((b,T)=>{let M=tp+m++;ie.set(T,M),b.forEach(Z=>Nt(Z,M))}),e.push(()=>{f.forEach((b,T)=>{let M=p.get(T);b.forEach(Z=>qi(Z,M))}),J.forEach((b,T)=>{let M=ie.get(T);b.forEach(Z=>qi(Z,M))}),D.forEach(b=>{this.processLeaveNode(b)})});let xe=[],_e=[];for(let b=this._namespaceList.length-1;b>=0;b--)this._namespaceList[b].drainQueuedTransitions(n).forEach(M=>{let Z=M.player,Ne=M.element;if(xe.push(Z),this.collectedEnterElements.length){let ze=Ne[Ht];if(ze&&ze.setForMove){if(ze.previousTriggersValues&&ze.previousTriggersValues.has(M.triggerName)){let cr=ze.previousTriggersValues.get(M.triggerName),bt=this.statesByElement.get(M.element);if(bt&&bt.has(M.triggerName)){let ra=bt.get(M.triggerName);ra.value=cr,bt.set(M.triggerName,ra)}}Z.destroy();return}}let Yt=!d||!this.driver.containsElement(d,Ne),dt=ie.get(Ne),Fn=p.get(Ne),pe=this._buildInstruction(M,r,Fn,dt,Yt);if(pe.errors&&pe.errors.length){_e.push(pe);return}if(Yt){Z.onStart(()=>Ur(Ne,pe.fromStyles)),Z.onDestroy(()=>cn(Ne,pe.toStyles)),i.push(Z);return}if(M.isFallbackTransition){Z.onStart(()=>Ur(Ne,pe.fromStyles)),Z.onDestroy(()=>cn(Ne,pe.toStyles)),i.push(Z);return}let Kg=[];pe.timelines.forEach(ze=>{ze.stretchStartingKeyframe=!0,this.disabledNodes.has(ze.element)||Kg.push(ze)}),pe.timelines=Kg,r.append(Ne,pe.timelines);let kI={instruction:pe,player:Z,element:Ne};o.push(kI),pe.queriedElements.forEach(ze=>Dt(a,ze,[]).push(Z)),pe.preStyleProps.forEach((ze,cr)=>{if(ze.size){let bt=l.get(cr);bt||l.set(cr,bt=new Set),ze.forEach((ra,Du)=>bt.add(Du))}}),pe.postStyleProps.forEach((ze,cr)=>{let bt=c.get(cr);bt||c.set(cr,bt=new Set),ze.forEach((ra,Du)=>bt.add(Du))})});if(_e.length){let b=[];_e.forEach(T=>{b.push(JP(T.triggerName,T.errors))}),xe.forEach(T=>T.destroy()),this.reportError(b)}let we=new Map,He=new Map;o.forEach(b=>{let T=b.element;r.has(T)&&(He.set(T,T),this._beforeAnimationBuild(b.player.namespaceId,b.instruction,we))}),i.forEach(b=>{let T=b.element;this._getPreviousPlayers(T,!1,b.namespaceId,b.triggerName,null).forEach(Z=>{Dt(we,T,[]).push(Z),Z.destroy()})});let pn=D.filter(b=>ID(b,l,c)),si=new Map;CD(si,this.driver,j,c,ln).forEach(b=>{ID(b,l,c)&&pn.push(b)});let lr=new Map;f.forEach((b,T)=>{CD(lr,this.driver,new Set(b),l,fc)}),pn.forEach(b=>{let T=si.get(b),M=lr.get(b);si.set(b,new Map([...T?.entries()??[],...M?.entries()??[]]))});let Eu=[],Gg=[],qg={};o.forEach(b=>{let{element:T,player:M,instruction:Z}=b;if(r.has(T)){if(u.has(T)){M.onDestroy(()=>cn(T,Z.toStyles)),M.disabled=!0,M.overrideTotalTime(Z.totalTime),i.push(M);return}let Ne=qg;if(He.size>1){let dt=T,Fn=[];for(;dt=dt.parentNode;){let pe=He.get(dt);if(pe){Ne=pe;break}Fn.push(dt)}Fn.forEach(pe=>He.set(pe,Ne))}let Yt=this._buildAnimation(M.namespaceId,Z,we,s,lr,si);if(M.setRealPlayer(Yt),Ne===qg)Eu.push(M);else{let dt=this.playersByElement.get(Ne);dt&&dt.length&&(M.parentPlayer=er(dt)),i.push(M)}}else Ur(T,Z.fromStyles),M.onDestroy(()=>cn(T,Z.toStyles)),Gg.push(M),u.has(T)&&i.push(M)}),Gg.forEach(b=>{let T=s.get(b.element);if(T&&T.length){let M=er(T);b.setRealPlayer(M)}}),i.forEach(b=>{b.parentPlayer?b.syncPlayerEvents(b.parentPlayer):b.destroy()});for(let b=0;b<D.length;b++){let T=D[b],M=T[Ht];if(qi(T,tp),M&&M.hasAnimation)continue;let Z=[];if(a.size){let Yt=a.get(T);Yt&&Yt.length&&Z.push(...Yt);let dt=this.driver.query(T,np,!0);for(let Fn=0;Fn<dt.length;Fn++){let pe=a.get(dt[Fn]);pe&&pe.length&&Z.push(...pe)}}let Ne=Z.filter(Yt=>!Yt.destroyed);Ne.length?B1(this,T,Ne):this.processLeaveNode(T)}return D.length=0,Eu.forEach(b=>{this.players.push(b),b.onDone(()=>{b.destroy();let T=this.players.indexOf(b);this.players.splice(T,1)}),b.play()}),Eu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,s){let o=[];if(n){let a=this.playersByQueriedElement.get(e);a&&(o=a)}else{let a=this.playersByElement.get(e);if(a){let l=!s||s==vo;a.forEach(c=>{c.queued||!l&&c.triggerName!=i||o.push(c)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,n,r){let i=n.triggerName,s=n.element,o=n.isRemovalTransition?void 0:e,a=n.isRemovalTransition?void 0:i;for(let l of n.timelines){let c=l.element,u=c!==s,d=Dt(r,c,[]);this._getPreviousPlayers(c,u,o,a,n.toState).forEach(f=>{let p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Ur(s,n.fromStyles)}_buildAnimation(e,n,r,i,s,o){let a=n.triggerName,l=n.element,c=[],u=new Set,d=new Set,h=n.timelines.map(p=>{let m=p.element;u.add(m);let D=m[Ht];if(D&&D.removedBeforeQueried)return new Jn(p.duration,p.delay);let C=m!==l,j=U1((r.get(m)||F1).map(we=>we.getRealPlayer())).filter(we=>{let He=we;return He.element?He.element===m:!1}),ie=s.get(m),J=o.get(m),xe=SD(this._normalizer,p.keyframes,ie,J),_e=this._buildPlayer(p,xe,j);if(p.subTimeline&&i&&d.add(m),C){let we=new Do(e,a,m);we.setRealPlayer(_e),c.push(we)}return _e});c.forEach(p=>{Dt(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>L1(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>Nt(p,mD));let f=er(h);return f.onDestroy(()=>{u.forEach(p=>qi(p,mD)),cn(l,n.toStyles)}),d.forEach(p=>{Dt(i,p,[]).push(f)}),f}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new Jn(e.duration,e.delay)}},Do=class{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new Jn,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>yp(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Dt(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let n=this._player;n.triggerCallback&&n.triggerCallback(e)}};function L1(t,e,n){let r=t.get(e);if(r){if(r.length){let i=r.indexOf(n);r.splice(i,1)}r.length==0&&t.delete(e)}return r}function j1(t){return t??null}function yc(t){return t&&t.nodeType===1}function V1(t){return t=="start"||t=="done"}function DD(t,e){let n=t.style.display;return t.style.display=e??"none",n}function CD(t,e,n,r,i){let s=[];n.forEach(l=>s.push(DD(l)));let o=[];r.forEach((l,c)=>{let u=new Map;l.forEach(d=>{let h=e.computeStyle(c,d,i);u.set(d,h),(!h||h.length==0)&&(c[Ht]=k1,o.push(c))}),t.set(c,u)});let a=0;return n.forEach(l=>DD(l,s[a++])),o}function bD(t,e){let n=new Map;if(t.forEach(a=>n.set(a,[])),e.length==0)return n;let r=1,i=new Set(e),s=new Map;function o(a){if(!a)return r;let l=s.get(a);if(l)return l;let c=a.parentNode;return n.has(c)?l=c:i.has(c)?l=r:l=o(c),s.set(a,l),l}return e.forEach(a=>{let l=o(a);l!==r&&n.get(l).push(a)}),n}function Nt(t,e){t.classList?.add(e)}function qi(t,e){t.classList?.remove(e)}function B1(t,e,n){er(n).onDone(()=>t.processLeaveNode(e))}function U1(t){let e=[];return LD(t,e),e}function LD(t,e){for(let n=0;n<t.length;n++){let r=t[n];r instanceof go?LD(r.players,e):e.push(r)}}function $1(t,e){let n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){let s=n[i];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}function ID(t,e,n){let r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(s=>i.add(s)):e.set(t,r),n.delete(t),!0}var Qi=class{constructor(e,n,r,i){this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(s,o)=>{},this._transitionEngine=new pp(e.body,n,r,i),this._timelineEngine=new hp(e.body,n,r),this._transitionEngine.onRemovalComplete=(s,o)=>this.onRemovalComplete(s,o)}registerTrigger(e,n,r,i,s){let o=e+"-"+i,a=this._triggerCache[o];if(!a){let l=[],c=[],u=OD(this._driver,s,l,c);if(l.length)throw $P(i,l);c.length&&void 0,a=M1(i,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(n,i,a)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if(r.charAt(0)=="@"){let[s,o]=fD(r),a=i;this._timelineEngine.command(s,n,o,a)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,s){if(r.charAt(0)=="@"){let[o,a]=fD(r);return this._timelineEngine.listen(o,n,a,s)}return this._transitionEngine.listen(e,n,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function H1(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=ep(e[0]),e.length>1&&(r=ep(e[e.length-1]))):e instanceof Map&&(n=ep(e)),n||r?new mp(t,n,r):null}var Ki=class Ki{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=Ki.initialStylesByElement.get(e);i||Ki.initialStylesByElement.set(e,i=new Map),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&cn(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(cn(this._element,this._initialStyles),this._endStyles&&(cn(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Ki.initialStylesByElement.delete(this._element),this._startStyles&&(Ur(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ur(this._element,this._endStyles),this._endStyles=null),cn(this._element,this._initialStyles),this._state=3)}};Ki.initialStylesByElement=new WeakMap;var mp=Ki;function ep(t){let e=null;return t.forEach((n,r)=>{z1(r)&&(e=e||new Map,e.set(r,n))}),e}function z1(t){return t==="display"||t==="position"}var Sc=class{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let n=()=>this._onFinish();this.domPlayer.addEventListener("finish",n),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",n)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{i!=="offset"&&e.set(i,this._finished?r:Dp(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let n=e==="start"?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}},Tc=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return TD(e,n)}getParentElement(e){return _p(e)}query(e,n,r){return MD(e,n,r)}computeStyle(e,n,r){return Dp(e,n)}animate(e,n,r,i,s,o=[]){let a=i==0?"both":"forwards",l={duration:r,delay:i,fill:a};s&&(l.easing=s);let c=new Map,u=o.filter(f=>f instanceof Sc);u1(r,i)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=a1(n).map(f=>new Map(f));d=d1(e,d,c);let h=H1(e,d);return new Sc(e,d,l,h)}};var vc="@",jD="@.disabled",Mc=class{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i,this.\u0275type=0}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){n.charAt(0)==vc&&n==jD?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}},gp=class extends Mc{constructor(e,n,r,i,s){super(n,r,i,s),this.factory=e,this.namespaceId=n}setProperty(e,n,r){n.charAt(0)==vc?n.charAt(1)=="."&&n==jD?(r=r===void 0?!0:!!r,this.disableAnimations(e,r)):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if(n.charAt(0)==vc){let i=W1(e),s=n.slice(1),o="";return s.charAt(0)!=vc&&([s,o]=G1(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{let l=a._data||-1;this.factory.scheduleListenerCallback(l,r,a)})}return this.delegate.listen(e,n,r)}};function W1(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}function G1(t){let e=t.indexOf("."),n=t.substring(0,e),r=t.slice(e+1);return[n,r]}var Ac=class{constructor(e,n,r){this.delegate=e,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,n.onRemovalComplete=(i,s)=>{let o=s?.parentNode(i);o&&s.removeChild(o,i)}}createRenderer(e,n){let r="",i=this.delegate.createRenderer(e,n);if(!e||!n?.data?.animation){let c=this._rendererCache,u=c.get(i);if(!u){let d=()=>c.delete(i);u=new Mc(r,i,this.engine,d),c.set(i,u)}return u}let s=n.id,o=n.id+"-"+this._currentId;this._currentId++,this.engine.register(o,e);let a=c=>{Array.isArray(c)?c.forEach(a):this.engine.registerTrigger(s,o,e,c.name,c)};return n.data.animation.forEach(a),new gp(this,o,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,n,r){if(e>=0&&e<this._microtaskId){this._zone.run(()=>n(r));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(s=>{let[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),i.push([n,r])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}};var K1=(()=>{let e=class e extends Qi{constructor(r,i,s){super(r,i,s,g(Os,{optional:!0}))}ngOnDestroy(){this.flush()}};e.\u0275fac=function(i){return new(i||e)(U(qe),U($r),U(Hr))},e.\u0275prov=I({token:e,factory:e.\u0275fac});let t=e;return t})();function Q1(){return new Ec}function Y1(t,e,n){return new Ac(t,e,n)}var VD=[{provide:Hr,useFactory:Q1},{provide:Qi,useClass:K1},{provide:Ir,useFactory:Y1,deps:[Kl,Qi,he]}],Z1=[{provide:$r,useFactory:()=>new Tc},{provide:mh,useValue:"BrowserAnimations"},...VD],ZW=[{provide:$r,useClass:wp},{provide:mh,useValue:"NoopAnimations"},...VD];function BD(){return[...Z1]}var X1=["*"],un=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-page"]],standalone:!0,features:[ne],ngContentSelectors:X1,decls:1,vars:0,template:function(i,s){i&1&&(Ll(),jl(0))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block;margin-top:3rem;margin-bottom:3rem;display:flex;width:100%;flex-direction:column;padding-left:1.5rem;padding-right:1.5rem}@media (min-width: 1024px){[_nghost-%COMP%]{margin-left:auto;margin-right:auto;max-width:80rem;padding-left:6rem;padding-right:6rem}}"],changeDetection:0});let t=e;return t})();function J1(t,e){return this.selected}function eF(t,e){t&1&&k(0,"div",3)}var tF=(t,e)=>({"font-semibold opacity-100":t,"opacity-70":e});function nF(t,e){if(t&1){let n=sn();v(0,"button",1),Ie("click",function(){let s=tn(n).$implicit,o=Ee();return nn(o.optionChange.emit(s.value))}),v(1,"span"),S(2),w(),Ae(3,eF,1,0,"div",2),w()}if(t&2){let n=e.$implicit,r=Ee();ue("ngClass",zh(3,tF,n.value===r.selected,n.value!==r.selected)),F(2),_t(n.label),F(),Be(3,n.value===r.selected&&r.mode==="main"?3:-1)}}var rF=(t,e)=>({"text-lg lg:text-xl":t,"text-md text-secondary lg:text-lg":e}),UD=(()=>{let e=class e{constructor(){this.options=[],this.mode="main",this.optionChange=new be}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-select"]],inputs:{selected:"selected",options:"options",mode:"mode"},outputs:{optionChange:"optionChange"},standalone:!0,features:[ne],decls:3,vars:4,consts:[[1,"-mx-4","flex","flex-row","flex-wrap","items-start",3,"ngClass"],[1,"relative","mx-1","p-2","text-left","lg:mx-3",3,"ngClass","click"],["class","absolute h-[1px] w-6 bg-primary"],[1,"absolute","h-[1px]","w-6","bg-primary"],["class","relative mx-1 p-2 text-left lg:mx-3",3,"ngClass"]],template:function(i,s){i&1&&(v(0,"div",0),yt(1,nF,4,6,"button",4,J1,!0),w()),i&2&&(ue("ngClass",zh(1,rF,s.mode==="main",s.mode==="alt")),F(),vt(s.options))},dependencies:[le,Hl],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var $D=(()=>{let e=class e{constructor(){this.sort=Tn("kmAsc"),this.filter=Tn("hotel"),this.filteredHostings=Aw(()=>{let r=this.hostings().filter(i=>this.filter()===i.type);return this.sort()==="kmAsc"?r=r.sort((i,s)=>i.distanceKM-s.distanceKM):this.sort()==="priceAsc"?r=r.sort((i,s)=>i.priceRange-s.priceRange):this.sort()==="priceDesc"&&(r=r.sort((i,s)=>s.priceRange-i.priceRange)),r}),this.hostings=Tn(iF)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),iF=[{title:"H\xF4tel du Dauphin",description:"De pr\xE9f\xE9rence, r\xE9server au 02 33 84 18 00",address:{street:"Place De La Halle",city:"61300 L'Aigle"},distanceKM:7,priceRange:2,type:"hotel",stars:3,url:"https://aigle.brithotel.fr/",image:"hotel-dauphin.jpg"},{title:"H\xF4tel du Cygne",address:{street:"31 rue Saint Barth\xE9l\xE9my",city:"61300 L'Aigle"},distanceKM:7,priceRange:1,type:"hotel",stars:2,url:"https://hotelrestaurantducygne-laigle.fr/",image:"hotel-cygne.jpg"},{title:"Le Clos Saint-Germain",description:"",address:{street:"3 rue Georges Cl\xE9menceau ",city:"27250 Rugles"},distanceKM:7,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/le-clos-saint-germain-rugles.fr.html",image:"clos-st-germain.jpg"},{title:"L'\xC9vidence",description:"Avec piscine",address:{street:"13 rue du G\xE9n\xE9ral de Gaulle ",city:"27250 Rugles"},distanceKM:7,priceRange:3,type:"cottage",url:"https://sonata.hotel-detail-check.com/maison-d-39-hotes-l-39-evidence-france",image:"evidence.jpg"},{title:"G\xEEte en Normandie",description:"Maison pour 3 personnes",address:{street:"rue du Bois des Brosses. ",city:"27250 Rugles"},distanceKM:7,priceRange:3,type:"cottage",url:"https://www.booking.com/hotel/fr/gite-en-normandie.fr.html",image:"gite-normandie.jpg"},{title:"Logement plain-pied nature",description:"190 \u20AC pour 2 nuits, 4 personnes.",address:{city:"Saint-Martin d'Ecublei",street:""},distanceKM:2,priceRange:2,type:"cottage",url:"https://www.airbnb.fr/rooms/949873916941254957?source_impression_id=p3_1708452908_H5mauOle%2F86daN8I",image:"logement-plain-pied.webp"},{title:"Ch\xE2teau de Transi\xE8res",description:"Avec piscine",address:{city:"27250 Ambenai",street:""},distanceKM:6,priceRange:3,type:"cottage",url:"https://www.booking.com/hotel/fr/chambre-d-hote-chateau-de-transieres.fr.html",image:"transieres.jpg"},{title:"Escale normande - Chez Michelle",description:"Sur airbnb ou au 07 60 60 91 57",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/4372673",image:"chez-michelle.webp"},{title:"Studio Terrasse",description:"130 \u20AC pour 2 nuits",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/43555831",image:"studio-terrasse.webp"},{title:"Centre L'Aigle",description:"170 \u20AC pour 2 personnes, 240 \u20AC pour 6 personnes",address:{city:"61300 L'Aigle",street:""},distanceKM:7,priceRange:2,type:"cottage",url:"https://www.airbnb.fr/rooms/581061254175552330",image:"agreable-maison.webp"},{title:"Petit manoir chez Dom",address:{city:"61550 Saint-Nicolas-de-Sommaire",street:""},distanceKM:9,priceRange:2,type:"cottage",url:"https://fr.airbnb.ca/rooms/933949922193254845",image:"chez-dom.webp"},{title:"Rouge Maison",description:"Plusieurs chambres (90 \u20AC) et g\xEEte 4 personnes (130 \u20AC).",address:{street:"5 route de Rouge Maison 5 D45",city:"27330 Bois-Normand-pr\xE8s-Lyre"},distanceKM:15,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/rouge-maison-bois-normand-pres-lyre.fr.html",image:"rouge.jpg"},{title:"Maison Myjune Cosy cottage \xE0 Rai",description:"Pour 4 personnes, 2 chambres, 100 m2.",address:{city:"61270 Rai",street:""},distanceKM:12,priceRange:3,type:"cottage",url:"https://www.airbnb.fr/rooms/939788327535250397",image:"rai.webp"},{title:"Roulotte",description:"Pour 4 personnes",address:{street:"Le Pr\xE9amont Couvains",city:"61550 Marnefer"},distanceKM:16,priceRange:1,type:"cottage",url:"https://www.booking.com/hotel/fr/roulotte-la-ferte-en-ouche.fr.html",image:"roulotte.jpg"},{title:"Ch\xE2teau du Mesnil",address:{street:"2 rue du chat",city:"27330 La Vieille-Lyre"},distanceKM:15,priceRange:2,type:"cottage",url:"https://fr.hotels.com/ho675874/chateau-du-mesnil-la-vieille-lyre-france/",image:"mesnil.png"},{title:"Chambre et chevaux chez Mina",address:{city:"27250 Chambord",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/32467314",image:"mina.webp"},{title:"Chambre d'h\xF4tes Le Buisson",description:"Chambre de charme \xE0 la ferme",address:{city:"61270 \xC9corcei",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.charme-traditions.com/fr/chambres-d-hotes/org/2996/le-buisson",image:"chambres-d-hotes-le-buisson.jpg"},{title:"G\xEEte familial ind\xE9pendant \xE0 la ferme",description:"De 1 \xE0 6 personnes",address:{city:"61270 La Chapelle-Viel",street:""},distanceKM:15,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/939790362438355126",image:"gite-familial.webp"},{title:"Le B\xF4quet",description:"Pour 4 personnes (3 lits)",address:{city:"27330 La Haye-Saint-Sylvestre",street:""},distanceKM:18,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/24985538",image:"leboquet.webp"},{title:"Petite maison de campagne",description:"Pour 3 personnes",address:{city:"La Fert\xE9-en-Ouche",street:""},distanceKM:19,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/988261894495082650",image:"petite-maison.webp"},{title:"Four \xE0 pain",description:"2 nuits minimum",address:{city:"61190 Irai",street:""},distanceKM:19,priceRange:1,type:"cottage",url:"https://www.airbnb.fr/rooms/43911360",image:"fourapain.webp"},{title:"Au Manoir de la Barre",address:{street:"1 Grande Rue",city:"27330 La Barre-en-Ouche"},distanceKM:20,priceRange:2,type:"cottage",url:"https://www.booking.com/hotel/fr/au-manoir-de-la-barre.tl.html",image:"la-barre.jpg"},{title:"Ch\xE2teau du Blanc Buisson",address:{city:"27330 Mesnil-en-Ouche",street:""},distanceKM:20,priceRange:3,type:"cottage",url:"https://www.blancbuisson.com/",image:"blancbuisson.jpg"},{title:"Le Garance",address:{street:"66 rue Cl\xE9menceau",city:"27160 Breteuil"},distanceKM:20,priceRange:1,type:"cottage",url:"https://www.legarance.fr/",image:"garance.jpg"},{title:"Chez \xC9lo",description:"Maison 100m2 avec jardin pour 6 personnes (3 chambres). 2 nuits minimum",address:{city:"61300 Saint-Martin d'\xC9cublei",street:""},distanceKM:2,priceRange:1,type:"house",url:"https://www.airbnb.fr/rooms/761435425357926103",image:"elo.jpg"},{title:"Maison de 3 chambres",description:"Avec jardin clos. Maison 3 chambres pour 6 personnes. 2 nuits minimum",address:{street:"12 rue des Landes",city:"27250 Ch\xE9ronvilliers"},distanceKM:7,priceRange:1,type:"house",url:"https://www.airbnb.fr/rooms/7926855",image:"maison3chambre.webp"},{title:"G\xEEte normand avec piscine couverte",description:"6 personnes. 2 nuits minimum",address:{city:"27250 Neaufles-Auvergny",street:""},distanceKM:9,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/35434478",image:"gitenormand.webp"},{title:"Maison d'h\xF4tes",description:"Avec jardin, 6 personnes, 3 chambres",address:{street:" Rue du Moulin",city:"61300 Crulai"},distanceKM:15,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/10241453",image:"maisonhotes.jpg"},{title:"La Grange du Bois Germain",description:"Villa 4 chambres. 2 nuits minimum. 06 48 67 10 36",address:{street:"1A route des Platanes",city:"27250 Saint-Antonin-de-Sommaire"},distanceKM:6,priceRange:2,type:"house",url:"https://www.airbnb.fr/rooms/852979640002839649",image:"grange.webp"},{title:"Le Refuge de l'Abbaye",description:"G\xEEte ou chambres individuelles. 06 85 19 55 13",address:{city:"61550 Saint-Evroult-Notre-Dame-du-Bois",street:""},distanceKM:20,priceRange:2,type:"house",url:"https://www.gites-de-france-orne.com/location-vacances-Gite-Saint-evroult-notre-dame-du-bois-61G880.html",image:"le-refuge.jpg"},{title:"L'Ajoussienne",description:"Maison de 3 chambres pour 6 personnes",address:{street:" 2 route de Bernay",city:"27410 Ajou"},distanceKM:23,priceRange:1,type:"house",url:"https://www.lajoussienne.com/",image:"ajou.webp"}];var HD=(()=>{let e=class e{transform(r){return"\u20AC".repeat(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=rh({name:"priceRange",type:e,pure:!0,standalone:!0});let t=e;return t})();function sF(t,e){t&1&&k(0,"img",1)}var oF=()=>[],zD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-stars"]],inputs:{stars:"stars"},standalone:!0,features:[ne],decls:3,vars:1,consts:[[1,"flex","flex-row","text-primary"],["src","assets/star.svg","alt","star",1,"w-4","text-red-400"],["class","w-4 text-red-400","src","assets/star.svg","alt","star"]],template:function(i,s){i&1&&(v(0,"div",0),yt(1,sF,1,0,"img",2,Pi),w()),i&2&&(F(),vt(Vl(0,oF).constructor(s.stars)))},dependencies:[le],styles:["[_nghost-%COMP%]{display:inline-block}"],changeDetection:0});let t=e;return t})();function aF(t,e){if(t&1&&k(0,"app-stars",9),t&2){let n=Ee();ue("stars",n.hosting.stars)}}function lF(t,e){if(t&1&&S(0),t&2){let n=Ee();Rr(" ",n.hosting.address.street,", ")}}function cF(t,e){if(t&1&&(v(0,"div",10),S(1),w()),t&2){let n=Ee();F(),_t(n.hosting.description)}}var WD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-hosting-card"]],inputs:{hosting:"hosting"},standalone:!0,features:[ne],decls:17,vars:12,consts:[["target","_blank",1,"flex","max-w-xl","flex-1","flex-col","overflow-hidden","rounded-md","bg-primaryLighter","transition-all","hover:scale-[101%]","hover:cursor-pointer","lg:flex-row",3,"href"],[1,"aspect-video","object-cover","lg:aspect-square","lg:w-48","lg:max-w-60",3,"src","alt"],[1,"mx-5","my-4","flex","flex-1","flex-col","text-sm"],[1,"text-xl","font-medium"],["class","ml-2",3,"stars"],[1,"mt-1"],[1,"font-semibold"],[1,"mt-2"],["class","mt-2 italic"],[1,"ml-2",3,"stars"],[1,"mt-2","italic"]],template:function(i,s){i&1&&(v(0,"a",0),k(1,"img",1),v(2,"div",2)(3,"div",3),S(4),Ae(5,aF,1,1,"app-stars",4),w(),v(6,"div",5),S(7," Prix : "),v(8,"span",6),S(9),qw(10,"priceRange"),w()(),v(11,"div",7),Ae(12,lF,1,1),S(13),v(14,"span"),S(15),w()(),Ae(16,cF,2,1,"div",8),w()()),i&2&&(ue("href",s.hosting.url,rn),F(),ue("src","assets/images/"+s.hosting.image,rn)("alt",s.hosting.title),F(3),Rr(" ",s.hosting.title," "),F(),Be(5,s.hosting.type==="hotel"&&s.hosting.stars!==void 0?5:-1),F(4),_t(Kw(10,10,s.hosting.priceRange)),F(3),Be(12,s.hosting.address.street?12:-1),F(),Rr(" ",s.hosting.address.city," \u2013 "),F(2),Rr("\xC0 ",s.hosting.distanceKM,"\xA0km d'Herponcey"),F(),Be(16,s.hosting.description?16:-1))},dependencies:[le,HD,zD],styles:["[_nghost-%COMP%]{display:flex;align-self:stretch}"],changeDetection:0});let t=e;return t})();var uF=(t,e)=>e.title;function dF(t,e){if(t&1&&k(0,"app-hosting-card",5),t&2){let n=e.$implicit;ue("hosting",n)}}var GD=(()=>{let e=class e{constructor(){this.hostingsService=g($D),this.filtersOptions=[{label:"Les h\xF4tels",value:"hotel"},{label:"Les chambres d'h\xF4tes",value:"cottage"},{label:"Les maisons",value:"house"}],this.sortOptions=[{label:"les plus proches",value:"kmAsc"},{label:"par prix croissants",value:"priceAsc"},{label:"par prix d\xE9croissants",value:"priceDesc"}]}setFilter(r){this.hostingsService.filter.set(r)}setSort(r){this.hostingsService.sort.set(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-hostings"]],standalone:!0,features:[ne],decls:22,vars:4,consts:[[1,"text-center"],[1,"italic"],[1,"",3,"selected","options","optionChange"],["mode","alt",1,"",3,"selected","options","optionChange"],[1,"hostings-grid","mt-10","grid","items-center","justify-center","gap-8"],[1,"",3,"hosting"],["class","",3,"hosting"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1"),S(2,"Les h\xE9bergements"),w(),v(3,"p",0),S(4," Voici quelques suggestions d'h\xE9bergements pour votre s\xE9jour en Normandie."),k(5,"br")(6,"br"),S(7," Pour chaque h\xE9bergement, vous trouverez une fourchette de prix indicatifs (de \u20AC \xE0 \u20AC\u20AC\u20AC) ainsi que la distance par rapport au lieu de r\xE9ception. Les prix indiqu\xE9s datent de f\xE9vrier 2024. "),w(),v(8,"p",0),S(9," La cat\xE9gorie "),v(10,"span",1),S(11,"Les maisons"),w(),S(12," regroupe des logements pr\xE9vus pour 6 \xE0 8 personnes. "),w(),v(13,"p",0),S(14," Au clic, vous serez redirig\xE9 vers un des sites qui proposent l'h\xE9bergement. "),k(15,"br"),S(16,"Ils sont parfois disponibles sur plusieurs plateformes. "),w(),v(17,"app-select",2),Ie("optionChange",function(a){return s.setFilter(a)}),w(),v(18,"app-select",3),Ie("optionChange",function(a){return s.setSort(a)}),w(),v(19,"div",4),yt(20,dF,1,1,"app-hosting-card",6,uF),w()()),i&2&&(F(17),ue("selected",s.hostingsService.filter())("options",s.filtersOptions),F(),ue("selected",s.hostingsService.sort())("options",s.sortOptions),F(2),vt(s.hostingsService.filteredHostings()))},dependencies:[le,WD,UD,un],styles:["[_nghost-%COMP%]{display:block}.hostings-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(260px,1fr))}@media (min-width: 1024px){.hostings-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fit,minmax(430px,1fr))}}"],changeDetection:0});let t=e;return t})();var qD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-list"]],standalone:!0,features:[ne],decls:5,vars:0,consts:[[1,"text-center"],["href","https://www.millemercismariage.com/daniel-madeleine/liste.html","target","_blank",1,"mx-auto","mt-8","rounded-md","border","bg-secondary","px-4","py-2","text-white","opacity-80","transition-opacity","hover:opacity-100"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),S(2,"Notre liste"),w(),v(3,"a",1),S(4," Acc\xE9der \xE0 la liste de mariage "),w()())},dependencies:[le,un],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function Co(t,e,n){let r=document.createElement(e);return t&&(r.className=t),n&&n.appendChild(r),r}function hF(t,e,n){let r=`translate3d(${t}px,${e||0}px,0)`;return n!==void 0&&(r+=` scale3d(${n},${n},1)`),r}function Ip(t,e,n){t.style.width=typeof e=="number"?`${e}px`:e,t.style.height=typeof n=="number"?`${n}px`:n}var Rt={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function fF(t){return"button"in t&&t.button===1||t.ctrlKey||t.metaKey||t.altKey||t.shiftKey}function bo(t,e,n=document){let r=[];if(t instanceof Element)r=[t];else if(t instanceof NodeList||Array.isArray(t))r=Array.from(t);else{let i=typeof t=="string"?t:e;i&&(r=Array.from(n.querySelectorAll(i)))}return r}function pF(t){return typeof t=="function"&&t.prototype&&t.prototype.goTo}function KD(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}var Sp=class{constructor(e,n){this.type=e,this.defaultPrevented=!1,n&&Object.assign(this,n)}preventDefault(){this.defaultPrevented=!0}},Tp=class{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(e,n,r=100){var i,s,o;this._filters[e]||(this._filters[e]=[]),(i=this._filters[e])===null||i===void 0||i.push({fn:n,priority:r}),(s=this._filters[e])===null||s===void 0||s.sort((a,l)=>a.priority-l.priority),(o=this.pswp)===null||o===void 0||o.addFilter(e,n,r)}removeFilter(e,n){this._filters[e]&&(this._filters[e]=this._filters[e].filter(r=>r.fn!==n)),this.pswp&&this.pswp.removeFilter(e,n)}applyFilters(e,...n){var r;return(r=this._filters[e])===null||r===void 0||r.forEach(i=>{n[0]=i.fn.apply(this,n)}),n[0]}on(e,n){var r,i;this._listeners[e]||(this._listeners[e]=[]),(r=this._listeners[e])===null||r===void 0||r.push(n),(i=this.pswp)===null||i===void 0||i.on(e,n)}off(e,n){var r;this._listeners[e]&&(this._listeners[e]=this._listeners[e].filter(i=>n!==i)),(r=this.pswp)===null||r===void 0||r.off(e,n)}dispatch(e,n){var r;if(this.pswp)return this.pswp.dispatch(e,n);let i=new Sp(e,n);return(r=this._listeners[e])===null||r===void 0||r.forEach(s=>{s.call(this,i)}),i}},Mp=class{constructor(e,n){if(this.element=Co("pswp__img pswp__img--placeholder",e?"img":"div",n),e){let r=this.element;r.decoding="async",r.alt="",r.src=e,r.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(e,n){this.element&&(this.element.tagName==="IMG"?(Ip(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=hF(0,0,e/250)):Ip(this.element,e,n))}destroy(){var e;(e=this.element)!==null&&e!==void 0&&e.parentNode&&this.element.remove(),this.element=null}},Ap=class{constructor(e,n,r){this.instance=n,this.data=e,this.index=r,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Rt.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(e,n){if(this.slide&&this.usePlaceholder())if(this.placeholder){let r=this.placeholder.element;r&&!r.parentElement&&this.slide.container.prepend(r)}else{let r=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new Mp(r,this.slide.container)}this.element&&!n||this.instance.dispatch("contentLoad",{content:this,isLazy:e}).defaultPrevented||(this.isImageContent()?(this.element=Co("pswp__img","img"),this.displayedImageWidth&&this.loadImage(e)):(this.element=Co("pswp__content","div"),this.element.innerHTML=this.data.html||""),n&&this.slide&&this.slide.updateContentSize(!0))}loadImage(e){var n,r;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:e}).defaultPrevented)return;let i=this.element;this.updateSrcsetSizes(),this.data.srcset&&(i.srcset=this.data.srcset),i.src=(n=this.data.src)!==null&&n!==void 0?n:"",i.alt=(r=this.data.alt)!==null&&r!==void 0?r:"",this.state=Rt.LOADING,i.complete?this.onLoaded():(i.onload=()=>{this.onLoaded()},i.onerror=()=>{this.onError()})}setSlide(e){this.slide=e,this.hasSlide=!0,this.instance=e.pswp}onLoaded(){this.state=Rt.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Rt.LOADED||this.state===Rt.ERROR)&&this.removePlaceholder())}onError(){this.state=Rt.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Rt.LOADING,this)}isError(){return this.state===Rt.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(e,n){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(e,n),!this.instance.dispatch("contentResize",{content:this,width:e,height:n}).defaultPrevented&&(Ip(this.element,e,n),this.isImageContent()&&!this.isError()))){let r=!this.displayedImageWidth&&e;this.displayedImageWidth=e,this.displayedImageHeight=n,r?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:e,height:n,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Rt.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;let e=this.element,n=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!e.dataset.largestUsedSize||n>parseInt(e.dataset.largestUsedSize,10))&&(e.sizes=n+"px",e.dataset.largestUsedSize=String(n))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var e,n;let r=Co("pswp__error-msg","div");r.innerText=(e=(n=this.instance.options)===null||n===void 0?void 0:n.errorMsg)!==null&&e!==void 0?e:"",r=this.instance.applyFilters("contentErrorElement",r,this),this.element=Co("pswp__content pswp__error-msg-container","div"),this.element.appendChild(r),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Rt.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;let e="decode"in this.element;this.isImageContent()?e&&this.slide&&(!this.slide.isActive||KD())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!KD()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Rt.LOADED||this.state===Rt.ERROR)&&this.removePlaceholder()))}};function mF(t,e){if(t.getViewportSizeFn){let n=t.getViewportSizeFn(t,e);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function xc(t,e,n,r,i){let s=0;if(e.paddingFn)s=e.paddingFn(n,r,i)[t];else if(e.padding)s=e.padding[t];else{let o="padding"+t[0].toUpperCase()+t.slice(1);e[o]&&(s=e[o])}return Number(s)||0}function gF(t,e,n,r){return{x:e.x-xc("left",t,e,n,r)-xc("right",t,e,n,r),y:e.y-xc("top",t,e,n,r)-xc("bottom",t,e,n,r)}}var QD=4e3,xp=class{constructor(e,n,r,i){this.pswp=i,this.options=e,this.itemData=n,this.index=r,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(e,n,r){let i={x:e,y:n};this.elementSize=i,this.panAreaSize=r;let s=r.x/i.x,o=r.y/i.y;this.fit=Math.min(1,s<o?s:o),this.fill=Math.min(1,s>o?s:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(e){let n=e+"ZoomLevel",r=this.options[n];if(r)return typeof r=="function"?r(this):r==="fill"?this.fill:r==="fit"?this.fit:Number(r)}_getSecondary(){let e=this._parseZoomLevelOption("secondary");return e||(e=Math.min(1,this.fit*3),this.elementSize&&e*this.elementSize.x>QD&&(e=QD/this.elementSize.x),e)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}};function YD(t,e,n){let r=e.createContentFromData(t,n),i,{options:s}=e;if(s){i=new xp(s,t,-1);let o;e.pswp?o=e.pswp.viewportSize:o=mF(s,e);let a=gF(s,o,t,n);i.update(r.width,r.height,a)}return r.lazyLoad(),i&&r.setDisplayedSize(Math.ceil(r.width*i.initial),Math.ceil(r.height*i.initial)),r}function yF(t,e){let n=e.getItemData(t);if(!e.dispatch("lazyLoadSlide",{index:t,itemData:n}).defaultPrevented)return YD(n,e,t)}var Np=class extends Tp{getNumItems(){var e;let n=0,r=(e=this.options)===null||e===void 0?void 0:e.dataSource;r&&"length"in r?n=r.length:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),r.items&&(n=r.items.length));let i=this.dispatch("numItems",{dataSource:r,numItems:n});return this.applyFilters("numItems",i.numItems,r)}createContentFromData(e,n){return new Ap(e,this,n)}getItemData(e){var n;let r=(n=this.options)===null||n===void 0?void 0:n.dataSource,i={};Array.isArray(r)?i=r[e]:r&&"gallery"in r&&(r.items||(r.items=this._getGalleryDOMElements(r.gallery)),i=r.items[e]);let s=i;s instanceof Element&&(s=this._domElementToItemData(s));let o=this.dispatch("itemData",{itemData:s||{},index:e});return this.applyFilters("itemData",o.itemData,e)}_getGalleryDOMElements(e){var n,r;return(n=this.options)!==null&&n!==void 0&&n.children||(r=this.options)!==null&&r!==void 0&&r.childSelector?bo(this.options.children,this.options.childSelector,e)||[]:[e]}_domElementToItemData(e){let n={element:e},r=e.tagName==="A"?e:e.querySelector("a");if(r){n.src=r.dataset.pswpSrc||r.href,r.dataset.pswpSrcset&&(n.srcset=r.dataset.pswpSrcset),n.width=r.dataset.pswpWidth?parseInt(r.dataset.pswpWidth,10):0,n.height=r.dataset.pswpHeight?parseInt(r.dataset.pswpHeight,10):0,n.w=n.width,n.h=n.height,r.dataset.pswpType&&(n.type=r.dataset.pswpType);let s=e.querySelector("img");if(s){var i;n.msrc=s.currentSrc||s.src,n.alt=(i=s.getAttribute("alt"))!==null&&i!==void 0?i:""}(r.dataset.pswpCropped||r.dataset.cropped)&&(n.thumbCropped=!0)}return this.applyFilters("domItemData",n,e,r)}lazyLoadData(e,n){return YD(e,this,n)}},Nc=class extends Np{constructor(e){super(),this.options=e||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){bo(this.options.gallery,this.options.gallerySelector).forEach(e=>{e.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(e){if(fF(e)||window.pswp)return;let n={x:e.clientX,y:e.clientY};!n.x&&!n.y&&(n=null);let r=this.getClickedIndex(e);r=this.applyFilters("clickedIndex",r,e,this);let i={gallery:e.currentTarget};r>=0&&(e.preventDefault(),this.loadAndOpen(r,i,n))}getClickedIndex(e){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,e);let n=e.target,i=bo(this.options.children,this.options.childSelector,e.currentTarget).findIndex(s=>s===n||s.contains(n));return i!==-1?i:this.options.children||this.options.childSelector?-1:0}loadAndOpen(e,n,r){if(window.pswp||!this.options)return!1;if(!n&&this.options.gallery&&this.options.children){let i=bo(this.options.gallery);i[0]&&(n={gallery:i[0]})}return this.options.index=e,this.options.initialPointerPos=r,this.shouldOpen=!0,this.preload(e,n),!0}preload(e,n){let{options:r}=this;n&&(r.dataSource=n);let i=[],s=typeof r.pswpModule;if(pF(r.pswpModule))i.push(Promise.resolve(r.pswpModule));else{if(s==="string")throw new Error("pswpModule as string is no longer supported");if(s==="function")i.push(r.pswpModule());else throw new Error("pswpModule is not valid")}typeof r.openPromise=="function"&&i.push(r.openPromise()),r.preloadFirstSlide!==!1&&e>=0&&(this._preloadedContent=yF(e,this));let o=++this._uid;Promise.all(i).then(a=>{if(this.shouldOpen){let l=a[0];this._openPhotoswipe(l,o)}})}_openPhotoswipe(e,n){if(n!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;let r=typeof e=="object"?new e.default(this.options):new e(this.options);this.pswp=r,window.pswp=r,Object.keys(this._listeners).forEach(i=>{var s;(s=this._listeners[i])===null||s===void 0||s.forEach(o=>{r.on(i,o)})}),Object.keys(this._filters).forEach(i=>{var s;(s=this._filters[i])===null||s===void 0||s.forEach(o=>{r.addFilter(i,o.fn,o.priority)})}),this._preloadedContent&&(r.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),r.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),r.init()}destroy(){var e;(e=this.pswp)===null||e===void 0||e.destroy(),this.shouldOpen=!1,this._listeners={},bo(this.options.gallery,this.options.gallerySelector).forEach(n=>{n.removeEventListener("click",this.onThumbnailsClick,!1)})}};function vF(t,e){if(t&1&&(v(0,"a",4),k(1,"img",5),w()),t&2){let n=e.$implicit;ue("href",n.src,rn),Oi("data-pswp-width",n.width)("data-pswp-height",n.height),F(),ue("src",n.thumb,rn)}}var ZD=(()=>{let e=class e{constructor(){this.images=_F.map(r=>X(E({},r),{src:"/assets/civil/"+r.src,thumb:"/assets/civil/"+r.src,alt:`Image ${r.index}`}))}ngOnInit(){setTimeout(()=>{new Nc({gallery:"#gallery",children:"a",pswpModule:()=>import("./chunk-VYVBE2YM.js"),showHideAnimationType:"none",zoom:!0,wheelToZoom:!0}).init()},0)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-photos"]],standalone:!0,features:[ne],decls:10,vars:0,consts:[[1,"text-center"],[1,"mb-9","text-center"],["target","_blank","href","https://public.joomeo.com/albums/667d8473cddf4",1,"text-secondary","underline"],["id","gallery",1,"grid","gap-2"],["data-cropped","true","target","_blank","rel","noreferrer",1,"overflow-hidden","hover:cursor-pointer",3,"href"],["alt","",1,"aspect-square","object-cover","transition-all","hover:scale-105",3,"src"],["class","overflow-hidden hover:cursor-pointer","data-cropped","true","target","_blank","rel","noreferrer",3,"href"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),S(2,"Galerie de photos"),w(),v(3,"p",1),S(4," Lien vers la galerie compl\xE8te ici : "),v(5,"a",2),S(6,"Joomeo Mariage M&D"),w()(),v(7,"div",3),yt(8,vF,2,4,"a",6,Pi),w()()),i&2&&(F(8),vt(s.images))},dependencies:[le,un],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   .grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}"],changeDetection:0});let t=e;return t})(),_F=[{src:"M&D-15.jpg",index:15,thumb:"thumbnails/M&D-15.jpg",width:2500,height:3745},{src:"M&D-25.jpg",index:25,thumb:"thumbnails/M&D-25.jpg",width:2500,height:1669},{src:"M&D-27.jpg",index:27,thumb:"thumbnails/M&D-27.jpg",width:2500,height:1669},{src:"M&D-44.jpg",index:44,thumb:"thumbnails/M&D-44.jpg",width:2500,height:1669},{src:"M&D-48.jpg",index:48,thumb:"thumbnails/M&D-48.jpg",width:2500,height:3745},{src:"M&D-56.jpg",index:56,thumb:"thumbnails/M&D-56.jpg",width:2500,height:3745},{src:"M&D-63.jpg",index:63,thumb:"thumbnails/M&D-63.jpg",width:2500,height:1669},{src:"M&D-78.jpg",index:78,thumb:"thumbnails/M&D-78.jpg",width:2500,height:3745},{src:"M&D-85.jpg",index:85,thumb:"thumbnails/M&D-85.jpg",width:2500,height:1669},{src:"M&D-86.jpg",index:86,thumb:"thumbnails/M&D-86.jpg",width:2500,height:1669},{src:"M&D-88.jpg",index:88,thumb:"thumbnails/M&D-88.jpg",width:2500,height:1669},{src:"M&D-108.jpg",index:108,thumb:"thumbnails/M&D-108.jpg",width:2500,height:1669},{src:"M&D-117.jpg",index:117,thumb:"thumbnails/M&D-117.jpg",width:2500,height:3745},{src:"M&D-128.jpg",index:128,thumb:"thumbnails/M&D-128.jpg",width:2500,height:1669},{src:"M&D-131.jpg",index:131,thumb:"thumbnails/M&D-131.jpg",width:2500,height:3745},{src:"M&D-132.jpg",index:132,thumb:"thumbnails/M&D-132.jpg",width:2500,height:1669},{src:"M&D-137.jpg",index:137,thumb:"thumbnails/M&D-137.jpg",width:2500,height:3745},{src:"M&D-140.jpg",index:140,thumb:"thumbnails/M&D-140.jpg",width:2500,height:3745},{src:"M&D-146.jpg",index:146,thumb:"thumbnails/M&D-146.jpg",width:2500,height:1669},{src:"M&D-149.jpg",index:149,thumb:"thumbnails/M&D-149.jpg",width:2500,height:3745},{src:"M&D-152.jpg",index:152,thumb:"thumbnails/M&D-152.jpg",width:2500,height:3745},{src:"M&D-158.jpg",index:158,thumb:"thumbnails/M&D-158.jpg",width:2500,height:1669},{src:"M&D-164.jpg",index:164,thumb:"thumbnails/M&D-164.jpg",width:2500,height:3745},{src:"M&D-172.jpg",index:172,thumb:"thumbnails/M&D-172.jpg",width:2500,height:3745},{src:"M&D-174.jpg",index:174,thumb:"thumbnails/M&D-174.jpg",width:2500,height:3745},{src:"M&D-182.jpg",index:182,thumb:"thumbnails/M&D-182.jpg",width:2500,height:1669},{src:"M&D-191.jpg",index:191,thumb:"thumbnails/M&D-191.jpg",width:2500,height:1669},{src:"M&D-227.jpg",index:227,thumb:"thumbnails/M&D-227.jpg",width:2500,height:3745},{src:"M&D-254.jpg",index:254,thumb:"thumbnails/M&D-254.jpg",width:2500,height:1669},{src:"M&D-259.jpg",index:259,thumb:"thumbnails/M&D-259.jpg",width:2500,height:1669},{src:"M&D-262.jpg",index:262,thumb:"thumbnails/M&D-262.jpg",width:2500,height:1669},{src:"M&D-266.jpg",index:266,thumb:"thumbnails/M&D-266.jpg",width:2500,height:1669},{src:"M&D-285.jpg",index:285,thumb:"thumbnails/M&D-285.jpg",width:2500,height:1669},{src:"M&D-287.jpg",index:287,thumb:"thumbnails/M&D-287.jpg",width:2500,height:3745},{src:"M&D-288.jpg",index:288,thumb:"thumbnails/M&D-288.jpg",width:2500,height:1669},{src:"M&D-291.jpg",index:291,thumb:"thumbnails/M&D-291.jpg",width:2500,height:3745},{src:"M&D-293.jpg",index:293,thumb:"thumbnails/M&D-293.jpg",width:2500,height:3745},{src:"M&D-296.jpg",index:296,thumb:"thumbnails/M&D-296.jpg",width:2500,height:3745},{src:"M&D-298.jpg",index:298,thumb:"thumbnails/M&D-298.jpg",width:2500,height:3745},{src:"M&D-299.jpg",index:299,thumb:"thumbnails/M&D-299.jpg",width:2500,height:3745},{src:"M&D-318.jpg",index:318,thumb:"thumbnails/M&D-318.jpg",width:2500,height:3745},{src:"M&D-322.jpg",index:322,thumb:"thumbnails/M&D-322.jpg",width:2500,height:3745},{src:"M&D-325.jpg",index:325,thumb:"thumbnails/M&D-325.jpg",width:2500,height:3745},{src:"M&D-327.jpg",index:327,thumb:"thumbnails/M&D-327.jpg",width:2500,height:3745},{src:"M&D-340.jpg",index:340,thumb:"thumbnails/M&D-340.jpg",width:2500,height:1669},{src:"M&D-345.jpg",index:345,thumb:"thumbnails/M&D-345.jpg",width:2500,height:3745},{src:"M&D-350.jpg",index:350,thumb:"thumbnails/M&D-350.jpg",width:2500,height:3745},{src:"M&D-355.jpg",index:355,thumb:"thumbnails/M&D-355.jpg",width:2500,height:3745},{src:"M&D-360.jpg",index:360,thumb:"thumbnails/M&D-360.jpg",width:2500,height:3745},{src:"M&D-361.jpg",index:361,thumb:"thumbnails/M&D-361.jpg",width:2500,height:3745},{src:"M&D-366.jpg",index:366,thumb:"thumbnails/M&D-366.jpg",width:2500,height:3745},{src:"M&D-374.jpg",index:374,thumb:"thumbnails/M&D-374.jpg",width:2500,height:3745},{src:"M&D-381.jpg",index:381,thumb:"thumbnails/M&D-381.jpg",width:2500,height:3745},{src:"M&D-385.jpg",index:385,thumb:"thumbnails/M&D-385.jpg",width:2500,height:3745},{src:"M&D-389.jpg",index:389,thumb:"thumbnails/M&D-389.jpg",width:2500,height:3745},{src:"M&D-391.jpg",index:391,thumb:"thumbnails/M&D-391.jpg",width:2500,height:3745},{src:"M&D-396.jpg",index:396,thumb:"thumbnails/M&D-396.jpg",width:2500,height:3745},{src:"M&D-398.jpg",index:398,thumb:"thumbnails/M&D-398.jpg",width:2500,height:3745},{src:"M&D-399.jpg",index:399,thumb:"thumbnails/M&D-399.jpg",width:2500,height:3745},{src:"M&D-404.jpg",index:404,thumb:"thumbnails/M&D-404.jpg",width:2500,height:3745},{src:"M&D-406.jpg",index:406,thumb:"thumbnails/M&D-406.jpg",width:2500,height:3745},{src:"M&D-410.jpg",index:410,thumb:"thumbnails/M&D-410.jpg",width:2500,height:3745},{src:"M&D-414.jpg",index:414,thumb:"thumbnails/M&D-414.jpg",width:2500,height:3745},{src:"M&D-417.jpg",index:417,thumb:"thumbnails/M&D-417.jpg",width:2500,height:3745},{src:"M&D-432.jpg",index:432,thumb:"thumbnails/M&D-432.jpg",width:2500,height:3745},{src:"M&D-437.jpg",index:437,thumb:"thumbnails/M&D-437.jpg",width:2500,height:3745},{src:"M&D-441.jpg",index:441,thumb:"thumbnails/M&D-441.jpg",width:2500,height:3745}];var o0=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)($(Mt),$(lt))},e.\u0275dir=Ge({type:e});let t=e;return t})(),a0=(()=>{let e=class e extends o0{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=$s(e)))(s||e)}})(),e.\u0275dir=Ge({type:e,features:[Mn]});let t=e;return t})(),Fp=new O("");var wF={provide:Fp,useExisting:Mr(()=>Bc),multi:!0};function EF(){let t=An()?An().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var DF=new O(""),Bc=(()=>{let e=class e extends o0{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!EF())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)($(Mt),$(lt),$(DF,8))},e.\u0275dir=Ge({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,s){i&1&&Ie("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Gs([wF]),Mn]});let t=e;return t})();function tr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function l0(t){return t!=null&&typeof t.length=="number"}var c0=new O(""),u0=new O(""),CF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,To=class{static min(e){return bF(e)}static max(e){return IF(e)}static required(e){return SF(e)}static requiredTrue(e){return TF(e)}static email(e){return MF(e)}static minLength(e){return AF(e)}static maxLength(e){return xF(e)}static pattern(e){return NF(e)}static nullValidator(e){return d0(e)}static compose(e){return y0(e)}static composeAsync(e){return _0(e)}};function bF(t){return e=>{if(tr(e.value)||tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function IF(t){return e=>{if(tr(e.value)||tr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function SF(t){return tr(t.value)?{required:!0}:null}function TF(t){return t.value===!0?null:{required:!0}}function MF(t){return tr(t.value)||CF.test(t.value)?null:{email:!0}}function AF(t){return e=>tr(e.value)||!l0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function xF(t){return e=>l0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function NF(t){if(!t)return d0;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(tr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function d0(t){return null}function h0(t){return t!=null}function f0(t){return Or(t)?me(t):t}function p0(t){let e={};return t.forEach(n=>{e=n!=null?E(E({},e),n):e}),Object.keys(e).length===0?null:e}function m0(t,e){return e.map(n=>n(t))}function RF(t){return!t.validate}function g0(t){return t.map(e=>RF(e)?e:n=>e.validate(n))}function y0(t){if(!t)return null;let e=t.filter(h0);return e.length==0?null:function(n){return p0(m0(n,e))}}function v0(t){return t!=null?y0(g0(t)):null}function _0(t){if(!t)return null;let e=t.filter(h0);return e.length==0?null:function(n){let r=m0(n,e).map(f0);return Bu(r).pipe(z(p0))}}function w0(t){return t!=null?_0(g0(t)):null}function XD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function E0(t){return t._rawValidators}function D0(t){return t._rawAsyncValidators}function Rp(t){return t?Array.isArray(t)?t:[t]:[]}function Pc(t,e){return Array.isArray(t)?t.includes(e):t===e}function JD(t,e){let n=Rp(e);return Rp(t).forEach(i=>{Pc(n,i)||n.push(i)}),n}function e0(t,e){return Rp(e).filter(n=>!Pc(t,n))}var Fc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=v0(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=w0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Zi=class extends Fc{get formDirective(){return null}get path(){return null}},Xi=class extends Fc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},kc=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},OF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XG=X(E({},OF),{"[class.ng-submitted]":"isSubmitted"}),C0=(()=>{let e=class e extends kc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Xi,2))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,s){i&2&&kl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Mn]});let t=e;return t})(),b0=(()=>{let e=class e extends kc{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)($(Zi,10))},e.\u0275dir=Ge({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,s){i&2&&kl("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Mn]});let t=e;return t})();var Io="VALID",Rc="INVALID",Yi="PENDING",So="DISABLED";function kp(t){return(Uc(t)?t.validators:t)||null}function PF(t){return Array.isArray(t)?v0(t):t||null}function Lp(t,e){return(Uc(e)?e.asyncValidators:t)||null}function FF(t){return Array.isArray(t)?w0(t):t||null}function Uc(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function I0(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new y(1e3,"");if(!r[n])throw new y(1001,"")}function S0(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new y(1002,"")})}var Ji=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Io}get invalid(){return this.status===Rc}get pending(){return this.status==Yi}get disabled(){return this.status===So}get enabled(){return this.status!==So}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(JD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(JD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(e0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(e0(e,this._rawAsyncValidators))}hasValidator(e){return Pc(this._rawValidators,e)}hasAsyncValidator(e){return Pc(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yi,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=So,this.errors=null,this._forEachChild(r=>{r.disable(X(E({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(X(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Io,this._forEachChild(r=>{r.enable(X(E({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(X(E({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Io||this.status===Yi)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?So:Io}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yi,this._hasOwnPendingAsyncValidator=!0;let n=f0(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new be,this.statusChanges=new be}_calculateStatus(){return this._allControlsDisabled()?So:this.errors?Rc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yi)?Yi:this._anyControlsHaveStatus(Rc)?Rc:Io}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Uc(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=FF(this._rawAsyncValidators)}},Lc=class extends Ji{constructor(e,n,r){super(kp(n),Lp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){S0(this,!0,e),Object.keys(e).forEach(r=>{I0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Op=class extends Lc{};var jp=new O("CallSetDisabledState",{providedIn:"root",factory:()=>$c}),$c="always";function kF(t,e){return[...e.path,t]}function t0(t,e,n=$c){Vp(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),jF(t,e),BF(t,e),VF(t,e),LF(t,e)}function n0(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function jc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function LF(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Vp(t,e){let n=E0(t);e.validator!==null?t.setValidators(XD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=D0(t);e.asyncValidator!==null?t.setAsyncValidators(XD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();jc(e._rawValidators,i),jc(e._rawAsyncValidators,i)}function Vc(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=E0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=D0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return jc(e._rawValidators,r),jc(e._rawAsyncValidators,r),n}function jF(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&T0(t,e)})}function VF(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&T0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function T0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function BF(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function UF(t,e){t==null,Vp(t,e)}function $F(t,e){return Vc(t,e)}function HF(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function zF(t){return Object.getPrototypeOf(t.constructor)===a0}function WF(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function GF(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Bc?n=s:zF(s)?r=s:i=s}),i||r||n||null}function qF(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function r0(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function i0(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Oc=class extends Ji{constructor(e=null,n,r){super(kp(n),Lp(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Uc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(i0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){r0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){r0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){i0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var KF=t=>t instanceof Oc;var M0=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=Ge({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var QF={provide:Fp,useExisting:Mr(()=>Bp),multi:!0};var YF=(()=>{let e=class e{constructor(){this._accessors=[]}add(r,i){this._accessors.push([r,i])}remove(r){for(let i=this._accessors.length-1;i>=0;--i)if(this._accessors[i][1]===r){this._accessors.splice(i,1);return}}select(r){this._accessors.forEach(i=>{this._isSameGroup(i,r)&&i[1]!==r&&i[1].fireUncheck(r.value)})}_isSameGroup(r,i){return r[0].control?r[0]._parent===i._control._parent&&r[1].name===i.name:!1}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Bp=(()=>{let e=class e extends a0{constructor(r,i,s,o){super(r,i),this._registry=s,this._injector=o,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=g(jp,{optional:!0})??$c}ngOnInit(){this._control=this._injector.get(Xi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(r){this._state=r===this.value,this.setProperty("checked",this._state)}registerOnChange(r){this._fn=r,this.onChange=()=>{r(this.value),this._registry.select(this)}}setDisabledState(r){(this.setDisabledStateFired||r||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",r),this.setDisabledStateFired=!0}fireUncheck(r){this.writeValue(r)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}};e.\u0275fac=function(i){return new(i||e)($(Mt),$(lt),$(YF),$(Sn))},e.\u0275dir=Ge({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(i,s){i&1&&Ie("change",function(){return s.onChange()})("blur",function(){return s.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Gs([QF]),Mn]});let t=e;return t})();var A0=new O("");var ZF={provide:Zi,useExisting:Mr(()=>Up)},Up=(()=>{let e=class e extends Zi{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new be,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){let i=this.form.get(r.path);return t0(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){n0(r.control||null,r,!1),qF(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,WF(this.form,this.directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{let i=r.control,s=this.form.get(r.path);i!==s&&(n0(i||null,r),KF(s)&&(t0(s,r,this.callSetDisabledState),r.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){let i=this.form.get(r.path);UF(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){let i=this.form.get(r.path);i&&$F(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Vp(this.form,this),this._oldForm&&Vc(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(i){return new(i||e)($(c0,10),$(u0,10),$(jp,8))},e.\u0275dir=Ge({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,s){i&1&&Ie("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[Ve.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gs([ZF]),Mn,In]});let t=e;return t})();var XF={provide:Xi,useExisting:Mr(()=>$p)},$p=(()=>{let e=class e extends Xi{set isDisabled(r){}constructor(r,i,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new be,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=GF(this,o)}ngOnChanges(r){this._added||this._setUpControl(),HF(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return kF(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(i){return new(i||e)($(Zi,13),$(c0,10),$(u0,10),$(Fp,10),$(A0,8))},e.\u0275dir=Ge({type:e,selectors:[["","formControlName",""]],inputs:{name:[Ve.None,"formControlName","name"],isDisabled:[Ve.None,"disabled","isDisabled"],model:[Ve.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gs([XF]),Mn,In]});let t=e;return t})();var JF=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=Gn({});let t=e;return t})(),Pp=class extends Ji{constructor(e,n,r){super(kp(n),Lp(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){S0(this,!1,e),e.forEach((r,i)=>{I0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function s0(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var x0=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let r=new e;return r.useNonNullable=!0,r}group(r,i=null){let s=this._reduceControls(r),o={};return s0(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Lc(s,o)}record(r,i=null){let s=this._reduceControls(r);return new Op(s,i)}control(r,i,s){let o={};return this.useNonNullable?(s0(i)?o=i:(o.validators=i,o.asyncValidators=s),new Oc(r,X(E({},o),{nonNullable:!0}))):new Oc(r,i,s)}array(r,i,s){let o=r.map(a=>this._createControl(a));return new Pp(o,i,s)}_reduceControls(r){let i={};return Object.keys(r).forEach(s=>{i[s]=this._createControl(r[s])}),i}_createControl(r){if(r instanceof Oc)return r;if(r instanceof Ji)return r;if(Array.isArray(r)){let i=r[0],s=r.length>1?r[1]:null,o=r.length>2?r[2]:null;return this.control(i,s,o)}else return this.control(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var N0=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:A0,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:jp,useValue:r.callSetDisabledState??$c}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Hn({type:e}),e.\u0275inj=Gn({imports:[JF]});let t=e;return t})();var Hp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw zr(e)},zr=function(t){return new Error("Firebase Database ("+Hp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var O0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},tk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(O0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):tk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let c=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new zp;let h=s<<2|a>>4;if(r.push(h),c!==64){let f=a<<4&240|c>>2;if(r.push(f),d!==64){let p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},zp=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Gp=function(t){let e=O0(t);return zc.encodeByteArray(e,!0)},Mo=function(t){return Gp(t).replace(/\./g,"")},Wp=function(t){try{return zc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function P0(t){return F0(void 0,t)}function F0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!nk(n)||(t[n]=F0(t[n],e[n]));return t}function nk(t){return t!=="__proto__"}function rk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var ik=()=>rk().__FIREBASE_DEFAULTS__,sk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},ok=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Wp(t[1]);return e&&JSON.parse(e)},k0=()=>{try{return ik()||sk()||ok()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ak=t=>{var e,n;return(n=(e=k0())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},L0=t=>{let e=ak(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qp=()=>{var t;return(t=k0())===null||t===void 0?void 0:t.config};var Nn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function j0(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Mo(JSON.stringify(n)),Mo(JSON.stringify(o)),""].join(".")}function lk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lk())}function V0(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function B0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dn(){return Hp.NODE_CLIENT===!0||Hp.NODE_ADMIN===!0}function Wc(){try{return typeof indexedDB=="object"}catch{return!1}}function Gc(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function U0(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var ck="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ck,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rn.prototype.create)}},Rn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?uk(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zt(i,a,r)}};function uk(t,e){return t.replace(dk,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var dk=/\{\$([^}]+)}/g;function es(t){return JSON.parse(t)}function Pe(t){return JSON.stringify(t)}var $0=function(t){let e={},n={},r={},i="";try{let s=t.split(".");e=es(Wp(s[0])||""),n=es(Wp(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var H0=function(t){let e=$0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},z0=function(t){let e=$0(t).claims;return typeof e=="object"&&e.admin===!0};function Wt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Wr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qp(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ao(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ts(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(R0(s)&&R0(o)){if(!ts(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function R0(t){return t!==null&&typeof t=="object"}function W0(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Hc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);let h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function xo(t,e){return`${t} failed: ${e} argument `}var G0=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},No=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var hk=1e3,fk=2,pk=4*60*60*1e3,mk=.5;function Yp(t,e=hk,n=fk){let r=e*Math.pow(n,t),i=Math.round(mk*r*(Math.random()-.5)*2);return Math.min(pk,r+i)}function hn(t){return t&&t._delegate?t._delegate:t}var Xe=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gr="[DEFAULT]";var qc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Nn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yk(e))try{this.getOrInitializeService({instanceIdentifier:Gr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Gr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return A(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gr){return this.instances.has(e)}getOptions(e=Gr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gr){return this.component?this.component.multipleInstances?e:Gr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function gk(t){return t===Gr?void 0:t}function yk(t){return t.instantiationMode==="EAGER"}var Ro=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vk=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),_k={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},wk=ce.INFO,Ek={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Dk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ek[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},nr=class{constructor(e){this.name=e,this._logLevel=wk,this._logHandler=Dk,this._userLogHandler=null,vk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_k[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var Ck=(t,e)=>e.some(n=>t instanceof n),q0,K0;function bk(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ik(){return K0||(K0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Q0=new WeakMap,Xp=new WeakMap,Y0=new WeakMap,Zp=new WeakMap,em=new WeakMap;function Sk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(fn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Q0.set(n,t)}).catch(()=>{}),em.set(e,t),e}function Tk(t){if(Xp.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Xp.set(t,e)}var Jp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Xp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Z0(t){Jp=t(Jp)}function Mk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Kc(this),e,...n);return Y0.set(r,e.sort?e.sort():[e]),fn(r)}:Ik().includes(t)?function(...e){return t.apply(Kc(this),e),fn(Q0.get(this))}:function(...e){return fn(t.apply(Kc(this),e))}}function Ak(t){return typeof t=="function"?Mk(t):(t instanceof IDBTransaction&&Tk(t),Ck(t,bk())?new Proxy(t,Jp):t)}function fn(t){if(t instanceof IDBRequest)return Sk(t);if(Zp.has(t))return Zp.get(t);let e=Ak(t);return e!==t&&(Zp.set(t,e),em.set(e,t)),e}var Kc=t=>em.get(t);function Qc(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=fn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fn(o.result),l.oldVersion,l.newVersion,fn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}var xk=["get","getKey","getAll","getAllKeys","count"],Nk=["put","add","delete","clear"],tm=new Map;function X0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tm.get(e))return tm.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Nk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||xk.includes(n)))return;let s=function(o,...a){return A(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),c=l.store;return r&&(c=c.index(a.shift())),(yield Promise.all([c[n](...a),i&&l.done]))[0]})};return tm.set(e,s),s}Z0(t=>X(E({},t),{get:(e,n,r)=>X0(e,n)||t.get(e,n,r),has:(e,n)=>!!X0(e,n)||t.has(e,n)}));var rm=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Rk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Rk(t){let e=t.getComponent();return e?.type==="VERSION"}var im="@firebase/app",J0="0.9.28";var qr=new nr("@firebase/app"),Ok="@firebase/app-compat",Pk="@firebase/analytics-compat",Fk="@firebase/analytics",kk="@firebase/app-check-compat",Lk="@firebase/app-check",jk="@firebase/auth",Vk="@firebase/auth-compat",Bk="@firebase/database",Uk="@firebase/database-compat",$k="@firebase/functions",Hk="@firebase/functions-compat",zk="@firebase/installations",Wk="@firebase/installations-compat",Gk="@firebase/messaging",qk="@firebase/messaging-compat",Kk="@firebase/performance",Qk="@firebase/performance-compat",Yk="@firebase/remote-config",Zk="@firebase/remote-config-compat",Xk="@firebase/storage",Jk="@firebase/storage-compat",eL="@firebase/firestore",tL="@firebase/firestore-compat",nL="firebase",rL="10.8.1";var sm="[DEFAULT]",iL={[im]:"fire-core",[Ok]:"fire-core-compat",[Fk]:"fire-analytics",[Pk]:"fire-analytics-compat",[Lk]:"fire-app-check",[kk]:"fire-app-check-compat",[jk]:"fire-auth",[Vk]:"fire-auth-compat",[Bk]:"fire-rtdb",[Uk]:"fire-rtdb-compat",[$k]:"fire-fn",[Hk]:"fire-fn-compat",[zk]:"fire-iid",[Wk]:"fire-iid-compat",[Gk]:"fire-fcm",[qk]:"fire-fcm-compat",[Kk]:"fire-perf",[Qk]:"fire-perf-compat",[Yk]:"fire-rc",[Zk]:"fire-rc-compat",[Xk]:"fire-gcs",[Jk]:"fire-gcs-compat",[eL]:"fire-fst",[tL]:"fire-fst-compat","fire-js":"fire-js",[nL]:"fire-js-all"};var Yc=new Map,om=new Map;function sL(t,e){try{t.container.addComponent(e)}catch(n){qr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gt(t){let e=t.name;if(om.has(e))return qr.debug(`There were multiple attempts to register component ${e}.`),!1;om.set(e,t);for(let n of Yc.values())sL(n,t);return!0}function ir(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}var oL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},rr=new Rn("app","Firebase",oL);var am=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xe("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rr.create("app-deleted",{appName:this._name})}};var rC=rL;function um(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:sm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw rr.create("bad-app-name",{appName:String(i)});if(n||(n=qp()),!n)throw rr.create("no-options");let s=Yc.get(i);if(s){if(ts(n,s.options)&&ts(r,s.config))return s;throw rr.create("duplicate-app",{appName:i})}let o=new Ro(i);for(let l of om.values())o.addComponent(l);let a=new am(n,r,o);return Yc.set(i,a),a}function Po(t=sm){let e=Yc.get(t);if(!e&&t===sm&&qp())return um();if(!e)throw rr.create("no-app",{appName:t});return e}function ct(t,e,n){var r;let i=(r=iL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qr.warn(a.join(" "));return}Gt(new Xe(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var aL="firebase-heartbeat-database",lL=1,Oo="firebase-heartbeat-store",nm=null;function iC(){return nm||(nm=Qc(aL,lL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oo)}catch(n){console.warn(n)}}}}).catch(t=>{throw rr.create("idb-open",{originalErrorMessage:t.message})})),nm}function cL(t){return A(this,null,function*(){try{let n=(yield iC()).transaction(Oo),r=yield n.objectStore(Oo).get(sC(t));return yield n.done,r}catch(e){if(e instanceof zt)qr.warn(e.message);else{let n=rr.create("idb-get",{originalErrorMessage:e?.message});qr.warn(n.message)}}})}function eC(t,e){return A(this,null,function*(){try{let r=(yield iC()).transaction(Oo,"readwrite");yield r.objectStore(Oo).put(e,sC(t)),yield r.done}catch(n){if(n instanceof zt)qr.warn(n.message);else{let r=rr.create("idb-set",{originalErrorMessage:n?.message});qr.warn(r.message)}}})}function sC(t){return`${t.name}!${t.options.appId}`}var uL=1024,dL=30*24*60*60*1e3,lm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new cm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return A(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tC();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=dL}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return A(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=tC(),{heartbeatsToSend:r,unsentEntries:i}=hL(this._heartbeatsCache.heartbeats),s=Mo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function tC(){return new Date().toISOString().substring(0,10)}function hL(t,e=uL){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),nC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var cm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return A(this,null,function*(){return Wc()?Gc().then(()=>!0).catch(()=>!1):!1})}read(){return A(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield cL(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return A(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return eC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function nC(t){return Mo(JSON.stringify({version:2,heartbeats:t})).length}function fL(t){Gt(new Xe("platform-logger",e=>new rm(e),"PRIVATE")),Gt(new Xe("heartbeat",e=>new lm(e),"PRIVATE")),ct(im,J0,t),ct(im,J0,"esm2017"),ct("fire-js","")}fL("");var oC="@firebase/database",aC="1.0.3";var ug="";function pL(t){ug=t}var vm=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Pe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:es(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var _m=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Wt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var VC=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new vm(e)}}catch{}return new _m},Qr=VC("localStorage"),wm=VC("sessionStorage");var is=new nr("@firebase/database"),mL=function(){let t=1;return function(){return t++}}(),BC=function(t){let e=G0(t),n=new Hc;n.update(e);let r=n.digest();return zc.encodeByteArray(r)},Yo=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Yo.apply(null,r):typeof r=="object"?e+=Pe(r):e+=r,e+=" "}return e},Yr=null,lC=!0,gL=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(is.logLevel=ce.VERBOSE,Yr=is.log.bind(is),e&&wm.set("logging_enabled",!0)):typeof t=="function"?Yr=t:(Yr=null,wm.remove("logging_enabled"))},$e=function(...t){if(lC===!0&&(lC=!1,Yr===null&&wm.get("logging_enabled")===!0&&gL(!0)),Yr){let e=Yo.apply(null,t);Yr(e)}},Zo=function(t){return function(...e){$e(t,...e)}},Em=function(...t){let e="FIREBASE INTERNAL ERROR: "+Yo(...t);is.error(e)},Pn=function(...t){let e=`FIREBASE FATAL ERROR: ${Yo(...t)}`;throw is.error(e),new Error(e)},Je=function(...t){let e="FIREBASE WARNING: "+Yo(...t);is.warn(e)},yL=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},dg=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vL=function(t){if(dn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},os="[MIN_NAME]",Zr="[MAX_NAME]",ei=function(t,e){if(t===e)return 0;if(t===os||e===Zr)return-1;if(e===os||t===Zr)return 1;{let n=cC(t),r=cC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},_L=function(t,e){return t===e?0:t<e?-1:1},Fo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Pe(e))},hg=function(t){if(typeof t!="object"||t===null)return Pe(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Pe(e[r]),n+=":",n+=hg(t[e[r]]);return n+="}",n},UC=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function et(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var $C=function(t){_(!dg(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},wL=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EL=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};var DL=new RegExp("^-?(0*)\\d{1,10}$"),CL=-2147483648,bL=2147483647,cC=function(t){if(DL.test(t)){let e=Number(t);if(e>=CL&&e<=bL)return e}return null},fs=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Je("Exception was thrown by user callback.",n),e},Math.floor(0))}},IL=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Bo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Dm=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Cm=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?($e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(e)}},Uo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Xc="5",HC="v",zC="s",WC="r",GC="f",qC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,KC="ls",QC="p",bm="ac",YC="websocket",ZC="long_polling";var Jc=class{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function SL(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function XC(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===YC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ZC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SL(t)&&(n.ns=t.namespace);let i=[];return et(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var Im=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Wt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return P0(this.counters_)}};var dm={},hm={};function fg(t){let e=t.toString();return dm[e]||(dm[e]=new Im),dm[e]}function TL(t,e){let n=t.toString();return hm[n]||(hm[n]=e()),hm[n]}var Sm=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&fs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var uC="start",ML="close",AL="pLPCommand",xL="pRTLPCB",JC="id",eb="pw",tb="ser",NL="cb",RL="seg",OL="ts",PL="d",FL="dframe",nb=1870,rb=30,kL=nb-rb,LL=25e3,jL=3e4,Tm=class t{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zo(e),this.stats_=fg(n),this.urlFn=l=>(this.appCheckToken&&(l[bm]=this.appCheckToken),XC(n,ZC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Sm(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jL)),vL(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Mm((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===uC)this.id=a,this.password=l;else if(o===ML)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[uC]="t",r[tb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[NL]=this.scriptTagHolder.uniqueCallbackIdentifier),r[HC]=Xc,this.transportSessionId&&(r[zC]=this.transportSessionId),this.lastSessionId&&(r[KC]=this.lastSessionId),this.applicationId&&(r[QC]=this.applicationId),this.appCheckToken&&(r[bm]=this.appCheckToken),typeof location<"u"&&location.hostname&&qC.test(location.hostname)&&(r[WC]=GC);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return dn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wL()&&!EL()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Pe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Gp(n),i=UC(r,kL);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(dn())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[FL]="t",r[JC]=e,r[eb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Pe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Mm=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,dn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=mL(),window[AL+this.uniqueCallbackIdentifier]=e,window[xL+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){$e("frame writing exception"),a.stack&&$e(a.stack),$e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||$e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[JC]=this.myID,e[eb]=this.myPW,e[tb]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+rb+r.length<=nb;){let o=this.pendingSegs.shift();r=r+"&"+RL+i+"="+o.seg+"&"+OL+i+"="+o.ts+"&"+PL+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(LL)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){dn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{$e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var VL=16384,BL=45e3,eu=null;typeof MozWebSocket<"u"?eu=MozWebSocket:typeof WebSocket<"u"&&(eu=WebSocket);var ko=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zo(this.connId),this.stats_=fg(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){let a={};return a[HC]=Xc,!dn()&&typeof location<"u"&&location.hostname&&qC.test(location.hostname)&&(a[WC]=GC),r&&(a[zC]=r),i&&(a[KC]=i),s&&(a[bm]=s),o&&(a[QC]=o),XC(n,YC,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let i;if(dn()){let s=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Xc}/${ug}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new eu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&eu!==null&&!t.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=es(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=Pe(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=UC(r,VL);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BL))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),UL=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Tm,ko]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=ko&&ko.isAvailable(),i=r&&!ko.previouslyFailed();if(n.webSocketOnly&&(r||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[ko];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),$L=6e4,HL=5e3,zL=10*1024,WL=100*1024,fm="t",dC="d",GL="s",hC="r",qL="e",fC="o",pC="a",mC="n",gC="p",KL="h",Am=class{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zo("c:"+this.id+":"),this.transportManager_=new UL(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Bo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>WL?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>zL?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(fm in e){let n=e[fm];n===pC?this.upgradeIfSecondaryHealthy_():n===hC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===fC&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Fo("t",e),r=Fo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:pC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:mC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Fo("t",e),r=Fo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Fo(fm,e);if(dC in e){let r=e[dC];if(n===KL){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===mC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GL?this.onConnectionShutdown_(r):n===hC?this.onReset_(r):n===qL?Em("Server Error: "+r):n===fC?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Em("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Xc!==r&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Bo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($L))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Bo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HL))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gC,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var tu=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var nu=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var ru=class t extends nu{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Kp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var yC=32,vC=768,oe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function se(){return new oe("")}function G(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ar(t){return t.pieces_.length-t.pieceNum_}function de(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new oe(t.pieces_,e)}function pg(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function QL(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zo(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ib(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new oe(e,0)}function ve(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof oe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new oe(n,0)}function K(t){return t.pieceNum_>=t.pieces_.length}function Ot(t,e){let n=G(t),r=G(e);if(n===null)return e;if(n===r)return Ot(de(t),de(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function YL(t,e){let n=zo(t,0),r=zo(e,0);for(let i=0;i<n.length&&i<r.length;i++){let s=ei(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function sb(t,e){if(ar(t)!==ar(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Pt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ar(t)>ar(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var xm=class{constructor(e,n){this.errorPrefix_=n,this.parts_=zo(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=No(this.parts_[r]);ob(this)}};function ZL(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=No(e),ob(t)}function XL(t){let e=t.parts_.pop();t.byteLength_-=No(e),t.parts_.length>0&&(t.byteLength_-=1)}function ob(t){if(t.byteLength_>vC)throw new Error(t.errorPrefix_+"has a key path longer than "+vC+" bytes ("+t.byteLength_+").");if(t.parts_.length>yC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+yC+") or object contains a cycle "+Kr(t))}function Kr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Nm=class t extends nu{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var Lo=1e3,JL=60*5*1e3,_C=30*1e3,ej=1.3,tj=3e4,nj="server_kill",wC=3,mg=(()=>{class t extends tu{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Zo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lo,this.maxReconnectDelay_=JL,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!dn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Nm.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&ru.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Pe(o)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();let r=new Nn,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?r.resolve(l):r.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),r.promise}listen(n,r,i,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);let o={p:i},a="q";n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Wt(n,"w")){let i=Wr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||z0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=_C)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=H0(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);let o={p:n},a="n";s&&(o.q=i,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){let o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();let a={p:r,d:i};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Pe(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Em("Unrecognized action received from server: "+Pe(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tj&&(this.reconnectDelay_=Lo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ej)}this.onConnectStatus_(!1)}establishConnection_(){return A(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,i())},u=function(h){_(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?$e("getToken() completed but was canceled"):($e("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Am(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(nj)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Je(h),c())}}})}interrupt(n){$e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){$e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Qp(this.interruptReasons_)&&(this.reconnectDelay_=Lo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(o=>hg(o)).join("$"):i="default";let s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){let i=new oe(n).toString(),s;if(this.listens.has(i)){let o=this.listens.get(i);s=o.get(r),o.delete(r),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){$e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wC&&(this.reconnectDelay_=_C,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){$e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";dn()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+ug.replace(/\./g,"-")]=1,Kp()?n["framework.cordova"]=1:B0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=ru.getInstance().currentlyOnline();return Qp(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),Y=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var as=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new Y(os,e),i=new Y(os,n);return this.compare(r,i)!==0}minPost(){return Y.MIN}};var Zc,iu=class extends as{static get __EMPTY_NODE(){return Zc}static set __EMPTY_NODE(e){Zc=e}compare(e,n){return ei(e.name,n.name)}isDefinedOn(e){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Y.MIN}maxPost(){return new Y(Zr,Zc)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new Y(e,Zc)}toString(){return".key"}},ss=new iu;var rs=class{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},qt=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Ft.EMPTY_NODE,this.right=o??Ft.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this,o=i(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,r,i),null):o===0?s=s.copy(null,r,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ft.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Rm=class{copy(e,n,r,i,s){return this}insert(e,n,r){return new qt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Ft=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new rs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new rs(this.root_,null,this.comparator_,!0,e)}};Ft.EMPTY_NODE=new Rm;function rj(t,e){return ei(t.name,e.name)}function gg(t,e){return ei(t,e)}var Om;function ij(t){Om=t}var ab=function(t){return typeof t=="number"?"number:"+$C(t):"string:"+t},lb=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Wt(e,".sv"),"Priority must be a string or number.")}else _(t===Om||t.isEmpty(),"priority of unexpected type.");_(t===Om||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var EC,ls=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),lb(this.priorityNode_)}static set __childrenNodeConstructor(n){EC=n}static get __childrenNodeConstructor(){return EC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return K(n)?this:G(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=G(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||ar(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(de(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+ab(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=$C(this.value_):n+=this.value_,this.lazyHash_=BC(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return _(s>=0,"Unknown leaf type: "+r),_(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),cb,ub;function sj(t){cb=t}function oj(t){ub=t}var Pm=class extends as{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?ei(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Y.MIN}maxPost(){return new Y(Zr,new ls("[PRIORITY-POST]",ub))}makePost(e,n){let r=cb(e);return new Y(n,new ls("[PRIORITY-POST]",r))}toString(){return".priority"}},Ke=new Pm;var aj=Math.log(2),Fm=class{constructor(e){let n=s=>parseInt(Math.log(s)/aj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},su=function(t,e,n,r){t.sort(e);let i=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new qt(h,d.node,qt.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=i(l,f),m=i(f+1,c);return d=t[f],h=n?n(d):d,new qt(h,d.node,qt.BLACK,p,m)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,m){let D=d-p,C=d;d-=p;let j=i(D+1,C),ie=t[D],J=n?n(ie):ie;f(new qt(J,ie.node,m,null,j))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let m=l.nextBitIsOne(),D=Math.pow(2,l.count-(p+1));m?h(D,qt.BLACK):(h(D,qt.BLACK),h(D,qt.RED))}return u},o=new Fm(t.length),a=s(o);return new Ft(r||e,a)};var pm,ns={},cs=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _(ns&&Ke,"ChildrenNode.ts has not been loaded"),pm=pm||new t({".priority":ns},{".priority":Ke}),pm}get(e){let n=Wr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ft?n:null}hasIndex(e){return Wt(this.indexSet_,e.toString())}addIndex(e,n){_(e!==ss,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=n.getIterator(Y.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=su(r,e.getCompare()):a=ns;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let r=Ao(this.indexes_,(i,s)=>{let o=Wr(this.indexSet_,s);if(_(o,"Missing index implementation for "+s),i===ns)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(Y.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),su(a,o.getCompare())}else return ns;else{let a=n.get(e.name),l=i;return a&&(l=l.remove(new Y(e.name,a))),l.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Ao(this.indexes_,i=>{if(i===ns)return i;{let s=n.get(e.name);return s?i.remove(new Y(e.name,s)):i}});return new t(r,this.indexSet_)}};var jo,ge=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&lb(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jo||(jo=new t(new Ft(gg),null,cs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?jo:r}}getChild(n){let r=G(n);return r===null?this:this.getImmediateChild(r).getChild(de(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new Y(n,r),s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));let a=s.isEmpty()?jo:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){let i=G(n);if(i===null)return r;{_(G(n)!==".priority"||ar(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(i).updateChild(de(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,s=0,o=!0;if(this.forEachChild(Ke,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){let a=[];for(let l in r)a[l]=r[l];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+ab(this.getPriority().val())+":"),this.forEachChild(Ke,(r,i)=>{let s=i.hash();s!==""&&(n+=":"+r+":"+s)}),this.lazyHash_=n===""?"":BC(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let s=this.resolveIndex_(i);if(s){let o=s.getPredecessorKey(new Y(n,r));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new Y(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new Y(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,Y.Wrap),o=s.peek();for(;o!=null&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Xo?-1:0}withIndex(n){if(n===ss||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ss||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(Ke),s=r.getIterator(Ke),o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ss?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),km=class extends ge{constructor(){super(new Ft(gg),ge.EMPTY_NODE,cs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}},Xo=new km;Object.defineProperties(Y,{MIN:{value:new Y(os,ge.EMPTY_NODE)},MAX:{value:new Y(Zr,Xo)}});iu.__EMPTY_NODE=ge.EMPTY_NODE;ls.__childrenNodeConstructor=ge;ij(Xo);oj(Xo);var lj=!0;function Fe(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ls(n,Fe(e))}if(!(t instanceof Array)&&lj){let n=[],r=!1;if(et(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=Fe(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Y(o,l)))}}),n.length===0)return ge.EMPTY_NODE;let s=su(n,rj,o=>o.name,gg);if(r){let o=su(n,Ke.getCompare());return new ge(s,Fe(e),new cs({".priority":o},{".priority":Ke}))}else return new ge(s,Fe(e),cs.Default)}else{let n=ge.EMPTY_NODE;return et(t,(r,i)=>{if(Wt(t,r)&&r.substring(0,1)!=="."){let s=Fe(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Fe(e))}}sj(Fe);var Lm=class extends as{constructor(e){super(),this.indexPath_=e,_(!K(e)&&G(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?ei(e.name,n.name):s}makePost(e,n){let r=Fe(e),i=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new Y(n,i)}maxPost(){let e=ge.EMPTY_NODE.updateChild(this.indexPath_,Xo);return new Y(Zr,e)}toString(){return zo(this.indexPath_,0).join("/")}};var jm=class extends as{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ei(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Y.MIN}maxPost(){return Y.MAX}makePost(e,n){let r=Fe(e);return new Y(n,r)}toString(){return".value"}},cj=new jm;function uj(t){return{type:"value",snapshotNode:t}}function dj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function hj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function DC(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Vm=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ke}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:os}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ke}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function CC(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ke?n="$priority":t.index_===cj?n="$value":t.index_===ss?n="$key":(_(t.index_ instanceof Lm,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Pe(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=Pe(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Pe(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Pe(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Pe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function bC(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ke&&(e.i=t.index_.toString()),e}var Bm=class t extends tu{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,r),a={};this.listens_[o]=a;let l=CC(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,r),Wr(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",i(h,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=CC(e._queryParams),r=e._path.toString(),i=new Nn;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+W0(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=es(a.responseText)}catch{Je("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Je("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var Um=class{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function ou(){return{value:null,children:new Map}}function db(t,e,n){if(K(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=G(e);t.children.has(r)||t.children.set(r,ou());let i=t.children.get(r);e=de(e),db(i,e,n)}}function $m(t,e,n){t.value!==null?n(e,t.value):pj(t,(r,i)=>{let s=new oe(e.toString()+"/"+r);$m(i,s,n)})}function pj(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Hm=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&et(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var IC=10*1e3,mj=30*1e3,gj=5*60*1e3,zm=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Hm(e);let r=IC+(mj-IC)*Math.random();Bo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;et(e,(i,s)=>{s>0&&Wt(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Bo(this.reportStats_.bind(this),Math.floor(Math.random()*2*gj))}};var On=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(On||{});function yg(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function hb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function fb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Wm=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=yg()}operationForChild(e){if(K(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new oe(e));return new t(se(),n,this.revert)}}else return _(G(this.path)===e,"operationForChild called for unrelated child."),new t(de(this.path),this.affectedTree,this.revert)}};var us=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(e){return K(this.path)?new t(this.source,se(),this.snap.getImmediateChild(e)):new t(this.source,de(this.path),this.snap)}};var Wo=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(e){if(K(this.path)){let n=this.children.subtree(new oe(e));return n.isEmpty()?null:n.value?new us(this.source,se(),n.value):new t(this.source,se(),n)}else return _(G(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,de(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Go=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(K(e))return this.isFullyInitialized()&&!this.filtered_;let n=G(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};function yj(t,e,n,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(fj(o.childName,o.snapshotNode))}),Vo(t,i,"child_removed",e,r,n),Vo(t,i,"child_added",e,r,n),Vo(t,i,"child_moved",s,r,n),Vo(t,i,"child_changed",e,r,n),Vo(t,i,"value",e,r,n),i}function Vo(t,e,n,r,i,s){let o=r.filter(a=>a.type===n);o.sort((a,l)=>_j(t,a,l)),o.forEach(a=>{let l=vj(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function vj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function _j(t,e,n){if(e.childName==null||n.childName==null)throw zr("Should only compare child_ events.");let r=new Y(e.childName,e.snapshotNode),i=new Y(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function pb(t,e){return{eventCache:t,serverCache:e}}function $o(t,e,n,r){return pb(new Go(e,n,r),t.serverCache)}function mb(t,e,n,r){return pb(t.eventCache,new Go(e,n,r))}function Gm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Xr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var mm,wj=()=>(mm||(mm=new Ft(_L)),mm),tt=class t{constructor(e,n=wj()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return et(e,(r,i)=>{n=n.set(new oe(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:se(),value:this.value};if(K(e))return null;{let r=G(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(de(e),n);return s!=null?{path:ve(new oe(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(K(e))return this;{let n=G(e),r=this.children.get(n);return r!==null?r.subtree(de(e)):new t(null)}}set(e,n){if(K(e))return new t(n,this.children);{let r=G(e),s=(this.children.get(r)||new t(null)).set(de(e),n),o=this.children.insert(r,s);return new t(this.value,o)}}remove(e){if(K(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=G(e),r=this.children.get(n);if(r){let i=r.remove(de(e)),s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(K(e))return this.value;{let n=G(e),r=this.children.get(n);return r?r.get(de(e)):null}}setTree(e,n){if(K(e))return n;{let r=G(e),s=(this.children.get(r)||new t(null)).setTree(de(e),n),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new t(this.value,o)}}fold(e){return this.fold_(se(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ve(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,se(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(K(e))return null;{let s=G(e),o=this.children.get(s);return o?o.findOnPath_(de(e),ve(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,se(),n)}foreachOnPath_(e,n,r){if(K(e))return this;{this.value&&r(n,this.value);let i=G(e),s=this.children.get(i);return s?s.foreachOnPath_(de(e),ve(n,i),r):new t(null)}}foreach(e){this.foreach_(se(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ve(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Kt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new tt(null))}};function Ho(t,e,n){if(K(e))return new Kt(new tt(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Ot(i,e);return s=s.updateChild(o,n),new Kt(t.writeTree_.set(i,s))}else{let i=new tt(n),s=t.writeTree_.setTree(e,i);return new Kt(s)}}}function qm(t,e,n){let r=t;return et(n,(i,s)=>{r=Ho(r,ve(e,i),s)}),r}function SC(t,e){if(K(e))return Kt.empty();{let n=t.writeTree_.setTree(e,new tt(null));return new Kt(n)}}function Km(t,e){return ti(t,e)!=null}function ti(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ot(n.path,e)):null}function TC(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ke,(r,i)=>{e.push(new Y(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Y(r,i.value))}),e}function or(t,e){if(K(e))return t;{let n=ti(t,e);return n!=null?new Kt(new tt(n)):new Kt(t.writeTree_.subtree(e))}}function Qm(t){return t.writeTree_.isEmpty()}function ds(t,e){return gb(se(),t.writeTree_,e)}function gb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(_(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=gb(ve(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ve(t,".priority"),r)),n}}function yb(t,e){return Db(e,t)}function Ej(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Ho(t.visibleWrites,e,n)),t.lastWriteId=r}function Dj(t,e,n,r){_(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=qm(t.visibleWrites,e,n),t.lastWriteId=r}function Cj(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function bj(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&Ij(a,r.path)?i=!1:Pt(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return Sj(t),!0;if(r.snap)t.visibleWrites=SC(t.visibleWrites,r.path);else{let a=r.children;et(a,l=>{t.visibleWrites=SC(t.visibleWrites,ve(r.path,l))})}return!0}else return!1}function Ij(t,e){if(t.snap)return Pt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Pt(ve(t.path,n),e))return!0;return!1}function Sj(t){t.visibleWrites=vb(t.allWrites,Tj,se()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Tj(t){return t.visible}function vb(t,e,n){let r=Kt.empty();for(let i=0;i<t.length;++i){let s=t[i];if(e(s)){let o=s.path,a;if(s.snap)Pt(n,o)?(a=Ot(n,o),r=Ho(r,a,s.snap)):Pt(o,n)&&(a=Ot(o,n),r=Ho(r,se(),s.snap.getChild(a)));else if(s.children){if(Pt(n,o))a=Ot(n,o),r=qm(r,a,s.children);else if(Pt(o,n))if(a=Ot(o,n),K(a))r=qm(r,se(),s.children);else{let l=Wr(s.children,G(a));if(l){let c=l.getChild(de(a));r=Ho(r,se(),c)}}}else throw zr("WriteRecord should have .snap or .children")}}return r}function _b(t,e,n,r,i){if(!r&&!i){let s=ti(t.visibleWrites,e);if(s!=null)return s;{let o=or(t.visibleWrites,e);if(Qm(o))return n;if(n==null&&!Km(o,se()))return null;{let a=n||ge.EMPTY_NODE;return ds(o,a)}}}else{let s=or(t.visibleWrites,e);if(!i&&Qm(s))return n;if(!i&&n==null&&!Km(s,se()))return null;{let o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(Pt(c.path,e)||Pt(e,c.path))},a=vb(t.allWrites,o,e),l=n||ge.EMPTY_NODE;return ds(a,l)}}}function Mj(t,e,n){let r=ge.EMPTY_NODE,i=ti(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(Ke,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){let s=or(t.visibleWrites,e);return n.forEachChild(Ke,(o,a)=>{let l=ds(or(s,new oe(o)),a);r=r.updateImmediateChild(o,l)}),TC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=or(t.visibleWrites,e);return TC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Aj(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=ve(e,n);if(Km(t.visibleWrites,s))return null;{let o=or(t.visibleWrites,s);return Qm(o)?i.getChild(n):ds(o,i.getChild(n))}}function xj(t,e,n,r){let i=ve(e,n),s=ti(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){let o=or(t.visibleWrites,i);return ds(o,r.getNode().getImmediateChild(n))}else return null}function Nj(t,e){return ti(t.visibleWrites,e)}function Rj(t,e,n,r,i,s,o){let a,l=or(t.visibleWrites,e),c=ti(l,se());if(c!=null)a=c;else if(n!=null)a=ds(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),f=h.getNext();for(;f&&u.length<i;)d(f,r)!==0&&u.push(f),f=h.getNext();return u}else return[]}function Oj(){return{visibleWrites:Kt.empty(),allWrites:[],lastWriteId:-1}}function Ym(t,e,n,r){return _b(t.writeTree,t.treePath,e,n,r)}function wb(t,e){return Mj(t.writeTree,t.treePath,e)}function MC(t,e,n,r){return Aj(t.writeTree,t.treePath,e,n,r)}function au(t,e){return Nj(t.writeTree,ve(t.treePath,e))}function Pj(t,e,n,r,i,s){return Rj(t.writeTree,t.treePath,e,n,r,i,s)}function vg(t,e,n){return xj(t.writeTree,t.treePath,e,n)}function Eb(t,e){return Db(ve(t.treePath,e),t.writeTree)}function Db(t,e){return{treePath:t,writeTree:e}}var Zm=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,DC(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,hj(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,dj(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,DC(r,e.snapshotNode,i.oldSnap));else throw zr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var Xm=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},Cb=new Xm,qo=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Go(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return vg(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Xr(this.viewCache_),s=Pj(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}};function Fj(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function kj(t,e,n,r,i){let s=new Zm,o,a;if(n.type===On.OVERWRITE){let c=n;c.source.fromUser?o=Jm(t,e,c.path,c.snap,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!K(c.path),o=lu(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===On.MERGE){let c=n;c.source.fromUser?o=jj(t,e,c.path,c.children,r,i,s):(_(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=eg(t,e,c.path,c.children,r,i,a,s))}else if(n.type===On.ACK_USER_WRITE){let c=n;c.revert?o=Uj(t,e,c.path,r,i,s):o=Vj(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===On.LISTEN_COMPLETE)o=Bj(t,e,n.path,r,s);else throw zr("Unknown operation type: "+n.type);let l=s.getChanges();return Lj(e,o,l),{viewCache:o,changes:l}}function Lj(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Gm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(uj(Gm(e)))}}function bb(t,e,n,r,i,s){let o=e.eventCache;if(au(r,n)!=null)return e;{let a,l;if(K(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Xr(e),u=c instanceof ge?c:ge.EMPTY_NODE,d=wb(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Ym(r,Xr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=G(n);if(c===".priority"){_(ar(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=MC(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=de(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=MC(r,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=vg(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,i,s):a=o.getNode()}}return $o(e,a,o.isFullyInitialized()||K(n),t.filter.filtersNodes())}}function lu(t,e,n,r,i,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(K(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{let f=G(n);if(!l.isCompleteForPath(n)&&ar(n)>1)return e;let p=de(n),D=l.getNode().getImmediateChild(f).updateChild(p,r);f===".priority"?c=u.updatePriority(l.getNode(),D):c=u.updateChild(l.getNode(),f,D,p,Cb,null)}let d=mb(e,c,l.isFullyInitialized()||K(n),u.filtersNodes()),h=new qo(i,d,s);return bb(t,d,n,i,h,a)}function Jm(t,e,n,r,i,s,o){let a=e.eventCache,l,c,u=new qo(i,e,s);if(K(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$o(e,c,!0,t.filter.filtersNodes());else{let d=G(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=$o(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=de(n),f=a.getNode().getImmediateChild(d),p;if(K(h))p=r;else{let m=u.getCompleteChild(d);m!=null?pg(h)===".priority"&&m.getChild(ib(h)).isEmpty()?p=m:p=m.updateChild(h,r):p=ge.EMPTY_NODE}if(f.equals(p))l=e;else{let m=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=$o(e,m,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function AC(t,e){return t.eventCache.isCompleteForChild(e)}function jj(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{let u=ve(n,l);AC(e,G(u))&&(a=Jm(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{let u=ve(n,l);AC(e,G(u))||(a=Jm(t,a,u,c,i,s,o))}),a}function xC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function eg(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;K(n)?c=r:c=new tt(null).setTree(n,r);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=xC(t,f,h);l=lu(t,l,new oe(d),p,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),m=xC(t,p,h);l=lu(t,l,new oe(d),m,i,s,o,a)}}),l}function Vj(t,e,n,r,i,s,o){if(au(i,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(K(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return lu(t,e,n,l.getNode().getChild(n),i,s,a,o);if(K(n)){let c=new tt(null);return l.getNode().forEachChild(ss,(u,d)=>{c=c.set(new oe(u),d)}),eg(t,e,n,c,i,s,a,o)}else return e}else{let c=new tt(null);return r.foreach((u,d)=>{let h=ve(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),eg(t,e,n,c,i,s,a,o)}}function Bj(t,e,n,r,i){let s=e.serverCache,o=mb(e,s.getNode(),s.isFullyInitialized()||K(n),s.isFiltered());return bb(t,o,n,r,Cb,i)}function Uj(t,e,n,r,i,s){let o;if(au(r,n)!=null)return e;{let a=new qo(r,e,i),l=e.eventCache.getNode(),c;if(K(n)||G(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Ym(r,Xr(e));else{let d=e.serverCache.getNode();_(d instanceof ge,"serverChildren would be complete if leaf node"),u=wb(r,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=G(n),d=vg(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,de(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,ge.EMPTY_NODE,de(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Ym(r,Xr(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||au(r,se())!=null,$o(e,c,o,t.filter.filtersNodes())}}function $j(t,e){let n=Xr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!K(e)&&!n.getImmediateChild(G(e)).isEmpty())?n.getChild(e):null}function NC(t,e,n,r){e.type===On.MERGE&&e.source.queryId!==null&&(_(Xr(t.viewCache_),"We should always have a full cache before handling merges"),_(Gm(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,s=kj(t.processor_,i,e,n,r);return Fj(t.processor_,s.viewCache),_(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Hj(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Hj(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return yj(t.eventGenerator_,e,n,i)}var RC;function zj(t){_(!RC,"__referenceConstructor has already been defined"),RC=t}function _g(t,e,n,r){let i=e.source.queryId;if(i!==null){let s=t.views.get(i);return _(s!=null,"SyncTree gave us an op for an invalid query."),NC(s,e,n,r)}else{let s=[];for(let o of t.views.values())s=s.concat(NC(o,e,n,r));return s}}function wg(t,e){let n=null;for(let r of t.views.values())n=n||$j(r,e);return n}var OC;function Wj(t){_(!OC,"__referenceConstructor has already been defined"),OC=t}var cu=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new tt(null),this.pendingWriteTree_=Oj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Ib(t,e,n,r,i){return Ej(t.pendingWriteTree_,e,n,r,i),i?Jo(t,new us(yg(),e,n)):[]}function Gj(t,e,n,r){Dj(t.pendingWriteTree_,e,n,r);let i=tt.fromObject(n);return Jo(t,new Wo(yg(),e,i))}function sr(t,e,n=!1){let r=Cj(t.pendingWriteTree_,e);if(bj(t.pendingWriteTree_,e)){let s=new tt(null);return r.snap!=null?s=s.set(se(),!0):et(r.children,o=>{s=s.set(new oe(o),!0)}),Jo(t,new Wm(r.path,s,n))}else return[]}function uu(t,e,n){return Jo(t,new us(hb(),e,n))}function qj(t,e,n){let r=tt.fromObject(n);return Jo(t,new Wo(hb(),e,r))}function Kj(t,e,n,r){let i=Mb(t,r);if(i!=null){let s=Ab(i),o=s.path,a=s.queryId,l=Ot(o,e),c=new us(fb(a),l,n);return xb(t,o,c)}else return[]}function Qj(t,e,n,r){let i=Mb(t,r);if(i){let s=Ab(i),o=s.path,a=s.queryId,l=Ot(o,e),c=tt.fromObject(n),u=new Wo(fb(a),l,c);return xb(t,o,u)}else return[]}function Eg(t,e,n){let i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Ot(o,e),c=wg(a,l);if(c)return c});return _b(i,e,s,n,!0)}function Jo(t,e){return Sb(e,t.syncPointTree_,null,yb(t.pendingWriteTree_,se()))}function Sb(t,e,n,r){if(K(t.path))return Tb(t,e,n,r);{let i=e.get(se());n==null&&i!=null&&(n=wg(i,se()));let s=[],o=G(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=Eb(r,o);s=s.concat(Sb(a,l,c,u))}return i&&(s=s.concat(_g(i,t,r,n))),s}}function Tb(t,e,n,r){let i=e.get(se());n==null&&i!=null&&(n=wg(i,se()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=Eb(r,o),u=t.operationForChild(o);u&&(s=s.concat(Tb(u,a,l,c)))}),i&&(s=s.concat(_g(i,t,r,n))),s}function Mb(t,e){return t.tagToQueryMap.get(e)}function Ab(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new oe(t.substr(0,e))}}function xb(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=yb(t.pendingWriteTree_,e);return _g(r,n,i,null)}var tg=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},ng=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=ve(this.path_,e);return new t(this.syncTree_,n)}node(){return Eg(this.syncTree_,this.path_)}},Yj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},PC=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Zj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Xj(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Zj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},Xj=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},Nb=function(t,e,n,r){return Dg(e,new ng(n,t),r)},Rb=function(t,e,n){return Dg(t,new tg(e),n)};function Dg(t,e,n){let r=t.getPriority().val(),i=PC(r,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=PC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ls(a,Fe(i)):t}else{let o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ls(i))),o.forEachChild(Ke,(a,l)=>{let c=Dg(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var Ko=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Cg(t,e){let n=e instanceof oe?e:new oe(e),r=t,i=G(n);for(;i!==null;){let s=Wr(r.node.children,i)||{children:{},childCount:0};r=new Ko(i,r,s),n=de(n),i=G(n)}return r}function ps(t){return t.node.value}function Ob(t,e){t.node.value=e,rg(t)}function Pb(t){return t.node.childCount>0}function Jj(t){return ps(t)===void 0&&!Pb(t)}function du(t,e){et(t.node.children,(n,r)=>{e(new Ko(n,t,r))})}function Fb(t,e,n,r){n&&!r&&e(t),du(t,i=>{Fb(i,e,!0,r)}),n&&r&&e(t)}function eV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ea(t){return new oe(t.parent===null?t.name:ea(t.parent)+"/"+t.name)}function rg(t){t.parent!==null&&tV(t.parent,t.name,t)}function tV(t,e,n){let r=Jj(n),i=Wt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,rg(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,rg(t))}var nV=/[\[\].#$\/\u0000-\u001F\u007F]/,rV=/[\[\].#$\u0000-\u001F\u007F]/,gm=10*1024*1024,bg=function(t){return typeof t=="string"&&t.length!==0&&!nV.test(t)},kb=function(t){return typeof t=="string"&&t.length!==0&&!rV.test(t)},iV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),kb(t)},sV=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!dg(t)||t&&typeof t=="object"&&Wt(t,".sv")},Lb=function(t,e,n,r){r&&e===void 0||hu(xo(t,"value"),e,n)},hu=function(t,e,n){let r=n instanceof oe?new xm(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Kr(r)+" with contents = "+e.toString());if(dg(e))throw new Error(t+"contains "+e.toString()+" "+Kr(r));if(typeof e=="string"&&e.length>gm/3&&No(e)>gm)throw new Error(t+"contains a string greater than "+gm+" utf8 bytes "+Kr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(et(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bg(o)))throw new Error(t+" contains an invalid key ("+o+") "+Kr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ZL(r,o),hu(t,a,r),XL(r)}),i&&s)throw new Error(t+' contains ".value" child '+Kr(r)+" in addition to actual children.")}},oV=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];let s=zo(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!bg(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(YL);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&Pt(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},aV=function(t,e,n,r){if(r&&e===void 0)return;let i=xo(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];et(e,(o,a)=>{let l=new oe(o);if(hu(i,a,ve(n,l)),pg(l)===".priority"&&!sV(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),oV(i,s)};var jb=function(t,e,n,r){if(!(r&&n===void 0)&&!kb(n))throw new Error(xo(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},lV=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),jb(t,e,n,r)},Vb=function(t,e){if(G(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},cV=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bg(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!iV(n))throw new Error(xo(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var ig=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Ig(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();n!==null&&!sb(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function Qt(t,e,n){Ig(t,n),uV(t,r=>Pt(r,e)||Pt(e,r))}function uV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let s=i.path;e(s)?(dV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function dV(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Yr&&$e("event: "+n.toString()),fs(r)}}}var hV="repo_interrupt",fV=25,sg=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ig,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ou(),this.transactionQueueTree_=new Ko,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function pV(t,e,n){if(t.stats_=fg(t.repoInfo_),t.forceRestClient_||IL())t.server_=new Bm(t.repoInfo_,(r,i,s,o)=>{FC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Pe(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new mg(t.repoInfo_,e,(r,i,s,o)=>{FC(t,r,i,s,o)},r=>{kC(t,r)},r=>{mV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=TL(t.repoInfo_,()=>new zm(t.stats_,t.server_)),t.infoData_=new Um,t.infoSyncTree_=new cu({startListening:(r,i,s,o)=>{let a=[],l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=uu(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Sg(t,"connected",!1),t.serverSyncTree_=new cu({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{let c=o(a,l);Qt(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Bb(t){let n=t.infoData_.getNode(new oe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fu(t){return Yj({timestamp:Bb(t)})}function FC(t,e,n,r,i){t.dataUpdateCount++;let s=new oe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){let l=Ao(n,c=>Fe(c));o=Qj(t.serverSyncTree_,s,l,i)}else{let l=Fe(n);o=Kj(t.serverSyncTree_,s,l,i)}else if(r){let l=Ao(n,c=>Fe(c));o=qj(t.serverSyncTree_,s,l)}else{let l=Fe(n);o=uu(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hs(t,s)),Qt(t.eventQueue_,a,o)}function kC(t,e){Sg(t,"connected",e),e===!1&&vV(t)}function mV(t,e){et(e,(n,r)=>{Sg(t,n,r)})}function Sg(t,e,n){let r=new oe("/.info/"+e),i=Fe(n);t.infoData_.updateSnapshot(r,i);let s=uu(t.infoSyncTree_,r,i);Qt(t.eventQueue_,r,s)}function Tg(t){return t.nextWriteId_++}function gV(t,e,n,r,i){pu(t,"set",{path:e.toString(),value:n,priority:r});let s=fu(t),o=Fe(n,r),a=Eg(t.serverSyncTree_,e),l=Rb(o,a,s),c=Tg(t),u=Ib(t.serverSyncTree_,e,l,c,!0);Ig(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||Je("set at "+e+" failed: "+h);let m=sr(t.serverSyncTree_,c,!p);Qt(t.eventQueue_,e,m),og(t,i,h,f)});let d=Ag(t,e);hs(t,d),Qt(t.eventQueue_,d,[])}function yV(t,e,n,r){pu(t,"update",{path:e.toString(),value:n});let i=!0,s=fu(t),o={};if(et(n,(a,l)=>{i=!1,o[a]=Nb(ve(e,a),Fe(l),t.serverSyncTree_,s)}),i)$e("update() called with empty data.  Don't do anything."),og(t,r,"ok",void 0);else{let a=Tg(t),l=Gj(t.serverSyncTree_,e,o,a);Ig(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Je("update at "+e+" failed: "+c);let h=sr(t.serverSyncTree_,a,!d),f=h.length>0?hs(t,e):e;Qt(t.eventQueue_,f,h),og(t,r,c,u)}),et(n,c=>{let u=Ag(t,ve(e,c));hs(t,u)}),Qt(t.eventQueue_,e,[])}}function vV(t){pu(t,"onDisconnectEvents");let e=fu(t),n=ou();$m(t.onDisconnect_,se(),(i,s)=>{let o=Nb(i,s,t.serverSyncTree_,e);db(n,i,o)});let r=[];$m(n,se(),(i,s)=>{r=r.concat(uu(t.serverSyncTree_,i,s));let o=Ag(t,i);hs(t,o)}),t.onDisconnect_=ou(),Qt(t.eventQueue_,se(),r)}function _V(t){t.persistentConnection_&&t.persistentConnection_.interrupt(hV)}function pu(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),$e(n,...e)}function og(t,e,n,r){e&&fs(()=>{if(n==="ok")e(null);else{let i=(n||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function Ub(t,e,n){return Eg(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Mg(t,e=t.transactionQueueTree_){if(e||mu(t,e),ps(e)){let n=Hb(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&wV(t,ea(e),n)}else Pb(e)&&du(e,n=>{Mg(t,n)})}function wV(t,e,n){let r=n.map(c=>c.currentWriteId),i=Ub(t,e,r),s=i,o=i.hash();for(let c=0;c<n.length;c++){let u=n[c];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ot(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{pu(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(sr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();mu(t,Cg(t.transactionQueueTree_,e)),Mg(t,t.transactionQueueTree_),Qt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)fs(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Je("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}hs(t,e)}},o)}function hs(t,e){let n=$b(t,e),r=ea(n),i=Hb(t,n);return EV(t,i,r),r}function EV(t,e,n){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Ot(n,l.path),u=!1,d;if(_(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=fV)u=!0,d="maxretry",i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0));else{let h=Ub(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){hu("transaction failed: Data returned ",f,l.path);let p=Fe(f);typeof f=="object"&&f!=null&&Wt(f,".priority")||(p=p.updatePriority(h.getPriority()));let D=l.currentWriteId,C=fu(t),j=Rb(p,h,C);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=j,l.currentWriteId=Tg(t),o.splice(o.indexOf(D),1),i=i.concat(Ib(t.serverSyncTree_,l.path,j,l.currentWriteId,l.applyLocally)),i=i.concat(sr(t.serverSyncTree_,D,!0))}else u=!0,d="nodata",i=i.concat(sr(t.serverSyncTree_,l.currentWriteId,!0))}Qt(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}mu(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)fs(r[a]);Mg(t,t.transactionQueueTree_)}function $b(t,e){let n,r=t.transactionQueueTree_;for(n=G(e);n!==null&&ps(r)===void 0;)r=Cg(r,n),e=de(e),n=G(e);return r}function Hb(t,e){let n=[];return zb(t,e,n),n.sort((r,i)=>r.order-i.order),n}function zb(t,e,n){let r=ps(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);du(e,i=>{zb(t,i,n)})}function mu(t,e){let n=ps(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ob(e,n.length>0?n:void 0)}du(e,r=>{mu(t,r)})}function Ag(t,e){let n=ea($b(t,e)),r=Cg(t.transactionQueueTree_,e);return eV(r,i=>{ym(t,i)}),ym(t,r),Fb(r,i=>{ym(t,i)}),n}function ym(t,e){let n=ps(e);if(n){let r=[],i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(_(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(_(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ob(e,void 0):n.length=s+1,Qt(t.eventQueue_,ea(e),i);for(let o=0;o<r.length;o++)fs(r[o])}}function DV(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function CV(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Je(`Invalid query segment '${n}' in query '${t}'`)}return e}var LC=function(t,e){let n=bV(t),r=n.namespace;n.domain==="firebase.com"&&Pn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Pn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yL();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new oe(n.pathString)}},bV=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=DV(t.substring(u,d)));let h=CV(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var jC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",IV=function(){let t=0,e=[];return function(n){let r=n===t;t=n;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=jC.charAt(n%64),n=Math.floor(n/64);_(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=jC.charAt(e[i]);return _(o.length===20,"nextPushId: Length should be 20."),o}}();var ag=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return K(this._path)?null:pg(this._path)}get ref(){return new Jr(this._repo,this._path)}get _queryIdentifier(){let e=bC(this._queryParams),n=hg(e);return n==="{}"?"default":n}get _queryObject(){return bC(this._queryParams)}isEqual(e){if(e=hn(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=sb(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+QL(this._path)}};var Jr=class t extends ag{constructor(e,n){super(e,n,new Vm,!1)}get parent(){let e=ib(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}};function xg(t,e){return t=hn(t),t._checkNotDeleted("ref"),e!==void 0?Qo(t._root,e):t._root}function Qo(t,e){return t=hn(t),G(t._path)===null?lV("child","path",e,!1):jb("child","path",e,!1),new Jr(t._repo,ve(t._path,e))}function Wb(t,e){t=hn(t),Vb("push",t._path),Lb("push",e,t._path,!0);let n=Bb(t._repo),r=IV(n),i=Qo(t,r),s=Qo(t,r),o;return e!=null?o=SV(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function SV(t,e){t=hn(t),Vb("set",t._path),Lb("set",e,t._path,!1);let n=new Nn;return gV(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Gb(t,e){aV("update",e,t._path,!1);let n=new Nn;return yV(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}zj(Jr);Wj(Jr);var TV="FIREBASE_DATABASE_EMULATOR_HOST",lg={},MV=!1;function AV(t,e,n,r){t.repoInfo_=new Jc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function xV(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Pn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),$e("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=LC(s,i),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[TV]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=LC(s,i),a=o.repoInfo):l=!o.repoInfo.secure;let u=i&&l?new Uo(Uo.OWNER):new Cm(t.name,t.options,e);cV("Invalid Firebase Database URL",o),K(o.path)||Pn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=RV(a,t,u,new Dm(t.name,n));return new cg(d,t)}function NV(t,e){let n=lg[e];(!n||n[t.key]!==t)&&Pn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_V(t),delete n[t.key]}function RV(t,e,n,r){let i=lg[e.name];i||(i={},lg[e.name]=i);let s=i[t.toURLString()];return s&&Pn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sg(t,MV,n,r),i[t.toURLString()]=s,s}var cg=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jr(this._repo,se())),this._rootInternal}_delete(){return this._rootInternal!==null&&(NV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Pn("Cannot call "+e+" on a deleted database.")}};function qb(t=Po(),e){let n=ir(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=L0("database");r&&OV(n,...r)}return n}function OV(t,e,n,r={}){t=hn(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Pn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Pn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Uo(Uo.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:j0(r.mockUserToken,t.app.options.projectId);s=new Uo(o)}AV(i,e,n,s)}function PV(t){pL(rC),Gt(new Xe("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return xV(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),ct(oC,aC,t),ct(oC,aC,"esm2017")}mg.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mg.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};PV();var Kb=(()=>{let e=class e{constructor(){this.status=Tn({value:"idle"})}postData(r){return A(this,null,function*(){if(this.status().value==="loading")return;this.status.set({value:"loading"});let i=qb(),o={["/forms/"+Wb(Qo(xg(i),"forms")).key]:r};try{yield Gb(xg(i),o),setTimeout(()=>this.status.set({value:"success"}),500)}catch(a){this.status.set({value:"error",error:a})}})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var FV=["*"],Qb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-form-item"]],inputs:{label:"label"},standalone:!0,features:[ne],ngContentSelectors:FV,decls:5,vars:1,consts:[[1,"flex","flex-col"],[1,"text-md","font-medium"],[1,"mt-2"]],template:function(i,s){i&1&&(Ll(),v(0,"div",0)(1,"div",1),S(2),w(),v(3,"div",2),jl(4),w()()),i&2&&(F(2),_t(s.label))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function kV(t,e){t&1&&(v(0,"div",2),k(1,"img",3),v(2,"p",4),S(3,"Merci ! Votre r\xE9ponse a bien \xE9t\xE9 envoy\xE9e."),w()())}function LV(t,e){t&1&&(v(0,"div",21),S(1,"Merci de renseigner le champ."),w())}function jV(t,e){t&1&&(v(0,"div",21),S(1,"Veuillez s\xE9lectionner une r\xE9ponse."),w())}function VV(t,e){t&1&&(v(0,"div",22),k(1,"img",23),w())}function BV(t,e){t&1&&(v(0,"div",24),S(1," Une erreur est survenue, veuillez r\xE9essayer plus tard \u{1F62D}. "),w())}var UV=t=>({"border border-red-600":t});function $V(t,e){if(t&1){let n=sn();v(0,"form",5),Ie("ngSubmit",function(){tn(n);let i=Ee();return nn(i.submitForm())}),v(1,"app-form-item",6),k(2,"input",7),Ae(3,LV,2,0,"div",8),w(),v(4,"div",9),k(5,"input",10),v(6,"label",11),S(7,"Oui, avec plaisir !"),w()(),v(8,"div",12),k(9,"input",13),v(10,"label",14),S(11,"Non, avec regret !"),w()(),Ae(12,jV,2,0,"div",8),v(13,"app-form-item",15),k(14,"textarea",16),w(),v(15,"div",17),Ae(16,VV,2,0,"div",18),v(17,"button",19),S(18," Envoyer les informations "),w(),Ae(19,BV,2,0,"div",20),w()()}if(t&2){let n=Ee(),r,i,s;ue("formGroup",n.form),F(2),ue("ngClass",zw(6,UV,((r=n.form.get("persons"))==null?null:r.invalid)&&((r=n.form.get("persons"))==null?null:r.dirty))),F(),Be(3,(i=n.form.get("persons"))!=null&&i.invalid&&((i=n.form.get("persons"))!=null&&i.dirty)?3:-1),F(9),Be(12,(s=n.form.get("response"))!=null&&s.invalid&&((s=n.form.get("response"))!=null&&s.dirty)?12:-1),F(4),Be(16,n.rsvpService.status().value==="loading"?16:-1),F(3),Be(19,n.rsvpService.status().value==="error"?19:-1)}}var Yb=(()=>{let e=class e{constructor(){this.rsvpService=g(Kb),this.fb=g(x0),this.form=this.fb.group({persons:this.fb.nonNullable.control("",[To.required]),response:this.fb.control(null,[To.required]),comments:this.fb.nonNullable.control("")})}submitForm(){return A(this,null,function*(){if(this.form.invalid){let r=this.form.get("persons");r.markAsDirty(),r.updateValueAndValidity();let i=this.form.get("response");i.markAsDirty(),i.updateValueAndValidity();return}yield this.rsvpService.postData({comments:this.form.value.comments,persons:this.form.value.persons,response:this.form.value.response,sentAt:new Date})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-rsvp"]],standalone:!0,features:[ne],decls:5,vars:1,consts:[[1,"text-center"],["class","mx-auto flex animate-fade-in flex-col items-center text-xl"],[1,"mx-auto","flex","animate-fade-in","flex-col","items-center","text-xl"],["alt","OK","src","assets/checkmark.svg",1,"h-12","w-12"],[1,"mt-4"],[1,"m-auto","flex","w-full","max-w-3xl","flex-col","items-stretch","rounded-md","bg-primaryLighter","p-8",3,"formGroup","ngSubmit"],["label","Vos noms et pr\xE9noms",1,"mt-4","flex-1"],["formControlName","persons",1,"w-full","rounded-md",3,"ngClass"],["class","text-md mt-2 italic text-red-600"],[1,"mt-6","flex","flex-row","items-center"],["type","radio","id","present","formControlName","response","value","true","checked","",1,"mr-4","min-h-5","min-w-5","accent-primary"],["for","present"],[1,"mt-2","flex","flex-row","items-center"],["type","radio","id","notpresent","formControlName","response","value","false","checked","",1,"mr-4","min-h-5","min-w-5","accent-primary"],["for","notpresent"],["label","Commentaires (remarques, sp\xE9cificit\xE9s alimentaires, etc.)",1,"mt-6","flex-1"],["rows","4","formControlName","comments",1,"row","w-full","resize-none","rounded-md"],[1,"relative","mx-auto","mt-10","flex","flex-col","items-center"],["class","absolute -top-9 left-1/2 -translate-x-1/2"],["type","submit",1,"rounded-md","border","bg-primary","px-4","py-2","text-white","opacity-80","transition-opacity","hover:opacity-100"],["class","mt-8 w-full text-red-600"],[1,"text-md","mt-2","italic","text-red-600"],[1,"absolute","-top-9","left-1/2","-translate-x-1/2"],["alt","loading","src","assets/loading.svg",1,"animate-rotate-infinite","inline-block","h-6","w-6","origin-center"],[1,"mt-8","w-full","text-red-600"]],template:function(i,s){i&1&&(v(0,"app-page")(1,"h1",0),S(2,"R\xE9ponse \xE0 l'invitation"),w(),Ae(3,kV,4,0,"div",1)(4,$V,20,8),w()),i&2&&(F(3),Be(3,s.rsvpService.status().value==="success"?3:4))},dependencies:[le,Hl,un,N0,M0,Bc,Bp,C0,b0,Up,$p,Qb],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function HV(t,e){t&1&&k(0,"div",0)}var zV=()=>[],Zb=(()=>{let e=class e{constructor(){this.amount=3}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-dots"]],inputs:{amount:"amount"},standalone:!0,features:[ne],decls:2,vars:1,consts:[[1,"m-2","h-2","w-2","rounded-full","bg-primary","opacity-35"],["class","m-2 h-2 w-2 rounded-full bg-primary opacity-35"]],template:function(i,s){i&1&&yt(0,HV,1,0,"div",1,Pi),i&2&&vt(Vl(0,zV).constructor(s.amount))},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var Xb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-wedding-details"]],standalone:!0,features:[ne],decls:28,vars:1,consts:[["src","assets/images/herponcey.jpg","alt","Ch\xE2teau d'Herponcey",1,"mb-12","hidden","h-72","w-full","object-cover","sm:block","xl:h-96"],["src","assets/images/herponcey.jpg","alt","Ch\xE2teau d'Herponcey",1,"mx-auto","mb-12","block","aspect-video","max-w-full","object-cover","sm:hidden"],[1,"text-center"],[1,"flex","flex-col","items-center","justify-center","text-center","xl:flex-row-reverse","xl:items-start","xl:overflow-hidden","xl:rounded-xl","xl:bg-white","xl:text-left"],[1,"flex","flex-col","xl:mx-12","xl:my-8","xl:flex-1"],[1,""],[1,"hidden","xl:block"],["src","https://www.google.com/maps/d/u/0/embed?mid=1SujMwO3DWVg4oWTYF-2VMIJ5snd9l7A&ehbc=2E312F&noprof=1&z=17","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"mt-3","h-96","w-full","max-w-full","xl:mt-0","xl:max-w-lg"],[1,"mx-auto","my-6",3,"amount"],[1,"flex","flex-col","items-center","justify-center","text-center","xl:flex-row","xl:items-start","xl:overflow-hidden","xl:rounded-xl","xl:bg-white","xl:text-left"],[1,"italic"],[1,"whitespace-nowrap","font-medium"],["src","https://www.google.com/maps/d/embed?mid=1W-d-KcUZAFLbva9vsj1OvWsowMWirZc&ehbc=2E312F&noprof=1&z=15","allowfullscreen","","loading","lazy","referrerpolicy","no-referrer-when-downgrade",1,"mt-3","h-96","w-full","max-w-full","xl:mt-0","xl:max-w-lg"]],template:function(i,s){i&1&&(v(0,"app-page"),k(1,"img",0)(2,"img",1),v(3,"h1",2),S(4,"Le mariage"),w(),v(5,"div",3)(6,"div",4)(7,"h2",5),S(8,"La c\xE9r\xE9monie religieuse"),w(),v(9,"p"),S(10," \xC0 16h30 commence la c\xE9r\xE9monie religieuse "),k(11,"br",6),S(12," \xE0 l'\xE9glise Saint-Germain de Rugles, Place Foch. "),w(),v(13,"p"),S(14," Pour stationner \xE0 Rugles : la petite place de l'\xE9glise sera r\xE9serv\xE9e aux mari\xE9s et \xE0 leurs parents, mais vous trouverez diff\xE9rents parking \xE0 proximit\xE9 dont certains indiqu\xE9s sur la carte. "),w()(),k(15,"iframe",7),w(),k(16,"app-dots",8),v(17,"div",9)(18,"div",4)(19,"h2",5),S(20,"La r\xE9ception"),w(),v(21,"p",5),S(22," Apr\xE8s la c\xE9r\xE9monie religieuse, nous nous retrouverons chez Pierre et Edm\xE9e. Le ch\xE2teau d'Herponcey se trouve \xE0 4 km de Rugles, sur la D830 qui m\xE8ne de Rugles vers L'Aigle. "),w(),v(23,"p",10),S(24," Attention, le ch\xE2teau d'Herponcey n'est pas r\xE9pertori\xE9 sur Google Maps, ses coordoon\xE9es GPS sont : "),v(25,"span",11),S(26,"48.79835, 0.69436"),w()()(),k(27,"iframe",12),w()()),i&2&&(F(16),ue("amount",3))},dependencies:[le,un,Zb],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var Jb=[{path:"",redirectTo:"/mariage",pathMatch:"full"},{path:"hebergements",component:GD},{path:"mariage",component:Xb},{path:"rsvp",component:Yb},{path:"notre-liste",component:qD},{path:"galerie",component:ZD}];var eI={providers:[uD(Jb),AE(),BD(),{provide:qs,useValue:"fr-FR"}]};var rI="@firebase/installations",Pg="0.6.5";var iI=1e4,sI=`w:${Pg}`,oI="FIS_v2",WV="https://firebaseinstallations.googleapis.com/v1",GV=60*60*1e3,qV="installations",KV="Installations";var QV={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ri=new Rn(qV,KV,QV);function aI(t){return t instanceof zt&&t.code.includes("request-failed")}function lI({projectId:t}){return`${WV}/projects/${t}/installations`}function cI(t){return{token:t.token,requestStatus:2,expiresIn:ZV(t.expiresIn),creationTime:Date.now()}}function uI(t,e){return A(this,null,function*(){let r=(yield e.json()).error;return ri.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function dI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function YV(t,{refreshToken:e}){let n=dI(t);return n.append("Authorization",XV(e)),n}function hI(t){return A(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function ZV(t){return Number(t.replace("s","000"))}function XV(t){return`${oI} ${t}`}function JV(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=lI(t),o=dI(t),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let l={fid:n,authVersion:oI,appId:t.appId,sdkVersion:sI},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield hI(()=>fetch(s,c));if(u.ok){let d=yield u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:cI(d.authToken)}}else throw yield uI("Create Installation",u)})}function fI(t){return new Promise(e=>{setTimeout(e,t)})}function e2(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var t2=/^[cdef][\w-]{21}$/,Og="";function n2(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=r2(t);return t2.test(n)?n:Og}catch{return Og}}function r2(t){return e2(t).substr(0,22)}function yu(t){return`${t.appName}!${t.appId}`}var pI=new Map;function mI(t,e){let n=yu(t);gI(n,e),i2(n,e)}function gI(t,e){let n=pI.get(t);if(n)for(let r of n)r(e)}function i2(t,e){let n=s2();n&&n.postMessage({key:t,fid:e}),o2()}var ni=null;function s2(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=t=>{gI(t.data.key,t.data.fid)}),ni}function o2(){pI.size===0&&ni&&(ni.close(),ni=null)}var a2="firebase-installations-database",l2=1,ii="firebase-installations-store",Ng=null;function Fg(){return Ng||(Ng=Qc(a2,l2,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ii)}}})),Ng}function gu(t,e){return A(this,null,function*(){let n=yu(t),i=(yield Fg()).transaction(ii,"readwrite"),s=i.objectStore(ii),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&mI(t,e.fid),e})}function yI(t){return A(this,null,function*(){let e=yu(t),r=(yield Fg()).transaction(ii,"readwrite");yield r.objectStore(ii).delete(e),yield r.done})}function vu(t,e){return A(this,null,function*(){let n=yu(t),i=(yield Fg()).transaction(ii,"readwrite"),s=i.objectStore(ii),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&mI(t,a.fid),a})}function kg(t){return A(this,null,function*(){let e,n=yield vu(t.appConfig,r=>{let i=c2(r),s=u2(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Og?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function c2(t){let e=t||{fid:n2(),registrationStatus:0};return vI(e)}function u2(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(ri.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=d2(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:h2(t)}:{installationEntry:e}}function d2(t,e){return A(this,null,function*(){try{let n=yield JV(t,e);return gu(t.appConfig,n)}catch(n){throw aI(n)&&n.customData.serverCode===409?yield yI(t.appConfig):yield gu(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function h2(t){return A(this,null,function*(){let e=yield tI(t.appConfig);for(;e.registrationStatus===1;)yield fI(100),e=yield tI(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield kg(t);return r||n}return e})}function tI(t){return vu(t,e=>{if(!e)throw ri.create("installation-not-found");return vI(e)})}function vI(t){return f2(t)?{fid:t.fid,registrationStatus:0}:t}function f2(t){return t.registrationStatus===1&&t.registrationTime+iI<Date.now()}function p2(r,i){return A(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=m2(t,n),o=YV(t,n),a=e.getImmediate({optional:!0});if(a){let d=yield a.getHeartbeatsHeader();d&&o.append("x-firebase-client",d)}let l={installation:{sdkVersion:sI,appId:t.appId}},c={method:"POST",headers:o,body:JSON.stringify(l)},u=yield hI(()=>fetch(s,c));if(u.ok){let d=yield u.json();return cI(d)}else throw yield uI("Generate Auth Token",u)})}function m2(t,{fid:e}){return`${lI(t)}/${e}/authTokens:generate`}function Lg(t,e=!1){return A(this,null,function*(){let n,r=yield vu(t.appConfig,s=>{if(!_I(s))throw ri.create("not-registered");let o=s.authToken;if(!e&&v2(o))return s;if(o.requestStatus===1)return n=g2(t,e),s;{if(!navigator.onLine)throw ri.create("app-offline");let a=w2(s);return n=y2(t,a),a}});return n?yield n:r.authToken})}function g2(t,e){return A(this,null,function*(){let n=yield nI(t.appConfig);for(;n.authToken.requestStatus===1;)yield fI(100),n=yield nI(t.appConfig);let r=n.authToken;return r.requestStatus===0?Lg(t,e):r})}function nI(t){return vu(t,e=>{if(!_I(e))throw ri.create("not-registered");let n=e.authToken;return E2(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function y2(t,e){return A(this,null,function*(){try{let n=yield p2(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield gu(t.appConfig,r),n}catch(n){if(aI(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield yI(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield gu(t.appConfig,r)}throw n}})}function _I(t){return t!==void 0&&t.registrationStatus===2}function v2(t){return t.requestStatus===2&&!_2(t)}function _2(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+GV}function w2(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function E2(t){return t.requestStatus===1&&t.requestTime+iI<Date.now()}function D2(t){return A(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield kg(e);return r?r.catch(console.error):Lg(e).catch(console.error),n.fid})}function C2(t,e=!1){return A(this,null,function*(){let n=t;return yield b2(n),(yield Lg(n,e)).token})}function b2(t){return A(this,null,function*(){let{registrationPromise:e}=yield kg(t);e&&(yield e)})}function I2(t){if(!t||!t.options)throw Rg("App Configuration");if(!t.name)throw Rg("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw Rg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Rg(t){return ri.create("missing-app-config-values",{valueName:t})}var wI="installations",S2="installations-internal",T2=t=>{let e=t.getProvider("app").getImmediate(),n=I2(e),r=ir(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},M2=t=>{let e=t.getProvider("app").getImmediate(),n=ir(e,wI).getImmediate();return{getId:()=>D2(n),getToken:i=>C2(n,i)}};function A2(){Gt(new Xe(wI,T2,"PUBLIC")),Gt(new Xe(S2,M2,"PRIVATE"))}A2();ct(rI,Pg);ct(rI,Pg,"esm2017");var _u="analytics",x2="firebase_id",N2="origin",R2=60*1e3,O2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zg="https://www.googletagmanager.com/gtag/js";var ut=new nr("@firebase/analytics");var P2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ct=new Rn("analytics","Analytics",P2);function F2(t){if(!t.startsWith(zg)){let e=Ct.create("invalid-gtag-resource",{gtagURL:t});return ut.warn(e.message),""}return t}function TI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function k2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function L2(t,e){let n=k2("firebase-js-sdk-policy",{createScriptURL:F2}),r=document.createElement("script"),i=`${zg}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function j2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}function V2(t,e,n,r,i,s){return A(this,null,function*(){let o=r[i];try{if(o)yield e[o];else{let l=(yield TI(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){ut.error(a)}t("config",i,s)})}function B2(t,e,n,r,i){return A(this,null,function*(){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=yield TI(n);for(let l of o){let c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){ut.error(s)}})}function U2(t,e,n,r){function i(s,...o){return A(this,null,function*(){try{if(s==="event"){let[a,l]=o;yield B2(t,e,n,a,l)}else if(s==="config"){let[a,l]=o;yield V2(t,e,n,r,a,l)}else if(s==="consent"){let[a]=o;t("consent","update",a)}else if(s==="get"){let[a,l,c]=o;t("get",a,l,c)}else if(s==="set"){let[a]=o;t("set",a)}else t(s,...o)}catch(a){ut.error(a)}})}return i}function $2(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=U2(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function H2(t){let e=window.document.getElementsByTagName("script");for(let n of Object.values(e))if(n.src&&n.src.includes(zg)&&n.src.includes(t))return n;return null}var z2=30,W2=1e3,Vg=class{constructor(e={},n=W2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},MI=new Vg;function G2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function q2(t){return A(this,null,function*(){var e;let{appId:n,apiKey:r}=t,i={method:"GET",headers:G2(r)},s=O2.replace("{app-id}",n),o=yield fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let l=yield o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw Ct.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})}function K2(r){return A(this,arguments,function*(t,e=MI,n){let{appId:i,apiKey:s,measurementId:o}=t.options;if(!i)throw Ct.create("no-app-id");if(!s){if(o)return{measurementId:o,appId:i};throw Ct.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new Bg;return setTimeout(()=>A(this,null,function*(){l.abort()}),n!==void 0?n:R2),AI({appId:i,apiKey:s,measurementId:o},a,l,e)})}function AI(s,o,a){return A(this,arguments,function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=MI){var l;let{appId:c,measurementId:u}=t;try{yield Q2(r,e)}catch(d){if(u)return ut.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:c,measurementId:u};throw d}try{let d=yield q2(t);return i.deleteThrottleMetadata(c),d}catch(d){let h=d;if(!Y2(h)){if(i.deleteThrottleMetadata(c),u)return ut.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${u} provided in the "measurementId" field in the local Firebase config. [${h?.message}]`),{appId:c,measurementId:u};throw d}let f=Number((l=h?.customData)===null||l===void 0?void 0:l.httpStatus)===503?Yp(n,i.intervalMillis,z2):Yp(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+f,backoffCount:n+1};return i.setThrottleMetadata(c,p),ut.debug(`Calling attemptFetch again in ${f} millis`),AI(t,p,r,i)}})}function Q2(t,e){return new Promise((n,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ct.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Y2(t){if(!(t instanceof zt)||!t.customData)return!1;let e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}var Bg=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var Ug;function Z2(t,e,n,r,i){return A(this,null,function*(){if(i&&i.global){t("event",n,r);return}else{let s=yield e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}})}var $g;function X2(t){$g=t}function J2(t){Ug=t}function eB(){return A(this,null,function*(){if(Wc())try{yield Gc()}catch(t){return ut.warn(Ct.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return ut.warn(Ct.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function tB(t,e,n,r,i,s,o){return A(this,null,function*(){var a;let l=K2(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&ut.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>ut.error(f)),e.push(l);let c=eB().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);H2(s)||L2(s,u.measurementId),$g&&(i("consent","default",$g),X2(void 0)),i("js",new Date);let h=(a=o?.config)!==null&&a!==void 0?a:{};return h[N2]="firebase",h.update=!0,d!=null&&(h[x2]=d),i("config",u.measurementId,h),Ug&&(i("set",Ug),J2(void 0)),u.measurementId})}var Hg=class{constructor(e){this.app=e}_delete(){return delete ta[this.app.options.appId],Promise.resolve()}},ta={},EI=[],DI={},jg="dataLayer",nB="gtag",CI,xI,bI=!1;function rB(){let t=[];if(V0()&&t.push("This is a browser extension environment."),U0()||t.push("Cookies are not available."),t.length>0){let e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ct.create("invalid-analytics-context",{errorInfo:e});ut.warn(n.message)}}function iB(t,e,n){rB();let r=t.options.appId;if(!r)throw Ct.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)ut.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ct.create("no-api-key");if(ta[r]!=null)throw Ct.create("already-exists",{id:r});if(!bI){j2(jg);let{wrappedGtag:s,gtagCore:o}=$2(ta,EI,DI,jg,nB);xI=s,CI=o,bI=!0}return ta[r]=tB(t,EI,DI,e,CI,jg,n),new Hg(t)}function NI(t=Po()){t=hn(t);let e=ir(t,_u);return e.isInitialized()?e.getImmediate():sB(t)}function sB(t,e={}){let n=ir(t,_u);if(n.isInitialized()){let i=n.getImmediate();if(ts(e,n.getOptions()))return i;throw Ct.create("already-initialized")}return n.initialize({options:e})}function wu(t,e,n,r){t=hn(t),Z2(xI,ta[t.app.options.appId],e,n,r).catch(i=>ut.error(i))}var II="@firebase/analytics",SI="0.10.1";function oB(){Gt(new Xe(_u,(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return iB(r,i,n)},"PUBLIC")),Gt(new Xe("analytics-internal",t,"PRIVATE")),ct(II,SI),ct(II,SI,"esm2017");function t(e){try{let n=e.getProvider(_u).getImmediate();return{logEvent:(r,i,s)=>wu(n,r,i,s)}}catch(n){throw Ct.create("interop-component-reg-failed",{reason:n})}}}oB();var aB="firebase",lB="10.8.1";ct(aB,lB,"app");var na={url:"https://web-wedding-13d08-default-rtdb.europe-west1.firebasedatabase.app",gaKey:"G-BEQRVGS5FB",apiKey:"AIzaSyD9GBnp6I4zAMurXeFw_al3D50T4sJaVWI",appId:"1:363474669863:web:d29b64729f24d25a1d5902"};var RI=(()=>{let e=class e{constructor(){this.router=g(Gi)}initFirebase(){let r=um({databaseURL:na.url,measurementId:na.gaKey,projectId:"web-wedding-13d08",apiKey:na.apiKey,appId:na.appId}),i=NI(r);wu(i,"open",{page_location:this.router.url,page_path:this.router.url,page_title:this.router.url}),this.router.events.pipe(Qe(s=>s instanceof $t)).subscribe(s=>{wu(i,"page_view",{page_location:s.url,page_path:s.url,page_title:s.url})})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=I({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var OI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-footer"]],standalone:!0,features:[ne],decls:6,vars:0,consts:[[1,"f","flex","flex-col","items-center","justify-center","p-8"],["src","assets/separator.svg","alt","sepator",1,"mb-4","h-6"],[1,"text-secondary"],[1,"text-xs"]],template:function(i,s){i&1&&(v(0,"div",0),k(1,"img",1),v(2,"div",2),S(3,"Daniel & Madeleine "),v(4,"span",3),S(5,"\u2010 1.0.8"),w()()())},dependencies:[le],styles:["[_nghost-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();function cB(t,e){if(t&1&&(v(0,"a",6)(1,"span"),S(2),w(),k(3,"div",7),w()),t&2){let n=Ee().$implicit;ue("routerLink",n.path),F(2),_t(n.label)}}function uB(t,e){if(t&1&&(v(0,"a",8)(1,"span"),S(2),w(),k(3,"div",7),w()),t&2){let n=Ee().$implicit;ue("href",n.externalLink,rn),F(2),_t(n.label)}}function dB(t,e){if(t&1&&Ae(0,cB,4,2,"a",5)(1,uB,4,2),t&2){let n=e.$implicit;Be(0,n.path?0:n.externalLink?1:-1)}}function hB(t,e){if(t&1){let n=sn();v(0,"a",11),Ie("click",function(){tn(n);let i=Ee(3);return nn(i.closeDrawer())}),v(1,"span"),S(2),w(),k(3,"div",7),w()}if(t&2){let n=Ee().$implicit;ue("routerLink",n.path),F(2),_t(n.label)}}function fB(t,e){if(t&1){let n=sn();v(0,"a",12),Ie("click",function(){tn(n);let i=Ee(3);return nn(i.closeDrawer())}),v(1,"span"),S(2),w(),k(3,"div",7),w()}if(t&2){let n=Ee().$implicit;ue("href",n.externalLink,rn),F(2),_t(n.label)}}function pB(t,e){if(t&1&&Ae(0,hB,4,2,"a",5)(1,fB,4,2),t&2){let n=e.$implicit;Be(0,n.path?0:n.externalLink?1:-1)}}function mB(t,e){if(t&1){let n=sn();v(0,"div",9),Ie("click",function(){tn(n);let i=Ee();return nn(i.closeDrawer())}),w(),v(1,"div",10),yt(2,pB,2,1,null,null,Hh),w()}if(t&2){let n=Ee();F(2),vt(n.links())}}function gB(t,e){if(t&1){let n=sn();v(0,"img",13),Ie("click",function(){tn(n);let i=Ee();return nn(i.isOpened.set(!i.isOpened()))}),w()}}function yB(t,e){if(t&1){let n=sn();v(0,"img",14),Ie("click",function(){tn(n);let i=Ee();return nn(i.isOpened.set(!i.isOpened()))}),w()}}var PI=(()=>{let e=class e{constructor(){this.isOpened=Tn(!1),this.links=Tn([{label:"Le mariage",path:"/mariage"},{label:"Les h\xE9bergements",path:"/hebergements"},{label:"Notre liste",externalLink:"https://www.millemercismariage.com/daniel-madeleine/liste.html"},{label:"Les photos",path:"/galerie"}])}closeDrawer(){this.isOpened.set(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-header"]],standalone:!0,features:[ne],decls:9,vars:2,consts:[[1,"flex","h-28","flex-row","items-center","justify-between","p-3","px-6","font-title","lg:h-36","lg:justify-center","lg:p-6"],[1,"w-12","lg:hidden"],["src","assets/logo.svg","alt","logo",1,"h-24","lg:h-28"],[1,"ml-16","hidden","flex-row","items-center","bg-background","font-title","lg:flex"],["class","z-20 w-10 hover:cursor-pointer lg:hidden","src","assets/close.svg","alt","close","aria-hidden","true"],["class","relative m-5 text-2xl text-secondary","routerLinkActive","active",3,"routerLink"],["routerLinkActive","active",1,"relative","m-5","text-2xl","text-secondary",3,"routerLink"],[1,"line","absolute","hidden","h-[1px]","w-7","bg-secondary"],["target","_blank",1,"relative","m-5","text-2xl","text-secondary",3,"href"],["aria-hidden","true",1,"absolute","bottom-0","left-0","right-0","top-0","z-10","backdrop-blur-sm",3,"click"],[1,"absolute","right-2","top-24","z-20","ml-16","flex","animate-fade-in","flex-col","items-center","rounded-md","bg-background","font-title","shadow-md","lg:hidden"],["routerLinkActive","active",1,"relative","m-5","text-2xl","text-secondary",3,"routerLink","click"],["target","_blank",1,"relative","m-5","text-2xl","text-secondary",3,"href","click"],["src","assets/close.svg","alt","close","aria-hidden","true",1,"z-20","w-10","hover:cursor-pointer","lg:hidden",3,"click"],["src","assets/menu.svg","alt","menu","aria-hidden","true",1,"z-20","w-10","hover:cursor-pointer","lg:hidden",3,"click"]],template:function(i,s){i&1&&(v(0,"div",0),k(1,"div",1)(2,"img",2),v(3,"div",3),yt(4,dB,2,1,null,null,Hh),w(),Ae(6,mB,4,0)(7,gB,1,0,"img",4)(8,yB,1,0),w()),i&2&&(F(4),vt(s.links()),F(2),Be(6,s.isOpened()?6:-1),F(),Be(7,s.isOpened()?7:8))},dependencies:[le,uc,cD],styles:[".active[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{display:block}"],changeDetection:0});let t=e;return t})();var FI=(()=>{let e=class e{constructor(){this.renderer=g(Mt),this.doc=g(qe),this.appService=g(RI)}ngOnInit(){setTimeout(()=>{this.renderer.addClass(this.doc.getElementById("splash"),"opacity-0")},750),setTimeout(()=>{this.renderer.removeChild(this.doc.body,this.doc.getElementById("splash"))},1750),this.appService.initFirebase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=te({type:e,selectors:[["app-root"]],standalone:!0,features:[ne],decls:5,vars:0,consts:[[1,"relative","flex","h-full","flex-col"],[1,"relative","flex-1"]],template:function(i,s){i&1&&(v(0,"div",0),k(1,"app-header"),v(2,"main",1),k(3,"router-outlet"),w(),k(4,"app-footer"),w())},dependencies:[Uf,PI,OI],data:{animation:[]}});let t=e;return t})();TE(FI,eI).catch(t=>console.error(t));
